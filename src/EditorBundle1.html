<script>window.__ebc="var mP=Object.defineProperty;var gP=(Er,Un,nr)=>Un in Er?mP(Er,Un,{enumerable:!0,configurable:!0,writable:!0,value:nr}):Er[Un]=nr;var tt=(Er,Un,nr)=>gP(Er,typeof Un!=\"symbol\"?Un+\"\":Un,nr);(function(){\"use strict\";var eu;function Er(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,\"default\")?t.default:t}var Un={exports:{}},nr={},dd={exports:{}},Pe={};/**\n * @license React\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var vm;function Hv(){if(vm)return Pe;vm=1;var t=Symbol.for(\"react.element\"),e=Symbol.for(\"react.portal\"),n=Symbol.for(\"react.fragment\"),r=Symbol.for(\"react.strict_mode\"),i=Symbol.for(\"react.profiler\"),s=Symbol.for(\"react.provider\"),l=Symbol.for(\"react.context\"),c=Symbol.for(\"react.forward_ref\"),u=Symbol.for(\"react.suspense\"),d=Symbol.for(\"react.memo\"),p=Symbol.for(\"react.lazy\"),h=Symbol.iterator;function g(R){return R===null||typeof R!=\"object\"?null:(R=h&&R[h]||R[\"@@iterator\"],typeof R==\"function\"?R:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,w={};function v(R,F,xe){this.props=R,this.context=F,this.refs=w,this.updater=xe||y}v.prototype.isReactComponent={},v.prototype.setState=function(R,F){if(typeof R!=\"object\"&&typeof R!=\"function\"&&R!=null)throw Error(\"setState(...): takes an object of state variables to update or a function which returns an object of state variables.\");this.updater.enqueueSetState(this,R,F,\"setState\")},v.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,\"forceUpdate\")};function x(){}x.prototype=v.prototype;function N(R,F,xe){this.props=R,this.context=F,this.refs=w,this.updater=xe||y}var I=N.prototype=new x;I.constructor=N,k(I,v.prototype),I.isPureReactComponent=!0;var P=Array.isArray,O=Object.prototype.hasOwnProperty,z={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function J(R,F,xe){var Ie,ze={},Be=null,Je=null;if(F!=null)for(Ie in F.ref!==void 0&&(Je=F.ref),F.key!==void 0&&(Be=\"\"+F.key),F)O.call(F,Ie)&&!U.hasOwnProperty(Ie)&&(ze[Ie]=F[Ie]);var Ue=arguments.length-2;if(Ue===1)ze.children=xe;else if(1<Ue){for(var st=Array(Ue),Rt=0;Rt<Ue;Rt++)st[Rt]=arguments[Rt+2];ze.children=st}if(R&&R.defaultProps)for(Ie in Ue=R.defaultProps,Ue)ze[Ie]===void 0&&(ze[Ie]=Ue[Ie]);return{$$typeof:t,type:R,key:Be,ref:Je,props:ze,_owner:z.current}}function ne(R,F){return{$$typeof:t,type:R.type,key:F,ref:R.ref,props:R.props,_owner:R._owner}}function ie(R){return typeof R==\"object\"&&R!==null&&R.$$typeof===t}function fe(R){var F={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+R.replace(/[=:]/g,function(xe){return F[xe]})}var Ne=/\\/+/g;function se(R,F){return typeof R==\"object\"&&R!==null&&R.key!=null?fe(\"\"+R.key):F.toString(36)}function re(R,F,xe,Ie,ze){var Be=typeof R;(Be===\"undefined\"||Be===\"boolean\")&&(R=null);var Je=!1;if(R===null)Je=!0;else switch(Be){case\"string\":case\"number\":Je=!0;break;case\"object\":switch(R.$$typeof){case t:case e:Je=!0}}if(Je)return Je=R,ze=ze(Je),R=Ie===\"\"?\".\"+se(Je,0):Ie,P(ze)?(xe=\"\",R!=null&&(xe=R.replace(Ne,\"$&/\")+\"/\"),re(ze,F,xe,\"\",function(Rt){return Rt})):ze!=null&&(ie(ze)&&(ze=ne(ze,xe+(!ze.key||Je&&Je.key===ze.key?\"\":(\"\"+ze.key).replace(Ne,\"$&/\")+\"/\")+R)),F.push(ze)),1;if(Je=0,Ie=Ie===\"\"?\".\":Ie+\":\",P(R))for(var Ue=0;Ue<R.length;Ue++){Be=R[Ue];var st=Ie+se(Be,Ue);Je+=re(Be,F,xe,st,ze)}else if(st=g(R),typeof st==\"function\")for(R=st.call(R),Ue=0;!(Be=R.next()).done;)Be=Be.value,st=Ie+se(Be,Ue++),Je+=re(Be,F,xe,st,ze);else if(Be===\"object\")throw F=String(R),Error(\"Objects are not valid as a React child (found: \"+(F===\"[object Object]\"?\"object with keys {\"+Object.keys(R).join(\", \")+\"}\":F)+\"). If you meant to render a collection of children, use an array instead.\");return Je}function Ee(R,F,xe){if(R==null)return R;var Ie=[],ze=0;return re(R,Ie,\"\",\"\",function(Be){return F.call(xe,Be,ze++)}),Ie}function ge(R){if(R._status===-1){var F=R._result;F=F(),F.then(function(xe){(R._status===0||R._status===-1)&&(R._status=1,R._result=xe)},function(xe){(R._status===0||R._status===-1)&&(R._status=2,R._result=xe)}),R._status===-1&&(R._status=0,R._result=F)}if(R._status===1)return R._result.default;throw R._result}var ye={current:null},$={transition:null},V={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:$,ReactCurrentOwner:z};function q(){throw Error(\"act(...) is not supported in production builds of React.\")}return Pe.Children={map:Ee,forEach:function(R,F,xe){Ee(R,function(){F.apply(this,arguments)},xe)},count:function(R){var F=0;return Ee(R,function(){F++}),F},toArray:function(R){return Ee(R,function(F){return F})||[]},only:function(R){if(!ie(R))throw Error(\"React.Children.only expected to receive a single React element child.\");return R}},Pe.Component=v,Pe.Fragment=n,Pe.Profiler=i,Pe.PureComponent=N,Pe.StrictMode=r,Pe.Suspense=u,Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,Pe.act=q,Pe.cloneElement=function(R,F,xe){if(R==null)throw Error(\"React.cloneElement(...): The argument must be a React element, but you passed \"+R+\".\");var Ie=k({},R.props),ze=R.key,Be=R.ref,Je=R._owner;if(F!=null){if(F.ref!==void 0&&(Be=F.ref,Je=z.current),F.key!==void 0&&(ze=\"\"+F.key),R.type&&R.type.defaultProps)var Ue=R.type.defaultProps;for(st in F)O.call(F,st)&&!U.hasOwnProperty(st)&&(Ie[st]=F[st]===void 0&&Ue!==void 0?Ue[st]:F[st])}var st=arguments.length-2;if(st===1)Ie.children=xe;else if(1<st){Ue=Array(st);for(var Rt=0;Rt<st;Rt++)Ue[Rt]=arguments[Rt+2];Ie.children=Ue}return{$$typeof:t,type:R.type,key:ze,ref:Be,props:Ie,_owner:Je}},Pe.createContext=function(R){return R={$$typeof:l,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:s,_context:R},R.Consumer=R},Pe.createElement=J,Pe.createFactory=function(R){var F=J.bind(null,R);return F.type=R,F},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(R){return{$$typeof:c,render:R}},Pe.isValidElement=ie,Pe.lazy=function(R){return{$$typeof:p,_payload:{_status:-1,_result:R},_init:ge}},Pe.memo=function(R,F){return{$$typeof:d,type:R,compare:F===void 0?null:F}},Pe.startTransition=function(R){var F=$.transition;$.transition={};try{R()}finally{$.transition=F}},Pe.unstable_act=q,Pe.useCallback=function(R,F){return ye.current.useCallback(R,F)},Pe.useContext=function(R){return ye.current.useContext(R)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(R){return ye.current.useDeferredValue(R)},Pe.useEffect=function(R,F){return ye.current.useEffect(R,F)},Pe.useId=function(){return ye.current.useId()},Pe.useImperativeHandle=function(R,F,xe){return ye.current.useImperativeHandle(R,F,xe)},Pe.useInsertionEffect=function(R,F){return ye.current.useInsertionEffect(R,F)},Pe.useLayoutEffect=function(R,F){return ye.current.useLayoutEffect(R,F)},Pe.useMemo=function(R,F){return ye.current.useMemo(R,F)},Pe.useReducer=function(R,F,xe){return ye.current.useReducer(R,F,xe)},Pe.useRef=function(R){return ye.current.useRef(R)},Pe.useState=function(R){return ye.current.useState(R)},Pe.useSyncExternalStore=function(R,F,xe){return ye.current.useSyncExternalStore(R,F,xe)},Pe.useTransition=function(){return ye.current.useTransition()},Pe.version=\"18.3.1\",Pe}var xm;function Mo(){return xm||(xm=1,dd.exports=Hv()),dd.exports}/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var Sm;function jv(){if(Sm)return nr;Sm=1;var t=Mo(),e=Symbol.for(\"react.element\"),n=Symbol.for(\"react.fragment\"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(c,u,d){var p,h={},g=null,y=null;d!==void 0&&(g=\"\"+d),u.key!==void 0&&(g=\"\"+u.key),u.ref!==void 0&&(y=u.ref);for(p in u)r.call(u,p)&&!s.hasOwnProperty(p)&&(h[p]=u[p]);if(c&&c.defaultProps)for(p in u=c.defaultProps,u)h[p]===void 0&&(h[p]=u[p]);return{$$typeof:e,type:c,key:g,ref:y,props:h,_owner:i.current}}return nr.Fragment=n,nr.jsx=l,nr.jsxs=l,nr}var Cm;function Vv(){return Cm||(Cm=1,Un.exports=jv()),Un.exports}var T=Vv(),de=Mo();const $i=Er(de);var oa={},fd={exports:{}},pn={},pd={exports:{}},hd={};/**\n * @license React\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var Tm;function Wv(){return Tm||(Tm=1,(function(t){function e($,V){var q=$.length;$.push(V);e:for(;0<q;){var R=q-1>>>1,F=$[R];if(0<i(F,V))$[R]=V,$[q]=F,q=R;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var V=$[0],q=$.pop();if(q!==V){$[0]=q;e:for(var R=0,F=$.length,xe=F>>>1;R<xe;){var Ie=2*(R+1)-1,ze=$[Ie],Be=Ie+1,Je=$[Be];if(0>i(ze,q))Be<F&&0>i(Je,ze)?($[R]=Je,$[Be]=q,R=Be):($[R]=ze,$[Ie]=q,R=Ie);else if(Be<F&&0>i(Je,q))$[R]=Je,$[Be]=q,R=Be;else break e}}return V}function i($,V){var q=$.sortIndex-V.sortIndex;return q!==0?q:$.id-V.id}if(typeof performance==\"object\"&&typeof performance.now==\"function\"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var u=[],d=[],p=1,h=null,g=3,y=!1,k=!1,w=!1,v=typeof setTimeout==\"function\"?setTimeout:null,x=typeof clearTimeout==\"function\"?clearTimeout:null,N=typeof setImmediate<\"u\"?setImmediate:null;typeof navigator<\"u\"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I($){for(var V=n(d);V!==null;){if(V.callback===null)r(d);else if(V.startTime<=$)r(d),V.sortIndex=V.expirationTime,e(u,V);else break;V=n(d)}}function P($){if(w=!1,I($),!k)if(n(u)!==null)k=!0,ge(O);else{var V=n(d);V!==null&&ye(P,V.startTime-$)}}function O($,V){k=!1,w&&(w=!1,x(J),J=-1),y=!0;var q=g;try{for(I(V),h=n(u);h!==null&&(!(h.expirationTime>V)||$&&!fe());){var R=h.callback;if(typeof R==\"function\"){h.callback=null,g=h.priorityLevel;var F=R(h.expirationTime<=V);V=t.unstable_now(),typeof F==\"function\"?h.callback=F:h===n(u)&&r(u),I(V)}else r(u);h=n(u)}if(h!==null)var xe=!0;else{var Ie=n(d);Ie!==null&&ye(P,Ie.startTime-V),xe=!1}return xe}finally{h=null,g=q,y=!1}}var z=!1,U=null,J=-1,ne=5,ie=-1;function fe(){return!(t.unstable_now()-ie<ne)}function Ne(){if(U!==null){var $=t.unstable_now();ie=$;var V=!0;try{V=U(!0,$)}finally{V?se():(z=!1,U=null)}}else z=!1}var se;if(typeof N==\"function\")se=function(){N(Ne)};else if(typeof MessageChannel<\"u\"){var re=new MessageChannel,Ee=re.port2;re.port1.onmessage=Ne,se=function(){Ee.postMessage(null)}}else se=function(){v(Ne,0)};function ge($){U=$,z||(z=!0,se())}function ye($,V){J=v(function(){$(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){k||y||(k=!0,ge(O))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):ne=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function($){switch(g){case 1:case 2:case 3:var V=3;break;default:V=g}var q=g;g=V;try{return $()}finally{g=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,V){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var q=g;g=$;try{return V()}finally{g=q}},t.unstable_scheduleCallback=function($,V,q){var R=t.unstable_now();switch(typeof q==\"object\"&&q!==null?(q=q.delay,q=typeof q==\"number\"&&0<q?R+q:R):q=R,$){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=q+F,$={id:p++,callback:V,priorityLevel:$,startTime:q,expirationTime:F,sortIndex:-1},q>R?($.sortIndex=q,e(d,$),n(u)===null&&$===n(d)&&(w?(x(J),J=-1):w=!0,ye(P,q-R))):($.sortIndex=F,e(u,$),k||y||(k=!0,ge(O))),$},t.unstable_shouldYield=fe,t.unstable_wrapCallback=function($){var V=g;return function(){var q=g;g=V;try{return $.apply(this,arguments)}finally{g=q}}}})(hd)),hd}var _m;function Kv(){return _m||(_m=1,pd.exports=Wv()),pd.exports}/**\n * @license React\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var Nm;function qv(){if(Nm)return pn;Nm=1;var t=Mo(),e=Kv();function n(o){for(var a=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+o,f=1;f<arguments.length;f++)a+=\"&args[]=\"+encodeURIComponent(arguments[f]);return\"Minified React error #\"+o+\"; visit \"+a+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}var r=new Set,i={};function s(o,a){l(o,a),l(o+\"Capture\",a)}function l(o,a){for(i[o]=a,o=0;o<a.length;o++)r.add(a[o])}var c=!(typeof window>\"u\"||typeof window.document>\"u\"||typeof window.document.createElement>\"u\"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,p={},h={};function g(o){return u.call(h,o)?!0:u.call(p,o)?!1:d.test(o)?h[o]=!0:(p[o]=!0,!1)}function y(o,a,f,m){if(f!==null&&f.type===0)return!1;switch(typeof a){case\"function\":case\"symbol\":return!0;case\"boolean\":return m?!1:f!==null?!f.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!==\"data-\"&&o!==\"aria-\");default:return!1}}function k(o,a,f,m){if(a===null||typeof a>\"u\"||y(o,a,f,m))return!0;if(m)return!1;if(f!==null)switch(f.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function w(o,a,f,m,b,E,S){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=b,this.mustUseProperty=f,this.propertyName=o,this.type=a,this.sanitizeURL=E,this.removeEmptyString=S}var v={};\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(o){v[o]=new w(o,0,!1,o,null,!1,!1)}),[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(o){var a=o[0];v[a]=new w(a,1,!1,o[1],null,!1,!1)}),[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(o){v[o]=new w(o,2,!1,o.toLowerCase(),null,!1,!1)}),[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(o){v[o]=new w(o,2,!1,o,null,!1,!1)}),\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(o){v[o]=new w(o,3,!1,o.toLowerCase(),null,!1,!1)}),[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(o){v[o]=new w(o,3,!0,o,null,!1,!1)}),[\"capture\",\"download\"].forEach(function(o){v[o]=new w(o,4,!1,o,null,!1,!1)}),[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(o){v[o]=new w(o,6,!1,o,null,!1,!1)}),[\"rowSpan\",\"start\"].forEach(function(o){v[o]=new w(o,5,!1,o.toLowerCase(),null,!1,!1)});var x=/[\\-:]([a-z])/g;function N(o){return o[1].toUpperCase()}\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(o){var a=o.replace(x,N);v[a]=new w(a,1,!1,o,null,!1,!1)}),\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(o){var a=o.replace(x,N);v[a]=new w(a,1,!1,o,\"http://www.w3.org/1999/xlink\",!1,!1)}),[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(o){var a=o.replace(x,N);v[a]=new w(a,1,!1,o,\"http://www.w3.org/XML/1998/namespace\",!1,!1)}),[\"tabIndex\",\"crossOrigin\"].forEach(function(o){v[o]=new w(o,1,!1,o.toLowerCase(),null,!1,!1)}),v.xlinkHref=new w(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0,!1),[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(o){v[o]=new w(o,1,!1,o.toLowerCase(),null,!0,!0)});function I(o,a,f,m){var b=v.hasOwnProperty(a)?v[a]:null;(b!==null?b.type!==0:m||!(2<a.length)||a[0]!==\"o\"&&a[0]!==\"O\"||a[1]!==\"n\"&&a[1]!==\"N\")&&(k(a,f,b,m)&&(f=null),m||b===null?g(a)&&(f===null?o.removeAttribute(a):o.setAttribute(a,\"\"+f)):b.mustUseProperty?o[b.propertyName]=f===null?b.type===3?!1:\"\":f:(a=b.attributeName,m=b.attributeNamespace,f===null?o.removeAttribute(a):(b=b.type,f=b===3||b===4&&f===!0?\"\":\"\"+f,m?o.setAttributeNS(m,a,f):o.setAttribute(a,f))))}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for(\"react.element\"),z=Symbol.for(\"react.portal\"),U=Symbol.for(\"react.fragment\"),J=Symbol.for(\"react.strict_mode\"),ne=Symbol.for(\"react.profiler\"),ie=Symbol.for(\"react.provider\"),fe=Symbol.for(\"react.context\"),Ne=Symbol.for(\"react.forward_ref\"),se=Symbol.for(\"react.suspense\"),re=Symbol.for(\"react.suspense_list\"),Ee=Symbol.for(\"react.memo\"),ge=Symbol.for(\"react.lazy\"),ye=Symbol.for(\"react.offscreen\"),$=Symbol.iterator;function V(o){return o===null||typeof o!=\"object\"?null:(o=$&&o[$]||o[\"@@iterator\"],typeof o==\"function\"?o:null)}var q=Object.assign,R;function F(o){if(R===void 0)try{throw Error()}catch(f){var a=f.stack.trim().match(/\\n( *(at )?)/);R=a&&a[1]||\"\"}return`\n`+R+o}var xe=!1;function Ie(o,a){if(!o||xe)return\"\";xe=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,\"props\",{set:function(){throw Error()}}),typeof Reflect==\"object\"&&Reflect.construct){try{Reflect.construct(a,[])}catch(B){var m=B}Reflect.construct(o,[],a)}else{try{a.call()}catch(B){m=B}o.call(a.prototype)}else{try{throw Error()}catch(B){m=B}o()}}catch(B){if(B&&m&&typeof B.stack==\"string\"){for(var b=B.stack.split(`\n`),E=m.stack.split(`\n`),S=b.length-1,C=E.length-1;1<=S&&0<=C&&b[S]!==E[C];)C--;for(;1<=S&&0<=C;S--,C--)if(b[S]!==E[C]){if(S!==1||C!==1)do if(S--,C--,0>C||b[S]!==E[C]){var M=`\n`+b[S].replace(\" at new \",\" at \");return o.displayName&&M.includes(\"<anonymous>\")&&(M=M.replace(\"<anonymous>\",o.displayName)),M}while(1<=S&&0<=C);break}}}finally{xe=!1,Error.prepareStackTrace=f}return(o=o?o.displayName||o.name:\"\")?F(o):\"\"}function ze(o){switch(o.tag){case 5:return F(o.type);case 16:return F(\"Lazy\");case 13:return F(\"Suspense\");case 19:return F(\"SuspenseList\");case 0:case 2:case 15:return o=Ie(o.type,!1),o;case 11:return o=Ie(o.type.render,!1),o;case 1:return o=Ie(o.type,!0),o;default:return\"\"}}function Be(o){if(o==null)return null;if(typeof o==\"function\")return o.displayName||o.name||null;if(typeof o==\"string\")return o;switch(o){case U:return\"Fragment\";case z:return\"Portal\";case ne:return\"Profiler\";case J:return\"StrictMode\";case se:return\"Suspense\";case re:return\"SuspenseList\"}if(typeof o==\"object\")switch(o.$$typeof){case fe:return(o.displayName||\"Context\")+\".Consumer\";case ie:return(o._context.displayName||\"Context\")+\".Provider\";case Ne:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||\"\",o=o!==\"\"?\"ForwardRef(\"+o+\")\":\"ForwardRef\"),o;case Ee:return a=o.displayName||null,a!==null?a:Be(o.type)||\"Memo\";case ge:a=o._payload,o=o._init;try{return Be(o(a))}catch{}}return null}function Je(o){var a=o.type;switch(o.tag){case 24:return\"Cache\";case 9:return(a.displayName||\"Context\")+\".Consumer\";case 10:return(a._context.displayName||\"Context\")+\".Provider\";case 18:return\"DehydratedFragment\";case 11:return o=a.render,o=o.displayName||o.name||\"\",a.displayName||(o!==\"\"?\"ForwardRef(\"+o+\")\":\"ForwardRef\");case 7:return\"Fragment\";case 5:return a;case 4:return\"Portal\";case 3:return\"Root\";case 6:return\"Text\";case 16:return Be(a);case 8:return a===J?\"StrictMode\":\"Mode\";case 22:return\"Offscreen\";case 12:return\"Profiler\";case 21:return\"Scope\";case 13:return\"Suspense\";case 19:return\"SuspenseList\";case 25:return\"TracingMarker\";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a==\"function\")return a.displayName||a.name||null;if(typeof a==\"string\")return a}return null}function Ue(o){switch(typeof o){case\"boolean\":case\"number\":case\"string\":case\"undefined\":return o;case\"object\":return o;default:return\"\"}}function st(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()===\"input\"&&(a===\"checkbox\"||a===\"radio\")}function Rt(o){var a=st(o)?\"checked\":\"value\",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),m=\"\"+o[a];if(!o.hasOwnProperty(a)&&typeof f<\"u\"&&typeof f.get==\"function\"&&typeof f.set==\"function\"){var b=f.get,E=f.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return b.call(this)},set:function(S){m=\"\"+S,E.call(this,S)}}),Object.defineProperty(o,a,{enumerable:f.enumerable}),{getValue:function(){return m},setValue:function(S){m=\"\"+S},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function pi(o){o._valueTracker||(o._valueTracker=Rt(o))}function Xs(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var f=a.getValue(),m=\"\";return o&&(m=st(o)?o.checked?\"true\":\"false\":o.value),o=m,o!==f?(a.setValue(o),!0):!1}function hi(o){if(o=o||(typeof document<\"u\"?document:void 0),typeof o>\"u\")return null;try{return o.activeElement||o.body}catch{return o.body}}function ds(o,a){var f=a.checked;return q({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??o._wrapperState.initialChecked})}function eo(o,a){var f=a.defaultValue==null?\"\":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;f=Ue(a.value!=null?a.value:f),o._wrapperState={initialChecked:m,initialValue:f,controlled:a.type===\"checkbox\"||a.type===\"radio\"?a.checked!=null:a.value!=null}}function qe(o,a){a=a.checked,a!=null&&I(o,\"checked\",a,!1)}function ur(o,a){qe(o,a);var f=Ue(a.value),m=a.type;if(f!=null)m===\"number\"?(f===0&&o.value===\"\"||o.value!=f)&&(o.value=\"\"+f):o.value!==\"\"+f&&(o.value=\"\"+f);else if(m===\"submit\"||m===\"reset\"){o.removeAttribute(\"value\");return}a.hasOwnProperty(\"value\")?fs(o,a.type,f):a.hasOwnProperty(\"defaultValue\")&&fs(o,a.type,Ue(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function dr(o,a,f){if(a.hasOwnProperty(\"value\")||a.hasOwnProperty(\"defaultValue\")){var m=a.type;if(!(m!==\"submit\"&&m!==\"reset\"||a.value!==void 0&&a.value!==null))return;a=\"\"+o._wrapperState.initialValue,f||a===o.value||(o.value=a),o.defaultValue=a}f=o.name,f!==\"\"&&(o.name=\"\"),o.defaultChecked=!!o._wrapperState.initialChecked,f!==\"\"&&(o.name=f)}function fs(o,a,f){(a!==\"number\"||hi(o.ownerDocument)!==o)&&(f==null?o.defaultValue=\"\"+o._wrapperState.initialValue:o.defaultValue!==\"\"+f&&(o.defaultValue=\"\"+f))}var mi=Array.isArray;function gi(o,a,f,m){if(o=o.options,a){a={};for(var b=0;b<f.length;b++)a[\"$\"+f[b]]=!0;for(f=0;f<o.length;f++)b=a.hasOwnProperty(\"$\"+o[f].value),o[f].selected!==b&&(o[f].selected=b),b&&m&&(o[f].defaultSelected=!0)}else{for(f=\"\"+Ue(f),a=null,b=0;b<o.length;b++){if(o[b].value===f){o[b].selected=!0,m&&(o[b].defaultSelected=!0);return}a!==null||o[b].disabled||(a=o[b])}a!==null&&(a.selected=!0)}}function bl(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return q({},a,{value:void 0,defaultValue:void 0,children:\"\"+o._wrapperState.initialValue})}function kl(o,a){var f=a.value;if(f==null){if(f=a.children,a=a.defaultValue,f!=null){if(a!=null)throw Error(n(92));if(mi(f)){if(1<f.length)throw Error(n(93));f=f[0]}a=f}a==null&&(a=\"\"),f=a}o._wrapperState={initialValue:Ue(f)}}function fr(o,a){var f=Ue(a.value),m=Ue(a.defaultValue);f!=null&&(f=\"\"+f,f!==o.value&&(o.value=f),a.defaultValue==null&&o.defaultValue!==f&&(o.defaultValue=f)),m!=null&&(o.defaultValue=\"\"+m)}function El(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==\"\"&&a!==null&&(o.value=a)}function Or(o){switch(o){case\"svg\":return\"http://www.w3.org/2000/svg\";case\"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}function yi(o,a){return o==null||o===\"http://www.w3.org/1999/xhtml\"?Or(a):o===\"http://www.w3.org/2000/svg\"&&a===\"foreignObject\"?\"http://www.w3.org/1999/xhtml\":o}var ps,tu=(function(o){return typeof MSApp<\"u\"&&MSApp.execUnsafeLocalFunction?function(a,f,m,b){MSApp.execUnsafeLocalFunction(function(){return o(a,f,m,b)})}:o})(function(o,a){if(o.namespaceURI!==\"http://www.w3.org/2000/svg\"||\"innerHTML\"in o)o.innerHTML=a;else{for(ps=ps||document.createElement(\"div\"),ps.innerHTML=\"<svg>\"+a.valueOf().toString()+\"<\/svg>\",a=ps.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function hs(o,a){if(a){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=a;return}}o.textContent=a}var ms={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bp=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(ms).forEach(function(o){Bp.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),ms[a]=ms[o]})});function nu(o,a,f){return a==null||typeof a==\"boolean\"||a===\"\"?\"\":f||typeof a!=\"number\"||a===0||ms.hasOwnProperty(o)&&ms[o]?(\"\"+a).trim():a+\"px\"}function wl(o,a){o=o.style;for(var f in a)if(a.hasOwnProperty(f)){var m=f.indexOf(\"--\")===0,b=nu(f,a[f],m);f===\"float\"&&(f=\"cssFloat\"),m?o.setProperty(f,b):o[f]=b}}var zp=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vl(o,a){if(a){if(zp[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!=\"object\"||!(\"__html\"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!=\"object\")throw Error(n(62))}}function xl(o,a){if(o.indexOf(\"-\")===-1)return typeof a.is==\"string\";switch(o){case\"annotation-xml\":case\"color-profile\":case\"font-face\":case\"font-face-src\":case\"font-face-uri\":case\"font-face-format\":case\"font-face-name\":case\"missing-glyph\":return!1;default:return!0}}var gs=null;function to(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var no=null,bi=null,Ir=null;function Lr(o){if(o=Vl(o)){if(typeof no!=\"function\")throw Error(n(280));var a=o.stateNode;a&&(a=Cu(a),no(o.stateNode,o.type,a))}}function _(o){bi?Ir?Ir.push(o):Ir=[o]:bi=o}function H(){if(bi){var o=bi,a=Ir;if(Ir=bi=null,Lr(o),a)for(o=0;o<a.length;o++)Lr(a[o])}}function ee(o,a){return o(a)}function Ae(){}var ut=!1;function mt(o,a,f){if(ut)return o(a,f);ut=!0;try{return ee(o,a,f)}finally{ut=!1,(bi!==null||Ir!==null)&&(Ae(),H())}}function ae(o,a){var f=o.stateNode;if(f===null)return null;var m=Cu(f);if(m===null)return null;f=m[a];e:switch(a){case\"onClick\":case\"onClickCapture\":case\"onDoubleClick\":case\"onDoubleClickCapture\":case\"onMouseDown\":case\"onMouseDownCapture\":case\"onMouseMove\":case\"onMouseMoveCapture\":case\"onMouseUp\":case\"onMouseUpCapture\":case\"onMouseEnter\":(m=!m.disabled)||(o=o.type,m=!(o===\"button\"||o===\"input\"||o===\"select\"||o===\"textarea\")),o=!m;break e;default:o=!1}if(o)return null;if(f&&typeof f!=\"function\")throw Error(n(231,a,typeof f));return f}var le=!1;if(c)try{var Ce={};Object.defineProperty(Ce,\"passive\",{get:function(){le=!0}}),window.addEventListener(\"test\",Ce,Ce),window.removeEventListener(\"test\",Ce,Ce)}catch{le=!1}function Ot(o,a,f,m,b,E,S,C,M){var B=Array.prototype.slice.call(arguments,3);try{a.apply(f,B)}catch(K){this.onError(K)}}var lt=!1,pr=null,ki=!1,ys=null,$p={onError:function(o){lt=!0,pr=o}};function Sl(o,a,f,m,b,E,S,C,M){lt=!1,pr=null,Ot.apply($p,arguments)}function Fp(o,a,f,m,b,E,S,C,M){if(Sl.apply(this,arguments),lt){if(lt){var B=pr;lt=!1,pr=null}else throw Error(n(198));ki||(ki=!0,ys=B)}}function Dr(o){var a=o,f=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(f=a.return),o=a.return;while(o)}return a.tag===3?f:null}function ru(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function Cl(o){if(Dr(o)!==o)throw Error(n(188))}function ro(o){var a=o.alternate;if(!a){if(a=Dr(o),a===null)throw Error(n(188));return a!==o?null:o}for(var f=o,m=a;;){var b=f.return;if(b===null)break;var E=b.alternate;if(E===null){if(m=b.return,m!==null){f=m;continue}break}if(b.child===E.child){for(E=b.child;E;){if(E===f)return Cl(b),o;if(E===m)return Cl(b),a;E=E.sibling}throw Error(n(188))}if(f.return!==m.return)f=b,m=E;else{for(var S=!1,C=b.child;C;){if(C===f){S=!0,f=b,m=E;break}if(C===m){S=!0,m=b,f=E;break}C=C.sibling}if(!S){for(C=E.child;C;){if(C===f){S=!0,f=E,m=b;break}if(C===m){S=!0,m=E,f=b;break}C=C.sibling}if(!S)throw Error(n(189))}}if(f.alternate!==m)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?o:a}function iu(o){return o=ro(o),o!==null?su(o):null}function su(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=su(o);if(a!==null)return a;o=o.sibling}return null}var ou=e.unstable_scheduleCallback,Yn=e.unstable_cancelCallback,lu=e.unstable_shouldYield,au=e.unstable_requestPaint,bt=e.unstable_now,Up=e.unstable_getCurrentPriorityLevel,Tl=e.unstable_ImmediatePriority,bs=e.unstable_UserBlockingPriority,io=e.unstable_NormalPriority,Q=e.unstable_LowPriority,ve=e.unstable_IdlePriority,De=null,$e=null;function Tt(o){if($e&&typeof $e.onCommitFiberRoot==\"function\")try{$e.onCommitFiberRoot(De,o,void 0,(o.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:cn,hr=Math.log,so=Math.LN2;function cn(o){return o>>>=0,o===0?32:31-(hr(o)/so|0)|0}var un=64,ks=4194304;function Ei(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Es(o,a){var f=o.pendingLanes;if(f===0)return 0;var m=0,b=o.suspendedLanes,E=o.pingedLanes,S=f&268435455;if(S!==0){var C=S&~b;C!==0?m=Ei(C):(E&=S,E!==0&&(m=Ei(E)))}else S=f&~b,S!==0?m=Ei(S):E!==0&&(m=Ei(E));if(m===0)return 0;if(a!==0&&a!==m&&(a&b)===0&&(b=m&-m,E=a&-a,b>=E||b===16&&(E&4194240)!==0))return a;if((m&4)!==0&&(m|=f&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=m;0<a;)f=31-kt(a),b=1<<f,m|=o[f],a&=~b;return m}function Hp(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jp(o,a){for(var f=o.suspendedLanes,m=o.pingedLanes,b=o.expirationTimes,E=o.pendingLanes;0<E;){var S=31-kt(E),C=1<<S,M=b[S];M===-1?((C&f)===0||(C&m)!==0)&&(b[S]=Hp(C,a)):M<=a&&(o.expiredLanes|=C),E&=~C}}function _l(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function cu(){var o=un;return un<<=1,(un&4194240)===0&&(un=64),o}function wi(o){for(var a=[],f=0;31>f;f++)a.push(o);return a}function vi(o,a,f){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-kt(a),o[a]=f}function Ln(o,a){var f=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var m=o.eventTimes;for(o=o.expirationTimes;0<f;){var b=31-kt(f),E=1<<b;a[b]=0,m[b]=-1,o[b]=-1,f&=~E}}function Nl(o,a){var f=o.entangledLanes|=a;for(o=o.entanglements;f;){var m=31-kt(f),b=1<<m;b&a|o[m]&a&&(o[m]|=a),f&=~b}}var He=0;function Oe(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Ml,_t,Xe,ws,mr,vs=!1,xi=[],X=null,ce=null,Me=null,Fe=new Map,St=new Map,Ft=[],Vp=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit\".split(\" \");function uu(o,a){switch(o){case\"focusin\":case\"focusout\":X=null;break;case\"dragenter\":case\"dragleave\":ce=null;break;case\"mouseover\":case\"mouseout\":Me=null;break;case\"pointerover\":case\"pointerout\":Fe.delete(a.pointerId);break;case\"gotpointercapture\":case\"lostpointercapture\":St.delete(a.pointerId)}}function Al(o,a,f,m,b,E){return o===null||o.nativeEvent!==E?(o={blockedOn:a,domEventName:f,eventSystemFlags:m,nativeEvent:E,targetContainers:[b]},a!==null&&(a=Vl(a),a!==null&&_t(a)),o):(o.eventSystemFlags|=m,a=o.targetContainers,b!==null&&a.indexOf(b)===-1&&a.push(b),o)}function zL(o,a,f,m,b){switch(a){case\"focusin\":return X=Al(X,o,a,f,m,b),!0;case\"dragenter\":return ce=Al(ce,o,a,f,m,b),!0;case\"mouseover\":return Me=Al(Me,o,a,f,m,b),!0;case\"pointerover\":var E=b.pointerId;return Fe.set(E,Al(Fe.get(E)||null,o,a,f,m,b)),!0;case\"gotpointercapture\":return E=b.pointerId,St.set(E,Al(St.get(E)||null,o,a,f,m,b)),!0}return!1}function kE(o){var a=xs(o.target);if(a!==null){var f=Dr(a);if(f!==null){if(a=f.tag,a===13){if(a=ru(f),a!==null){o.blockedOn=a,mr(o.priority,function(){Xe(f)});return}}else if(a===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function du(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var f=Kp(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(f===null){f=o.nativeEvent;var m=new f.constructor(f.type,f);gs=m,f.target.dispatchEvent(m),gs=null}else return a=Vl(f),a!==null&&_t(a),o.blockedOn=f,!1;a.shift()}return!0}function EE(o,a,f){du(o)&&f.delete(a)}function $L(){vs=!1,X!==null&&du(X)&&(X=null),ce!==null&&du(ce)&&(ce=null),Me!==null&&du(Me)&&(Me=null),Fe.forEach(EE),St.forEach(EE)}function Rl(o,a){o.blockedOn===a&&(o.blockedOn=null,vs||(vs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,$L)))}function Ol(o){function a(b){return Rl(b,o)}if(0<xi.length){Rl(xi[0],o);for(var f=1;f<xi.length;f++){var m=xi[f];m.blockedOn===o&&(m.blockedOn=null)}}for(X!==null&&Rl(X,o),ce!==null&&Rl(ce,o),Me!==null&&Rl(Me,o),Fe.forEach(a),St.forEach(a),f=0;f<Ft.length;f++)m=Ft[f],m.blockedOn===o&&(m.blockedOn=null);for(;0<Ft.length&&(f=Ft[0],f.blockedOn===null);)kE(f),f.blockedOn===null&&Ft.shift()}var oo=P.ReactCurrentBatchConfig,fu=!0;function FL(o,a,f,m){var b=He,E=oo.transition;oo.transition=null;try{He=1,Wp(o,a,f,m)}finally{He=b,oo.transition=E}}function UL(o,a,f,m){var b=He,E=oo.transition;oo.transition=null;try{He=4,Wp(o,a,f,m)}finally{He=b,oo.transition=E}}function Wp(o,a,f,m){if(fu){var b=Kp(o,a,f,m);if(b===null)ch(o,a,m,pu,f),uu(o,m);else if(zL(b,o,a,f,m))m.stopPropagation();else if(uu(o,m),a&4&&-1<Vp.indexOf(o)){for(;b!==null;){var E=Vl(b);if(E!==null&&Ml(E),E=Kp(o,a,f,m),E===null&&ch(o,a,m,pu,f),E===b)break;b=E}b!==null&&m.stopPropagation()}else ch(o,a,m,null,f)}}var pu=null;function Kp(o,a,f,m){if(pu=null,o=to(m),o=xs(o),o!==null)if(a=Dr(o),a===null)o=null;else if(f=a.tag,f===13){if(o=ru(a),o!==null)return o;o=null}else if(f===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return pu=o,null}function wE(o){switch(o){case\"cancel\":case\"click\":case\"close\":case\"contextmenu\":case\"copy\":case\"cut\":case\"auxclick\":case\"dblclick\":case\"dragend\":case\"dragstart\":case\"drop\":case\"focusin\":case\"focusout\":case\"input\":case\"invalid\":case\"keydown\":case\"keypress\":case\"keyup\":case\"mousedown\":case\"mouseup\":case\"paste\":case\"pause\":case\"play\":case\"pointercancel\":case\"pointerdown\":case\"pointerup\":case\"ratechange\":case\"reset\":case\"resize\":case\"seeked\":case\"submit\":case\"touchcancel\":case\"touchend\":case\"touchstart\":case\"volumechange\":case\"change\":case\"selectionchange\":case\"textInput\":case\"compositionstart\":case\"compositionend\":case\"compositionupdate\":case\"beforeblur\":case\"afterblur\":case\"beforeinput\":case\"blur\":case\"fullscreenchange\":case\"focus\":case\"hashchange\":case\"popstate\":case\"select\":case\"selectstart\":return 1;case\"drag\":case\"dragenter\":case\"dragexit\":case\"dragleave\":case\"dragover\":case\"mousemove\":case\"mouseout\":case\"mouseover\":case\"pointermove\":case\"pointerout\":case\"pointerover\":case\"scroll\":case\"toggle\":case\"touchmove\":case\"wheel\":case\"mouseenter\":case\"mouseleave\":case\"pointerenter\":case\"pointerleave\":return 4;case\"message\":switch(Up()){case Tl:return 1;case bs:return 4;case io:case Q:return 16;case ve:return 536870912;default:return 16}default:return 16}}var Si=null,qp=null,hu=null;function vE(){if(hu)return hu;var o,a=qp,f=a.length,m,b=\"value\"in Si?Si.value:Si.textContent,E=b.length;for(o=0;o<f&&a[o]===b[o];o++);var S=f-o;for(m=1;m<=S&&a[f-m]===b[E-m];m++);return hu=b.slice(o,1<m?1-m:void 0)}function mu(o){var a=o.keyCode;return\"charCode\"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function gu(){return!0}function xE(){return!1}function Sn(o){function a(f,m,b,E,S){this._reactName=f,this._targetInst=b,this.type=m,this.nativeEvent=E,this.target=S,this.currentTarget=null;for(var C in o)o.hasOwnProperty(C)&&(f=o[C],this[C]=f?f(E):E[C]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?gu:xE,this.isPropagationStopped=xE,this}return q(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!=\"unknown\"&&(f.returnValue=!1),this.isDefaultPrevented=gu)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!=\"unknown\"&&(f.cancelBubble=!0),this.isPropagationStopped=gu)},persist:function(){},isPersistent:gu}),a}var lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gp=Sn(lo),Il=q({},lo,{view:0,detail:0}),HL=Sn(Il),Yp,Jp,Ll,yu=q({},Il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zp,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return\"movementX\"in o?o.movementX:(o!==Ll&&(Ll&&o.type===\"mousemove\"?(Yp=o.screenX-Ll.screenX,Jp=o.screenY-Ll.screenY):Jp=Yp=0,Ll=o),Yp)},movementY:function(o){return\"movementY\"in o?o.movementY:Jp}}),SE=Sn(yu),jL=q({},yu,{dataTransfer:0}),VL=Sn(jL),WL=q({},Il,{relatedTarget:0}),Qp=Sn(WL),KL=q({},lo,{animationName:0,elapsedTime:0,pseudoElement:0}),qL=Sn(KL),GL=q({},lo,{clipboardData:function(o){return\"clipboardData\"in o?o.clipboardData:window.clipboardData}}),YL=Sn(GL),JL=q({},lo,{data:0}),CE=Sn(JL),QL={Esc:\"Escape\",Spacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},ZL={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},XL={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function eD(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=XL[o])?!!a[o]:!1}function Zp(){return eD}var tD=q({},Il,{key:function(o){if(o.key){var a=QL[o.key]||o.key;if(a!==\"Unidentified\")return a}return o.type===\"keypress\"?(o=mu(o),o===13?\"Enter\":String.fromCharCode(o)):o.type===\"keydown\"||o.type===\"keyup\"?ZL[o.keyCode]||\"Unidentified\":\"\"},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zp,charCode:function(o){return o.type===\"keypress\"?mu(o):0},keyCode:function(o){return o.type===\"keydown\"||o.type===\"keyup\"?o.keyCode:0},which:function(o){return o.type===\"keypress\"?mu(o):o.type===\"keydown\"||o.type===\"keyup\"?o.keyCode:0}}),nD=Sn(tD),rD=q({},yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),TE=Sn(rD),iD=q({},Il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zp}),sD=Sn(iD),oD=q({},lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),lD=Sn(oD),aD=q({},yu,{deltaX:function(o){return\"deltaX\"in o?o.deltaX:\"wheelDeltaX\"in o?-o.wheelDeltaX:0},deltaY:function(o){return\"deltaY\"in o?o.deltaY:\"wheelDeltaY\"in o?-o.wheelDeltaY:\"wheelDelta\"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),cD=Sn(aD),uD=[9,13,27,32],Xp=c&&\"CompositionEvent\"in window,Dl=null;c&&\"documentMode\"in document&&(Dl=document.documentMode);var dD=c&&\"TextEvent\"in window&&!Dl,_E=c&&(!Xp||Dl&&8<Dl&&11>=Dl),NE=\" \",ME=!1;function AE(o,a){switch(o){case\"keyup\":return uD.indexOf(a.keyCode)!==-1;case\"keydown\":return a.keyCode!==229;case\"keypress\":case\"mousedown\":case\"focusout\":return!0;default:return!1}}function RE(o){return o=o.detail,typeof o==\"object\"&&\"data\"in o?o.data:null}var ao=!1;function fD(o,a){switch(o){case\"compositionend\":return RE(a);case\"keypress\":return a.which!==32?null:(ME=!0,NE);case\"textInput\":return o=a.data,o===NE&&ME?null:o;default:return null}}function pD(o,a){if(ao)return o===\"compositionend\"||!Xp&&AE(o,a)?(o=vE(),hu=qp=Si=null,ao=!1,o):null;switch(o){case\"paste\":return null;case\"keypress\":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case\"compositionend\":return _E&&a.locale!==\"ko\"?null:a.data;default:return null}}var hD={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function OE(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a===\"input\"?!!hD[o.type]:a===\"textarea\"}function IE(o,a,f,m){_(m),a=vu(a,\"onChange\"),0<a.length&&(f=new Gp(\"onChange\",\"change\",null,f,m),o.push({event:f,listeners:a}))}var Pl=null,Bl=null;function mD(o){QE(o,0)}function bu(o){var a=ho(o);if(Xs(a))return o}function gD(o,a){if(o===\"change\")return a}var LE=!1;if(c){var eh;if(c){var th=\"oninput\"in document;if(!th){var DE=document.createElement(\"div\");DE.setAttribute(\"oninput\",\"return;\"),th=typeof DE.oninput==\"function\"}eh=th}else eh=!1;LE=eh&&(!document.documentMode||9<document.documentMode)}function PE(){Pl&&(Pl.detachEvent(\"onpropertychange\",BE),Bl=Pl=null)}function BE(o){if(o.propertyName===\"value\"&&bu(Bl)){var a=[];IE(a,Bl,o,to(o)),mt(mD,a)}}function yD(o,a,f){o===\"focusin\"?(PE(),Pl=a,Bl=f,Pl.attachEvent(\"onpropertychange\",BE)):o===\"focusout\"&&PE()}function bD(o){if(o===\"selectionchange\"||o===\"keyup\"||o===\"keydown\")return bu(Bl)}function kD(o,a){if(o===\"click\")return bu(a)}function ED(o,a){if(o===\"input\"||o===\"change\")return bu(a)}function wD(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var Jn=typeof Object.is==\"function\"?Object.is:wD;function zl(o,a){if(Jn(o,a))return!0;if(typeof o!=\"object\"||o===null||typeof a!=\"object\"||a===null)return!1;var f=Object.keys(o),m=Object.keys(a);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var b=f[m];if(!u.call(a,b)||!Jn(o[b],a[b]))return!1}return!0}function zE(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function $E(o,a){var f=zE(o);o=0;for(var m;f;){if(f.nodeType===3){if(m=o+f.textContent.length,o<=a&&m>=a)return{node:f,offset:a-o};o=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=zE(f)}}function FE(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?FE(o,a.parentNode):\"contains\"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function UE(){for(var o=window,a=hi();a instanceof o.HTMLIFrameElement;){try{var f=typeof a.contentWindow.location.href==\"string\"}catch{f=!1}if(f)o=a.contentWindow;else break;a=hi(o.document)}return a}function nh(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a===\"input\"&&(o.type===\"text\"||o.type===\"search\"||o.type===\"tel\"||o.type===\"url\"||o.type===\"password\")||a===\"textarea\"||o.contentEditable===\"true\")}function vD(o){var a=UE(),f=o.focusedElem,m=o.selectionRange;if(a!==f&&f&&f.ownerDocument&&FE(f.ownerDocument.documentElement,f)){if(m!==null&&nh(f)){if(a=m.start,o=m.end,o===void 0&&(o=a),\"selectionStart\"in f)f.selectionStart=a,f.selectionEnd=Math.min(o,f.value.length);else if(o=(a=f.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var b=f.textContent.length,E=Math.min(m.start,b);m=m.end===void 0?E:Math.min(m.end,b),!o.extend&&E>m&&(b=m,m=E,E=b),b=$E(f,E);var S=$E(f,m);b&&S&&(o.rangeCount!==1||o.anchorNode!==b.node||o.anchorOffset!==b.offset||o.focusNode!==S.node||o.focusOffset!==S.offset)&&(a=a.createRange(),a.setStart(b.node,b.offset),o.removeAllRanges(),E>m?(o.addRange(a),o.extend(S.node,S.offset)):(a.setEnd(S.node,S.offset),o.addRange(a)))}}for(a=[],o=f;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof f.focus==\"function\"&&f.focus(),f=0;f<a.length;f++)o=a[f],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var xD=c&&\"documentMode\"in document&&11>=document.documentMode,co=null,rh=null,$l=null,ih=!1;function HE(o,a,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;ih||co==null||co!==hi(m)||(m=co,\"selectionStart\"in m&&nh(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),$l&&zl($l,m)||($l=m,m=vu(rh,\"onSelect\"),0<m.length&&(a=new Gp(\"onSelect\",\"select\",null,a,f),o.push({event:a,listeners:m}),a.target=co)))}function ku(o,a){var f={};return f[o.toLowerCase()]=a.toLowerCase(),f[\"Webkit\"+o]=\"webkit\"+a,f[\"Moz\"+o]=\"moz\"+a,f}var uo={animationend:ku(\"Animation\",\"AnimationEnd\"),animationiteration:ku(\"Animation\",\"AnimationIteration\"),animationstart:ku(\"Animation\",\"AnimationStart\"),transitionend:ku(\"Transition\",\"TransitionEnd\")},sh={},jE={};c&&(jE=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),\"TransitionEvent\"in window||delete uo.transitionend.transition);function Eu(o){if(sh[o])return sh[o];if(!uo[o])return o;var a=uo[o],f;for(f in a)if(a.hasOwnProperty(f)&&f in jE)return sh[o]=a[f];return o}var VE=Eu(\"animationend\"),WE=Eu(\"animationiteration\"),KE=Eu(\"animationstart\"),qE=Eu(\"transitionend\"),GE=new Map,YE=\"abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel\".split(\" \");function Ci(o,a){GE.set(o,a),s(a,[o])}for(var oh=0;oh<YE.length;oh++){var lh=YE[oh],SD=lh.toLowerCase(),CD=lh[0].toUpperCase()+lh.slice(1);Ci(SD,\"on\"+CD)}Ci(VE,\"onAnimationEnd\"),Ci(WE,\"onAnimationIteration\"),Ci(KE,\"onAnimationStart\"),Ci(\"dblclick\",\"onDoubleClick\"),Ci(\"focusin\",\"onFocus\"),Ci(\"focusout\",\"onBlur\"),Ci(qE,\"onTransitionEnd\"),l(\"onMouseEnter\",[\"mouseout\",\"mouseover\"]),l(\"onMouseLeave\",[\"mouseout\",\"mouseover\"]),l(\"onPointerEnter\",[\"pointerout\",\"pointerover\"]),l(\"onPointerLeave\",[\"pointerout\",\"pointerover\"]),s(\"onChange\",\"change click focusin focusout input keydown keyup selectionchange\".split(\" \")),s(\"onSelect\",\"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\" \")),s(\"onBeforeInput\",[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]),s(\"onCompositionEnd\",\"compositionend focusout keydown keypress keyup mousedown\".split(\" \")),s(\"onCompositionStart\",\"compositionstart focusout keydown keypress keyup mousedown\".split(\" \")),s(\"onCompositionUpdate\",\"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \"));var Fl=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),TD=new Set(\"cancel close invalid load scroll toggle\".split(\" \").concat(Fl));function JE(o,a,f){var m=o.type||\"unknown-event\";o.currentTarget=f,Fp(m,a,void 0,o),o.currentTarget=null}function QE(o,a){a=(a&4)!==0;for(var f=0;f<o.length;f++){var m=o[f],b=m.event;m=m.listeners;e:{var E=void 0;if(a)for(var S=m.length-1;0<=S;S--){var C=m[S],M=C.instance,B=C.currentTarget;if(C=C.listener,M!==E&&b.isPropagationStopped())break e;JE(b,C,B),E=M}else for(S=0;S<m.length;S++){if(C=m[S],M=C.instance,B=C.currentTarget,C=C.listener,M!==E&&b.isPropagationStopped())break e;JE(b,C,B),E=M}}}if(ki)throw o=ys,ki=!1,ys=null,o}function dt(o,a){var f=a[mh];f===void 0&&(f=a[mh]=new Set);var m=o+\"__bubble\";f.has(m)||(ZE(a,o,2,!1),f.add(m))}function ah(o,a,f){var m=0;a&&(m|=4),ZE(f,o,m,a)}var wu=\"_reactListening\"+Math.random().toString(36).slice(2);function Ul(o){if(!o[wu]){o[wu]=!0,r.forEach(function(f){f!==\"selectionchange\"&&(TD.has(f)||ah(f,!1,o),ah(f,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[wu]||(a[wu]=!0,ah(\"selectionchange\",!1,a))}}function ZE(o,a,f,m){switch(wE(a)){case 1:var b=FL;break;case 4:b=UL;break;default:b=Wp}f=b.bind(null,a,f,o),b=void 0,!le||a!==\"touchstart\"&&a!==\"touchmove\"&&a!==\"wheel\"||(b=!0),m?b!==void 0?o.addEventListener(a,f,{capture:!0,passive:b}):o.addEventListener(a,f,!0):b!==void 0?o.addEventListener(a,f,{passive:b}):o.addEventListener(a,f,!1)}function ch(o,a,f,m,b){var E=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var S=m.tag;if(S===3||S===4){var C=m.stateNode.containerInfo;if(C===b||C.nodeType===8&&C.parentNode===b)break;if(S===4)for(S=m.return;S!==null;){var M=S.tag;if((M===3||M===4)&&(M=S.stateNode.containerInfo,M===b||M.nodeType===8&&M.parentNode===b))return;S=S.return}for(;C!==null;){if(S=xs(C),S===null)return;if(M=S.tag,M===5||M===6){m=E=S;continue e}C=C.parentNode}}m=m.return}mt(function(){var B=E,K=to(f),G=[];e:{var W=GE.get(o);if(W!==void 0){var oe=Gp,pe=o;switch(o){case\"keypress\":if(mu(f)===0)break e;case\"keydown\":case\"keyup\":oe=nD;break;case\"focusin\":pe=\"focus\",oe=Qp;break;case\"focusout\":pe=\"blur\",oe=Qp;break;case\"beforeblur\":case\"afterblur\":oe=Qp;break;case\"click\":if(f.button===2)break e;case\"auxclick\":case\"dblclick\":case\"mousedown\":case\"mousemove\":case\"mouseup\":case\"mouseout\":case\"mouseover\":case\"contextmenu\":oe=SE;break;case\"drag\":case\"dragend\":case\"dragenter\":case\"dragexit\":case\"dragleave\":case\"dragover\":case\"dragstart\":case\"drop\":oe=VL;break;case\"touchcancel\":case\"touchend\":case\"touchmove\":case\"touchstart\":oe=sD;break;case VE:case WE:case KE:oe=qL;break;case qE:oe=lD;break;case\"scroll\":oe=HL;break;case\"wheel\":oe=cD;break;case\"copy\":case\"cut\":case\"paste\":oe=YL;break;case\"gotpointercapture\":case\"lostpointercapture\":case\"pointercancel\":case\"pointerdown\":case\"pointermove\":case\"pointerout\":case\"pointerover\":case\"pointerup\":oe=TE}var me=(a&4)!==0,Nt=!me&&o===\"scroll\",L=me?W!==null?W+\"Capture\":null:W;me=[];for(var A=B,D;A!==null;){D=A;var Z=D.stateNode;if(D.tag===5&&Z!==null&&(D=Z,L!==null&&(Z=ae(A,L),Z!=null&&me.push(Hl(A,Z,D)))),Nt)break;A=A.return}0<me.length&&(W=new oe(W,pe,null,f,K),G.push({event:W,listeners:me}))}}if((a&7)===0){e:{if(W=o===\"mouseover\"||o===\"pointerover\",oe=o===\"mouseout\"||o===\"pointerout\",W&&f!==gs&&(pe=f.relatedTarget||f.fromElement)&&(xs(pe)||pe[Pr]))break e;if((oe||W)&&(W=K.window===K?K:(W=K.ownerDocument)?W.defaultView||W.parentWindow:window,oe?(pe=f.relatedTarget||f.toElement,oe=B,pe=pe?xs(pe):null,pe!==null&&(Nt=Dr(pe),pe!==Nt||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(oe=null,pe=B),oe!==pe)){if(me=SE,Z=\"onMouseLeave\",L=\"onMouseEnter\",A=\"mouse\",(o===\"pointerout\"||o===\"pointerover\")&&(me=TE,Z=\"onPointerLeave\",L=\"onPointerEnter\",A=\"pointer\"),Nt=oe==null?W:ho(oe),D=pe==null?W:ho(pe),W=new me(Z,A+\"leave\",oe,f,K),W.target=Nt,W.relatedTarget=D,Z=null,xs(K)===B&&(me=new me(L,A+\"enter\",pe,f,K),me.target=D,me.relatedTarget=Nt,Z=me),Nt=Z,oe&&pe)t:{for(me=oe,L=pe,A=0,D=me;D;D=fo(D))A++;for(D=0,Z=L;Z;Z=fo(Z))D++;for(;0<A-D;)me=fo(me),A--;for(;0<D-A;)L=fo(L),D--;for(;A--;){if(me===L||L!==null&&me===L.alternate)break t;me=fo(me),L=fo(L)}me=null}else me=null;oe!==null&&XE(G,W,oe,me,!1),pe!==null&&Nt!==null&&XE(G,Nt,pe,me,!0)}}e:{if(W=B?ho(B):window,oe=W.nodeName&&W.nodeName.toLowerCase(),oe===\"select\"||oe===\"input\"&&W.type===\"file\")var be=gD;else if(OE(W))if(LE)be=ED;else{be=bD;var Te=yD}else(oe=W.nodeName)&&oe.toLowerCase()===\"input\"&&(W.type===\"checkbox\"||W.type===\"radio\")&&(be=kD);if(be&&(be=be(o,B))){IE(G,be,f,K);break e}Te&&Te(o,W,B),o===\"focusout\"&&(Te=W._wrapperState)&&Te.controlled&&W.type===\"number\"&&fs(W,\"number\",W.value)}switch(Te=B?ho(B):window,o){case\"focusin\":(OE(Te)||Te.contentEditable===\"true\")&&(co=Te,rh=B,$l=null);break;case\"focusout\":$l=rh=co=null;break;case\"mousedown\":ih=!0;break;case\"contextmenu\":case\"mouseup\":case\"dragend\":ih=!1,HE(G,f,K);break;case\"selectionchange\":if(xD)break;case\"keydown\":case\"keyup\":HE(G,f,K)}var _e;if(Xp)e:{switch(o){case\"compositionstart\":var Re=\"onCompositionStart\";break e;case\"compositionend\":Re=\"onCompositionEnd\";break e;case\"compositionupdate\":Re=\"onCompositionUpdate\";break e}Re=void 0}else ao?AE(o,f)&&(Re=\"onCompositionEnd\"):o===\"keydown\"&&f.keyCode===229&&(Re=\"onCompositionStart\");Re&&(_E&&f.locale!==\"ko\"&&(ao||Re!==\"onCompositionStart\"?Re===\"onCompositionEnd\"&&ao&&(_e=vE()):(Si=K,qp=\"value\"in Si?Si.value:Si.textContent,ao=!0)),Te=vu(B,Re),0<Te.length&&(Re=new CE(Re,o,null,f,K),G.push({event:Re,listeners:Te}),_e?Re.data=_e:(_e=RE(f),_e!==null&&(Re.data=_e)))),(_e=dD?fD(o,f):pD(o,f))&&(B=vu(B,\"onBeforeInput\"),0<B.length&&(K=new CE(\"onBeforeInput\",\"beforeinput\",null,f,K),G.push({event:K,listeners:B}),K.data=_e))}QE(G,a)})}function Hl(o,a,f){return{instance:o,listener:a,currentTarget:f}}function vu(o,a){for(var f=a+\"Capture\",m=[];o!==null;){var b=o,E=b.stateNode;b.tag===5&&E!==null&&(b=E,E=ae(o,f),E!=null&&m.unshift(Hl(o,E,b)),E=ae(o,a),E!=null&&m.push(Hl(o,E,b))),o=o.return}return m}function fo(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function XE(o,a,f,m,b){for(var E=a._reactName,S=[];f!==null&&f!==m;){var C=f,M=C.alternate,B=C.stateNode;if(M!==null&&M===m)break;C.tag===5&&B!==null&&(C=B,b?(M=ae(f,E),M!=null&&S.unshift(Hl(f,M,C))):b||(M=ae(f,E),M!=null&&S.push(Hl(f,M,C)))),f=f.return}S.length!==0&&o.push({event:a,listeners:S})}var _D=/\\r\\n?/g,ND=/\\u0000|\\uFFFD/g;function ew(o){return(typeof o==\"string\"?o:\"\"+o).replace(_D,`\n`).replace(ND,\"\")}function xu(o,a,f){if(a=ew(a),ew(o)!==a&&f)throw Error(n(425))}function Su(){}var uh=null,dh=null;function fh(o,a){return o===\"textarea\"||o===\"noscript\"||typeof a.children==\"string\"||typeof a.children==\"number\"||typeof a.dangerouslySetInnerHTML==\"object\"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var ph=typeof setTimeout==\"function\"?setTimeout:void 0,MD=typeof clearTimeout==\"function\"?clearTimeout:void 0,tw=typeof Promise==\"function\"?Promise:void 0,AD=typeof queueMicrotask==\"function\"?queueMicrotask:typeof tw<\"u\"?function(o){return tw.resolve(null).then(o).catch(RD)}:ph;function RD(o){setTimeout(function(){throw o})}function hh(o,a){var f=a,m=0;do{var b=f.nextSibling;if(o.removeChild(f),b&&b.nodeType===8)if(f=b.data,f===\"/$\"){if(m===0){o.removeChild(b),Ol(a);return}m--}else f!==\"$\"&&f!==\"$?\"&&f!==\"$!\"||m++;f=b}while(f);Ol(a)}function Ti(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a===\"$\"||a===\"$!\"||a===\"$?\")break;if(a===\"/$\")return null}}return o}function nw(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var f=o.data;if(f===\"$\"||f===\"$!\"||f===\"$?\"){if(a===0)return o;a--}else f===\"/$\"&&a++}o=o.previousSibling}return null}var po=Math.random().toString(36).slice(2),gr=\"__reactFiber$\"+po,jl=\"__reactProps$\"+po,Pr=\"__reactContainer$\"+po,mh=\"__reactEvents$\"+po,OD=\"__reactListeners$\"+po,ID=\"__reactHandles$\"+po;function xs(o){var a=o[gr];if(a)return a;for(var f=o.parentNode;f;){if(a=f[Pr]||f[gr]){if(f=a.alternate,a.child!==null||f!==null&&f.child!==null)for(o=nw(o);o!==null;){if(f=o[gr])return f;o=nw(o)}return a}o=f,f=o.parentNode}return null}function Vl(o){return o=o[gr]||o[Pr],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ho(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function Cu(o){return o[jl]||null}var gh=[],mo=-1;function _i(o){return{current:o}}function ft(o){0>mo||(o.current=gh[mo],gh[mo]=null,mo--)}function at(o,a){mo++,gh[mo]=o.current,o.current=a}var Ni={},en=_i(Ni),gn=_i(!1),Ss=Ni;function go(o,a){var f=o.type.contextTypes;if(!f)return Ni;var m=o.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var b={},E;for(E in f)b[E]=a[E];return m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=b),b}function yn(o){return o=o.childContextTypes,o!=null}function Tu(){ft(gn),ft(en)}function rw(o,a,f){if(en.current!==Ni)throw Error(n(168));at(en,a),at(gn,f)}function iw(o,a,f){var m=o.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!=\"function\")return f;m=m.getChildContext();for(var b in m)if(!(b in a))throw Error(n(108,Je(o)||\"Unknown\",b));return q({},f,m)}function _u(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Ni,Ss=en.current,at(en,o),at(gn,gn.current),!0}function sw(o,a,f){var m=o.stateNode;if(!m)throw Error(n(169));f?(o=iw(o,a,Ss),m.__reactInternalMemoizedMergedChildContext=o,ft(gn),ft(en),at(en,o)):ft(gn),at(gn,f)}var Br=null,Nu=!1,yh=!1;function ow(o){Br===null?Br=[o]:Br.push(o)}function LD(o){Nu=!0,ow(o)}function Mi(){if(!yh&&Br!==null){yh=!0;var o=0,a=He;try{var f=Br;for(He=1;o<f.length;o++){var m=f[o];do m=m(!0);while(m!==null)}Br=null,Nu=!1}catch(b){throw Br!==null&&(Br=Br.slice(o+1)),ou(Tl,Mi),b}finally{He=a,yh=!1}}return null}var yo=[],bo=0,Mu=null,Au=0,Dn=[],Pn=0,Cs=null,zr=1,$r=\"\";function Ts(o,a){yo[bo++]=Au,yo[bo++]=Mu,Mu=o,Au=a}function lw(o,a,f){Dn[Pn++]=zr,Dn[Pn++]=$r,Dn[Pn++]=Cs,Cs=o;var m=zr;o=$r;var b=32-kt(m)-1;m&=~(1<<b),f+=1;var E=32-kt(a)+b;if(30<E){var S=b-b%5;E=(m&(1<<S)-1).toString(32),m>>=S,b-=S,zr=1<<32-kt(a)+b|f<<b|m,$r=E+o}else zr=1<<E|f<<b|m,$r=o}function bh(o){o.return!==null&&(Ts(o,1),lw(o,1,0))}function kh(o){for(;o===Mu;)Mu=yo[--bo],yo[bo]=null,Au=yo[--bo],yo[bo]=null;for(;o===Cs;)Cs=Dn[--Pn],Dn[Pn]=null,$r=Dn[--Pn],Dn[Pn]=null,zr=Dn[--Pn],Dn[Pn]=null}var Cn=null,Tn=null,gt=!1,Qn=null;function aw(o,a){var f=Fn(5,null,null,0);f.elementType=\"DELETED\",f.stateNode=a,f.return=o,a=o.deletions,a===null?(o.deletions=[f],o.flags|=16):a.push(f)}function cw(o,a){switch(o.tag){case 5:var f=o.type;return a=a.nodeType!==1||f.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,Cn=o,Tn=Ti(a.firstChild),!0):!1;case 6:return a=o.pendingProps===\"\"||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,Cn=o,Tn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(f=Cs!==null?{id:zr,overflow:$r}:null,o.memoizedState={dehydrated:a,treeContext:f,retryLane:1073741824},f=Fn(18,null,null,0),f.stateNode=a,f.return=o,o.child=f,Cn=o,Tn=null,!0):!1;default:return!1}}function Eh(o){return(o.mode&1)!==0&&(o.flags&128)===0}function wh(o){if(gt){var a=Tn;if(a){var f=a;if(!cw(o,a)){if(Eh(o))throw Error(n(418));a=Ti(f.nextSibling);var m=Cn;a&&cw(o,a)?aw(m,f):(o.flags=o.flags&-4097|2,gt=!1,Cn=o)}}else{if(Eh(o))throw Error(n(418));o.flags=o.flags&-4097|2,gt=!1,Cn=o}}}function uw(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Cn=o}function Ru(o){if(o!==Cn)return!1;if(!gt)return uw(o),gt=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!==\"head\"&&a!==\"body\"&&!fh(o.type,o.memoizedProps)),a&&(a=Tn)){if(Eh(o))throw dw(),Error(n(418));for(;a;)aw(o,a),a=Ti(a.nextSibling)}if(uw(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var f=o.data;if(f===\"/$\"){if(a===0){Tn=Ti(o.nextSibling);break e}a--}else f!==\"$\"&&f!==\"$!\"&&f!==\"$?\"||a++}o=o.nextSibling}Tn=null}}else Tn=Cn?Ti(o.stateNode.nextSibling):null;return!0}function dw(){for(var o=Tn;o;)o=Ti(o.nextSibling)}function ko(){Tn=Cn=null,gt=!1}function vh(o){Qn===null?Qn=[o]:Qn.push(o)}var DD=P.ReactCurrentBatchConfig;function Wl(o,a,f){if(o=f.ref,o!==null&&typeof o!=\"function\"&&typeof o!=\"object\"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(n(309));var m=f.stateNode}if(!m)throw Error(n(147,o));var b=m,E=\"\"+o;return a!==null&&a.ref!==null&&typeof a.ref==\"function\"&&a.ref._stringRef===E?a.ref:(a=function(S){var C=b.refs;S===null?delete C[E]:C[E]=S},a._stringRef=E,a)}if(typeof o!=\"string\")throw Error(n(284));if(!f._owner)throw Error(n(290,o))}return o}function Ou(o,a){throw o=Object.prototype.toString.call(a),Error(n(31,o===\"[object Object]\"?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":o))}function fw(o){var a=o._init;return a(o._payload)}function pw(o){function a(L,A){if(o){var D=L.deletions;D===null?(L.deletions=[A],L.flags|=16):D.push(A)}}function f(L,A){if(!o)return null;for(;A!==null;)a(L,A),A=A.sibling;return null}function m(L,A){for(L=new Map;A!==null;)A.key!==null?L.set(A.key,A):L.set(A.index,A),A=A.sibling;return L}function b(L,A){return L=Bi(L,A),L.index=0,L.sibling=null,L}function E(L,A,D){return L.index=D,o?(D=L.alternate,D!==null?(D=D.index,D<A?(L.flags|=2,A):D):(L.flags|=2,A)):(L.flags|=1048576,A)}function S(L){return o&&L.alternate===null&&(L.flags|=2),L}function C(L,A,D,Z){return A===null||A.tag!==6?(A=pm(D,L.mode,Z),A.return=L,A):(A=b(A,D),A.return=L,A)}function M(L,A,D,Z){var be=D.type;return be===U?K(L,A,D.props.children,Z,D.key):A!==null&&(A.elementType===be||typeof be==\"object\"&&be!==null&&be.$$typeof===ge&&fw(be)===A.type)?(Z=b(A,D.props),Z.ref=Wl(L,A,D),Z.return=L,Z):(Z=nd(D.type,D.key,D.props,null,L.mode,Z),Z.ref=Wl(L,A,D),Z.return=L,Z)}function B(L,A,D,Z){return A===null||A.tag!==4||A.stateNode.containerInfo!==D.containerInfo||A.stateNode.implementation!==D.implementation?(A=hm(D,L.mode,Z),A.return=L,A):(A=b(A,D.children||[]),A.return=L,A)}function K(L,A,D,Z,be){return A===null||A.tag!==7?(A=Ls(D,L.mode,Z,be),A.return=L,A):(A=b(A,D),A.return=L,A)}function G(L,A,D){if(typeof A==\"string\"&&A!==\"\"||typeof A==\"number\")return A=pm(\"\"+A,L.mode,D),A.return=L,A;if(typeof A==\"object\"&&A!==null){switch(A.$$typeof){case O:return D=nd(A.type,A.key,A.props,null,L.mode,D),D.ref=Wl(L,null,A),D.return=L,D;case z:return A=hm(A,L.mode,D),A.return=L,A;case ge:var Z=A._init;return G(L,Z(A._payload),D)}if(mi(A)||V(A))return A=Ls(A,L.mode,D,null),A.return=L,A;Ou(L,A)}return null}function W(L,A,D,Z){var be=A!==null?A.key:null;if(typeof D==\"string\"&&D!==\"\"||typeof D==\"number\")return be!==null?null:C(L,A,\"\"+D,Z);if(typeof D==\"object\"&&D!==null){switch(D.$$typeof){case O:return D.key===be?M(L,A,D,Z):null;case z:return D.key===be?B(L,A,D,Z):null;case ge:return be=D._init,W(L,A,be(D._payload),Z)}if(mi(D)||V(D))return be!==null?null:K(L,A,D,Z,null);Ou(L,D)}return null}function oe(L,A,D,Z,be){if(typeof Z==\"string\"&&Z!==\"\"||typeof Z==\"number\")return L=L.get(D)||null,C(A,L,\"\"+Z,be);if(typeof Z==\"object\"&&Z!==null){switch(Z.$$typeof){case O:return L=L.get(Z.key===null?D:Z.key)||null,M(A,L,Z,be);case z:return L=L.get(Z.key===null?D:Z.key)||null,B(A,L,Z,be);case ge:var Te=Z._init;return oe(L,A,D,Te(Z._payload),be)}if(mi(Z)||V(Z))return L=L.get(D)||null,K(A,L,Z,be,null);Ou(A,Z)}return null}function pe(L,A,D,Z){for(var be=null,Te=null,_e=A,Re=A=0,jt=null;_e!==null&&Re<D.length;Re++){_e.index>Re?(jt=_e,_e=null):jt=_e.sibling;var We=W(L,_e,D[Re],Z);if(We===null){_e===null&&(_e=jt);break}o&&_e&&We.alternate===null&&a(L,_e),A=E(We,A,Re),Te===null?be=We:Te.sibling=We,Te=We,_e=jt}if(Re===D.length)return f(L,_e),gt&&Ts(L,Re),be;if(_e===null){for(;Re<D.length;Re++)_e=G(L,D[Re],Z),_e!==null&&(A=E(_e,A,Re),Te===null?be=_e:Te.sibling=_e,Te=_e);return gt&&Ts(L,Re),be}for(_e=m(L,_e);Re<D.length;Re++)jt=oe(_e,L,Re,D[Re],Z),jt!==null&&(o&&jt.alternate!==null&&_e.delete(jt.key===null?Re:jt.key),A=E(jt,A,Re),Te===null?be=jt:Te.sibling=jt,Te=jt);return o&&_e.forEach(function(zi){return a(L,zi)}),gt&&Ts(L,Re),be}function me(L,A,D,Z){var be=V(D);if(typeof be!=\"function\")throw Error(n(150));if(D=be.call(D),D==null)throw Error(n(151));for(var Te=be=null,_e=A,Re=A=0,jt=null,We=D.next();_e!==null&&!We.done;Re++,We=D.next()){_e.index>Re?(jt=_e,_e=null):jt=_e.sibling;var zi=W(L,_e,We.value,Z);if(zi===null){_e===null&&(_e=jt);break}o&&_e&&zi.alternate===null&&a(L,_e),A=E(zi,A,Re),Te===null?be=zi:Te.sibling=zi,Te=zi,_e=jt}if(We.done)return f(L,_e),gt&&Ts(L,Re),be;if(_e===null){for(;!We.done;Re++,We=D.next())We=G(L,We.value,Z),We!==null&&(A=E(We,A,Re),Te===null?be=We:Te.sibling=We,Te=We);return gt&&Ts(L,Re),be}for(_e=m(L,_e);!We.done;Re++,We=D.next())We=oe(_e,L,Re,We.value,Z),We!==null&&(o&&We.alternate!==null&&_e.delete(We.key===null?Re:We.key),A=E(We,A,Re),Te===null?be=We:Te.sibling=We,Te=We);return o&&_e.forEach(function(hP){return a(L,hP)}),gt&&Ts(L,Re),be}function Nt(L,A,D,Z){if(typeof D==\"object\"&&D!==null&&D.type===U&&D.key===null&&(D=D.props.children),typeof D==\"object\"&&D!==null){switch(D.$$typeof){case O:e:{for(var be=D.key,Te=A;Te!==null;){if(Te.key===be){if(be=D.type,be===U){if(Te.tag===7){f(L,Te.sibling),A=b(Te,D.props.children),A.return=L,L=A;break e}}else if(Te.elementType===be||typeof be==\"object\"&&be!==null&&be.$$typeof===ge&&fw(be)===Te.type){f(L,Te.sibling),A=b(Te,D.props),A.ref=Wl(L,Te,D),A.return=L,L=A;break e}f(L,Te);break}else a(L,Te);Te=Te.sibling}D.type===U?(A=Ls(D.props.children,L.mode,Z,D.key),A.return=L,L=A):(Z=nd(D.type,D.key,D.props,null,L.mode,Z),Z.ref=Wl(L,A,D),Z.return=L,L=Z)}return S(L);case z:e:{for(Te=D.key;A!==null;){if(A.key===Te)if(A.tag===4&&A.stateNode.containerInfo===D.containerInfo&&A.stateNode.implementation===D.implementation){f(L,A.sibling),A=b(A,D.children||[]),A.return=L,L=A;break e}else{f(L,A);break}else a(L,A);A=A.sibling}A=hm(D,L.mode,Z),A.return=L,L=A}return S(L);case ge:return Te=D._init,Nt(L,A,Te(D._payload),Z)}if(mi(D))return pe(L,A,D,Z);if(V(D))return me(L,A,D,Z);Ou(L,D)}return typeof D==\"string\"&&D!==\"\"||typeof D==\"number\"?(D=\"\"+D,A!==null&&A.tag===6?(f(L,A.sibling),A=b(A,D),A.return=L,L=A):(f(L,A),A=pm(D,L.mode,Z),A.return=L,L=A),S(L)):f(L,A)}return Nt}var Eo=pw(!0),hw=pw(!1),Iu=_i(null),Lu=null,wo=null,xh=null;function Sh(){xh=wo=Lu=null}function Ch(o){var a=Iu.current;ft(Iu),o._currentValue=a}function Th(o,a,f){for(;o!==null;){var m=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),o===f)break;o=o.return}}function vo(o,a){Lu=o,xh=wo=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&a)!==0&&(bn=!0),o.firstContext=null)}function Bn(o){var a=o._currentValue;if(xh!==o)if(o={context:o,memoizedValue:a,next:null},wo===null){if(Lu===null)throw Error(n(308));wo=o,Lu.dependencies={lanes:0,firstContext:o}}else wo=wo.next=o;return a}var _s=null;function _h(o){_s===null?_s=[o]:_s.push(o)}function mw(o,a,f,m){var b=a.interleaved;return b===null?(f.next=f,_h(a)):(f.next=b.next,b.next=f),a.interleaved=f,Fr(o,m)}function Fr(o,a){o.lanes|=a;var f=o.alternate;for(f!==null&&(f.lanes|=a),f=o,o=o.return;o!==null;)o.childLanes|=a,f=o.alternate,f!==null&&(f.childLanes|=a),f=o,o=o.return;return f.tag===3?f.stateNode:null}var Ai=!1;function Nh(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gw(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Ur(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function Ri(o,a,f){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(je&2)!==0){var b=m.pending;return b===null?a.next=a:(a.next=b.next,b.next=a),m.pending=a,Fr(o,f)}return b=m.interleaved,b===null?(a.next=a,_h(m)):(a.next=b.next,b.next=a),m.interleaved=a,Fr(o,f)}function Du(o,a,f){if(a=a.updateQueue,a!==null&&(a=a.shared,(f&4194240)!==0)){var m=a.lanes;m&=o.pendingLanes,f|=m,a.lanes=f,Nl(o,f)}}function yw(o,a){var f=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var b=null,E=null;if(f=f.firstBaseUpdate,f!==null){do{var S={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};E===null?b=E=S:E=E.next=S,f=f.next}while(f!==null);E===null?b=E=a:E=E.next=a}else b=E=a;f={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:E,shared:m.shared,effects:m.effects},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=a:o.next=a,f.lastBaseUpdate=a}function Pu(o,a,f,m){var b=o.updateQueue;Ai=!1;var E=b.firstBaseUpdate,S=b.lastBaseUpdate,C=b.shared.pending;if(C!==null){b.shared.pending=null;var M=C,B=M.next;M.next=null,S===null?E=B:S.next=B,S=M;var K=o.alternate;K!==null&&(K=K.updateQueue,C=K.lastBaseUpdate,C!==S&&(C===null?K.firstBaseUpdate=B:C.next=B,K.lastBaseUpdate=M))}if(E!==null){var G=b.baseState;S=0,K=B=M=null,C=E;do{var W=C.lane,oe=C.eventTime;if((m&W)===W){K!==null&&(K=K.next={eventTime:oe,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var pe=o,me=C;switch(W=a,oe=f,me.tag){case 1:if(pe=me.payload,typeof pe==\"function\"){G=pe.call(oe,G,W);break e}G=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,W=typeof pe==\"function\"?pe.call(oe,G,W):pe,W==null)break e;G=q({},G,W);break e;case 2:Ai=!0}}C.callback!==null&&C.lane!==0&&(o.flags|=64,W=b.effects,W===null?b.effects=[C]:W.push(C))}else oe={eventTime:oe,lane:W,tag:C.tag,payload:C.payload,callback:C.callback,next:null},K===null?(B=K=oe,M=G):K=K.next=oe,S|=W;if(C=C.next,C===null){if(C=b.shared.pending,C===null)break;W=C,C=W.next,W.next=null,b.lastBaseUpdate=W,b.shared.pending=null}}while(!0);if(K===null&&(M=G),b.baseState=M,b.firstBaseUpdate=B,b.lastBaseUpdate=K,a=b.shared.interleaved,a!==null){b=a;do S|=b.lane,b=b.next;while(b!==a)}else E===null&&(b.shared.lanes=0);As|=S,o.lanes=S,o.memoizedState=G}}function bw(o,a,f){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var m=o[a],b=m.callback;if(b!==null){if(m.callback=null,m=f,typeof b!=\"function\")throw Error(n(191,b));b.call(m)}}}var Kl={},yr=_i(Kl),ql=_i(Kl),Gl=_i(Kl);function Ns(o){if(o===Kl)throw Error(n(174));return o}function Mh(o,a){switch(at(Gl,a),at(ql,o),at(yr,Kl),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:yi(null,\"\");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=yi(a,o)}ft(yr),at(yr,a)}function xo(){ft(yr),ft(ql),ft(Gl)}function kw(o){Ns(Gl.current);var a=Ns(yr.current),f=yi(a,o.type);a!==f&&(at(ql,o),at(yr,f))}function Ah(o){ql.current===o&&(ft(yr),ft(ql))}var Et=_i(0);function Bu(o){for(var a=o;a!==null;){if(a.tag===13){var f=a.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data===\"$?\"||f.data===\"$!\"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Rh=[];function Oh(){for(var o=0;o<Rh.length;o++)Rh[o]._workInProgressVersionPrimary=null;Rh.length=0}var zu=P.ReactCurrentDispatcher,Ih=P.ReactCurrentBatchConfig,Ms=0,wt=null,Dt=null,Ut=null,$u=!1,Yl=!1,Jl=0,PD=0;function tn(){throw Error(n(321))}function Lh(o,a){if(a===null)return!1;for(var f=0;f<a.length&&f<o.length;f++)if(!Jn(o[f],a[f]))return!1;return!0}function Dh(o,a,f,m,b,E){if(Ms=E,wt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,zu.current=o===null||o.memoizedState===null?FD:UD,o=f(m,b),Yl){E=0;do{if(Yl=!1,Jl=0,25<=E)throw Error(n(301));E+=1,Ut=Dt=null,a.updateQueue=null,zu.current=HD,o=f(m,b)}while(Yl)}if(zu.current=Hu,a=Dt!==null&&Dt.next!==null,Ms=0,Ut=Dt=wt=null,$u=!1,a)throw Error(n(300));return o}function Ph(){var o=Jl!==0;return Jl=0,o}function br(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?wt.memoizedState=Ut=o:Ut=Ut.next=o,Ut}function zn(){if(Dt===null){var o=wt.alternate;o=o!==null?o.memoizedState:null}else o=Dt.next;var a=Ut===null?wt.memoizedState:Ut.next;if(a!==null)Ut=a,Dt=o;else{if(o===null)throw Error(n(310));Dt=o,o={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Ut===null?wt.memoizedState=Ut=o:Ut=Ut.next=o}return Ut}function Ql(o,a){return typeof a==\"function\"?a(o):a}function Bh(o){var a=zn(),f=a.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=o;var m=Dt,b=m.baseQueue,E=f.pending;if(E!==null){if(b!==null){var S=b.next;b.next=E.next,E.next=S}m.baseQueue=b=E,f.pending=null}if(b!==null){E=b.next,m=m.baseState;var C=S=null,M=null,B=E;do{var K=B.lane;if((Ms&K)===K)M!==null&&(M=M.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),m=B.hasEagerState?B.eagerState:o(m,B.action);else{var G={lane:K,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};M===null?(C=M=G,S=m):M=M.next=G,wt.lanes|=K,As|=K}B=B.next}while(B!==null&&B!==E);M===null?S=m:M.next=C,Jn(m,a.memoizedState)||(bn=!0),a.memoizedState=m,a.baseState=S,a.baseQueue=M,f.lastRenderedState=m}if(o=f.interleaved,o!==null){b=o;do E=b.lane,wt.lanes|=E,As|=E,b=b.next;while(b!==o)}else b===null&&(f.lanes=0);return[a.memoizedState,f.dispatch]}function zh(o){var a=zn(),f=a.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=o;var m=f.dispatch,b=f.pending,E=a.memoizedState;if(b!==null){f.pending=null;var S=b=b.next;do E=o(E,S.action),S=S.next;while(S!==b);Jn(E,a.memoizedState)||(bn=!0),a.memoizedState=E,a.baseQueue===null&&(a.baseState=E),f.lastRenderedState=E}return[E,m]}function Ew(){}function ww(o,a){var f=wt,m=zn(),b=a(),E=!Jn(m.memoizedState,b);if(E&&(m.memoizedState=b,bn=!0),m=m.queue,$h(Sw.bind(null,f,m,o),[o]),m.getSnapshot!==a||E||Ut!==null&&Ut.memoizedState.tag&1){if(f.flags|=2048,Zl(9,xw.bind(null,f,m,b,a),void 0,null),Ht===null)throw Error(n(349));(Ms&30)!==0||vw(f,a,b)}return b}function vw(o,a,f){o.flags|=16384,o={getSnapshot:a,value:f},a=wt.updateQueue,a===null?(a={lastEffect:null,stores:null},wt.updateQueue=a,a.stores=[o]):(f=a.stores,f===null?a.stores=[o]:f.push(o))}function xw(o,a,f,m){a.value=f,a.getSnapshot=m,Cw(a)&&Tw(o)}function Sw(o,a,f){return f(function(){Cw(a)&&Tw(o)})}function Cw(o){var a=o.getSnapshot;o=o.value;try{var f=a();return!Jn(o,f)}catch{return!0}}function Tw(o){var a=Fr(o,1);a!==null&&tr(a,o,1,-1)}function _w(o){var a=br();return typeof o==\"function\"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ql,lastRenderedState:o},a.queue=o,o=o.dispatch=$D.bind(null,wt,o),[a.memoizedState,o]}function Zl(o,a,f,m){return o={tag:o,create:a,destroy:f,deps:m,next:null},a=wt.updateQueue,a===null?(a={lastEffect:null,stores:null},wt.updateQueue=a,a.lastEffect=o.next=o):(f=a.lastEffect,f===null?a.lastEffect=o.next=o:(m=f.next,f.next=o,o.next=m,a.lastEffect=o)),o}function Nw(){return zn().memoizedState}function Fu(o,a,f,m){var b=br();wt.flags|=o,b.memoizedState=Zl(1|a,f,void 0,m===void 0?null:m)}function Uu(o,a,f,m){var b=zn();m=m===void 0?null:m;var E=void 0;if(Dt!==null){var S=Dt.memoizedState;if(E=S.destroy,m!==null&&Lh(m,S.deps)){b.memoizedState=Zl(a,f,E,m);return}}wt.flags|=o,b.memoizedState=Zl(1|a,f,E,m)}function Mw(o,a){return Fu(8390656,8,o,a)}function $h(o,a){return Uu(2048,8,o,a)}function Aw(o,a){return Uu(4,2,o,a)}function Rw(o,a){return Uu(4,4,o,a)}function Ow(o,a){if(typeof a==\"function\")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function Iw(o,a,f){return f=f!=null?f.concat([o]):null,Uu(4,4,Ow.bind(null,a,o),f)}function Fh(){}function Lw(o,a){var f=zn();a=a===void 0?null:a;var m=f.memoizedState;return m!==null&&a!==null&&Lh(a,m[1])?m[0]:(f.memoizedState=[o,a],o)}function Dw(o,a){var f=zn();a=a===void 0?null:a;var m=f.memoizedState;return m!==null&&a!==null&&Lh(a,m[1])?m[0]:(o=o(),f.memoizedState=[o,a],o)}function Pw(o,a,f){return(Ms&21)===0?(o.baseState&&(o.baseState=!1,bn=!0),o.memoizedState=f):(Jn(f,a)||(f=cu(),wt.lanes|=f,As|=f,o.baseState=!0),a)}function BD(o,a){var f=He;He=f!==0&&4>f?f:4,o(!0);var m=Ih.transition;Ih.transition={};try{o(!1),a()}finally{He=f,Ih.transition=m}}function Bw(){return zn().memoizedState}function zD(o,a,f){var m=Di(o);if(f={lane:m,action:f,hasEagerState:!1,eagerState:null,next:null},zw(o))$w(a,f);else if(f=mw(o,a,f,m),f!==null){var b=fn();tr(f,o,m,b),Fw(f,a,m)}}function $D(o,a,f){var m=Di(o),b={lane:m,action:f,hasEagerState:!1,eagerState:null,next:null};if(zw(o))$w(a,b);else{var E=o.alternate;if(o.lanes===0&&(E===null||E.lanes===0)&&(E=a.lastRenderedReducer,E!==null))try{var S=a.lastRenderedState,C=E(S,f);if(b.hasEagerState=!0,b.eagerState=C,Jn(C,S)){var M=a.interleaved;M===null?(b.next=b,_h(a)):(b.next=M.next,M.next=b),a.interleaved=b;return}}catch{}finally{}f=mw(o,a,b,m),f!==null&&(b=fn(),tr(f,o,m,b),Fw(f,a,m))}}function zw(o){var a=o.alternate;return o===wt||a!==null&&a===wt}function $w(o,a){Yl=$u=!0;var f=o.pending;f===null?a.next=a:(a.next=f.next,f.next=a),o.pending=a}function Fw(o,a,f){if((f&4194240)!==0){var m=a.lanes;m&=o.pendingLanes,f|=m,a.lanes=f,Nl(o,f)}}var Hu={readContext:Bn,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},FD={readContext:Bn,useCallback:function(o,a){return br().memoizedState=[o,a===void 0?null:a],o},useContext:Bn,useEffect:Mw,useImperativeHandle:function(o,a,f){return f=f!=null?f.concat([o]):null,Fu(4194308,4,Ow.bind(null,a,o),f)},useLayoutEffect:function(o,a){return Fu(4194308,4,o,a)},useInsertionEffect:function(o,a){return Fu(4,2,o,a)},useMemo:function(o,a){var f=br();return a=a===void 0?null:a,o=o(),f.memoizedState=[o,a],o},useReducer:function(o,a,f){var m=br();return a=f!==void 0?f(a):a,m.memoizedState=m.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},m.queue=o,o=o.dispatch=zD.bind(null,wt,o),[m.memoizedState,o]},useRef:function(o){var a=br();return o={current:o},a.memoizedState=o},useState:_w,useDebugValue:Fh,useDeferredValue:function(o){return br().memoizedState=o},useTransition:function(){var o=_w(!1),a=o[0];return o=BD.bind(null,o[1]),br().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,f){var m=wt,b=br();if(gt){if(f===void 0)throw Error(n(407));f=f()}else{if(f=a(),Ht===null)throw Error(n(349));(Ms&30)!==0||vw(m,a,f)}b.memoizedState=f;var E={value:f,getSnapshot:a};return b.queue=E,Mw(Sw.bind(null,m,E,o),[o]),m.flags|=2048,Zl(9,xw.bind(null,m,E,f,a),void 0,null),f},useId:function(){var o=br(),a=Ht.identifierPrefix;if(gt){var f=$r,m=zr;f=(m&~(1<<32-kt(m)-1)).toString(32)+f,a=\":\"+a+\"R\"+f,f=Jl++,0<f&&(a+=\"H\"+f.toString(32)),a+=\":\"}else f=PD++,a=\":\"+a+\"r\"+f.toString(32)+\":\";return o.memoizedState=a},unstable_isNewReconciler:!1},UD={readContext:Bn,useCallback:Lw,useContext:Bn,useEffect:$h,useImperativeHandle:Iw,useInsertionEffect:Aw,useLayoutEffect:Rw,useMemo:Dw,useReducer:Bh,useRef:Nw,useState:function(){return Bh(Ql)},useDebugValue:Fh,useDeferredValue:function(o){var a=zn();return Pw(a,Dt.memoizedState,o)},useTransition:function(){var o=Bh(Ql)[0],a=zn().memoizedState;return[o,a]},useMutableSource:Ew,useSyncExternalStore:ww,useId:Bw,unstable_isNewReconciler:!1},HD={readContext:Bn,useCallback:Lw,useContext:Bn,useEffect:$h,useImperativeHandle:Iw,useInsertionEffect:Aw,useLayoutEffect:Rw,useMemo:Dw,useReducer:zh,useRef:Nw,useState:function(){return zh(Ql)},useDebugValue:Fh,useDeferredValue:function(o){var a=zn();return Dt===null?a.memoizedState=o:Pw(a,Dt.memoizedState,o)},useTransition:function(){var o=zh(Ql)[0],a=zn().memoizedState;return[o,a]},useMutableSource:Ew,useSyncExternalStore:ww,useId:Bw,unstable_isNewReconciler:!1};function Zn(o,a){if(o&&o.defaultProps){a=q({},a),o=o.defaultProps;for(var f in o)a[f]===void 0&&(a[f]=o[f]);return a}return a}function Uh(o,a,f,m){a=o.memoizedState,f=f(m,a),f=f==null?a:q({},a,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var ju={isMounted:function(o){return(o=o._reactInternals)?Dr(o)===o:!1},enqueueSetState:function(o,a,f){o=o._reactInternals;var m=fn(),b=Di(o),E=Ur(m,b);E.payload=a,f!=null&&(E.callback=f),a=Ri(o,E,b),a!==null&&(tr(a,o,b,m),Du(a,o,b))},enqueueReplaceState:function(o,a,f){o=o._reactInternals;var m=fn(),b=Di(o),E=Ur(m,b);E.tag=1,E.payload=a,f!=null&&(E.callback=f),a=Ri(o,E,b),a!==null&&(tr(a,o,b,m),Du(a,o,b))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var f=fn(),m=Di(o),b=Ur(f,m);b.tag=2,a!=null&&(b.callback=a),a=Ri(o,b,m),a!==null&&(tr(a,o,m,f),Du(a,o,m))}};function Uw(o,a,f,m,b,E,S){return o=o.stateNode,typeof o.shouldComponentUpdate==\"function\"?o.shouldComponentUpdate(m,E,S):a.prototype&&a.prototype.isPureReactComponent?!zl(f,m)||!zl(b,E):!0}function Hw(o,a,f){var m=!1,b=Ni,E=a.contextType;return typeof E==\"object\"&&E!==null?E=Bn(E):(b=yn(a)?Ss:en.current,m=a.contextTypes,E=(m=m!=null)?go(o,b):Ni),a=new a(f,E),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=ju,o.stateNode=a,a._reactInternals=o,m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=b,o.__reactInternalMemoizedMaskedChildContext=E),a}function jw(o,a,f,m){o=a.state,typeof a.componentWillReceiveProps==\"function\"&&a.componentWillReceiveProps(f,m),typeof a.UNSAFE_componentWillReceiveProps==\"function\"&&a.UNSAFE_componentWillReceiveProps(f,m),a.state!==o&&ju.enqueueReplaceState(a,a.state,null)}function Hh(o,a,f,m){var b=o.stateNode;b.props=f,b.state=o.memoizedState,b.refs={},Nh(o);var E=a.contextType;typeof E==\"object\"&&E!==null?b.context=Bn(E):(E=yn(a)?Ss:en.current,b.context=go(o,E)),b.state=o.memoizedState,E=a.getDerivedStateFromProps,typeof E==\"function\"&&(Uh(o,a,E,f),b.state=o.memoizedState),typeof a.getDerivedStateFromProps==\"function\"||typeof b.getSnapshotBeforeUpdate==\"function\"||typeof b.UNSAFE_componentWillMount!=\"function\"&&typeof b.componentWillMount!=\"function\"||(a=b.state,typeof b.componentWillMount==\"function\"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount==\"function\"&&b.UNSAFE_componentWillMount(),a!==b.state&&ju.enqueueReplaceState(b,b.state,null),Pu(o,f,b,m),b.state=o.memoizedState),typeof b.componentDidMount==\"function\"&&(o.flags|=4194308)}function So(o,a){try{var f=\"\",m=a;do f+=ze(m),m=m.return;while(m);var b=f}catch(E){b=`\nError generating stack: `+E.message+`\n`+E.stack}return{value:o,source:a,stack:b,digest:null}}function jh(o,a,f){return{value:o,source:null,stack:f??null,digest:a??null}}function Vh(o,a){try{console.error(a.value)}catch(f){setTimeout(function(){throw f})}}var jD=typeof WeakMap==\"function\"?WeakMap:Map;function Vw(o,a,f){f=Ur(-1,f),f.tag=3,f.payload={element:null};var m=a.value;return f.callback=function(){Ju||(Ju=!0,sm=m),Vh(o,a)},f}function Ww(o,a,f){f=Ur(-1,f),f.tag=3;var m=o.type.getDerivedStateFromError;if(typeof m==\"function\"){var b=a.value;f.payload=function(){return m(b)},f.callback=function(){Vh(o,a)}}var E=o.stateNode;return E!==null&&typeof E.componentDidCatch==\"function\"&&(f.callback=function(){Vh(o,a),typeof m!=\"function\"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var S=a.stack;this.componentDidCatch(a.value,{componentStack:S!==null?S:\"\"})}),f}function Kw(o,a,f){var m=o.pingCache;if(m===null){m=o.pingCache=new jD;var b=new Set;m.set(a,b)}else b=m.get(a),b===void 0&&(b=new Set,m.set(a,b));b.has(f)||(b.add(f),o=rP.bind(null,o,a,f),a.then(o,o))}function qw(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function Gw(o,a,f,m,b){return(o.mode&1)===0?(o===a?o.flags|=65536:(o.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(a=Ur(-1,1),a.tag=2,Ri(f,a,1))),f.lanes|=1),o):(o.flags|=65536,o.lanes=b,o)}var VD=P.ReactCurrentOwner,bn=!1;function dn(o,a,f,m){a.child=o===null?hw(a,null,f,m):Eo(a,o.child,f,m)}function Yw(o,a,f,m,b){f=f.render;var E=a.ref;return vo(a,b),m=Dh(o,a,f,m,E,b),f=Ph(),o!==null&&!bn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~b,Hr(o,a,b)):(gt&&f&&bh(a),a.flags|=1,dn(o,a,m,b),a.child)}function Jw(o,a,f,m,b){if(o===null){var E=f.type;return typeof E==\"function\"&&!fm(E)&&E.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(a.tag=15,a.type=E,Qw(o,a,E,m,b)):(o=nd(f.type,null,m,a,a.mode,b),o.ref=a.ref,o.return=a,a.child=o)}if(E=o.child,(o.lanes&b)===0){var S=E.memoizedProps;if(f=f.compare,f=f!==null?f:zl,f(S,m)&&o.ref===a.ref)return Hr(o,a,b)}return a.flags|=1,o=Bi(E,m),o.ref=a.ref,o.return=a,a.child=o}function Qw(o,a,f,m,b){if(o!==null){var E=o.memoizedProps;if(zl(E,m)&&o.ref===a.ref)if(bn=!1,a.pendingProps=m=E,(o.lanes&b)!==0)(o.flags&131072)!==0&&(bn=!0);else return a.lanes=o.lanes,Hr(o,a,b)}return Wh(o,a,f,m,b)}function Zw(o,a,f){var m=a.pendingProps,b=m.children,E=o!==null?o.memoizedState:null;if(m.mode===\"hidden\")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(To,_n),_n|=f;else{if((f&1073741824)===0)return o=E!==null?E.baseLanes|f:f,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,at(To,_n),_n|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=E!==null?E.baseLanes:f,at(To,_n),_n|=m}else E!==null?(m=E.baseLanes|f,a.memoizedState=null):m=f,at(To,_n),_n|=m;return dn(o,a,b,f),a.child}function Xw(o,a){var f=a.ref;(o===null&&f!==null||o!==null&&o.ref!==f)&&(a.flags|=512,a.flags|=2097152)}function Wh(o,a,f,m,b){var E=yn(f)?Ss:en.current;return E=go(a,E),vo(a,b),f=Dh(o,a,f,m,E,b),m=Ph(),o!==null&&!bn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~b,Hr(o,a,b)):(gt&&m&&bh(a),a.flags|=1,dn(o,a,f,b),a.child)}function ev(o,a,f,m,b){if(yn(f)){var E=!0;_u(a)}else E=!1;if(vo(a,b),a.stateNode===null)Wu(o,a),Hw(a,f,m),Hh(a,f,m,b),m=!0;else if(o===null){var S=a.stateNode,C=a.memoizedProps;S.props=C;var M=S.context,B=f.contextType;typeof B==\"object\"&&B!==null?B=Bn(B):(B=yn(f)?Ss:en.current,B=go(a,B));var K=f.getDerivedStateFromProps,G=typeof K==\"function\"||typeof S.getSnapshotBeforeUpdate==\"function\";G||typeof S.UNSAFE_componentWillReceiveProps!=\"function\"&&typeof S.componentWillReceiveProps!=\"function\"||(C!==m||M!==B)&&jw(a,S,m,B),Ai=!1;var W=a.memoizedState;S.state=W,Pu(a,m,S,b),M=a.memoizedState,C!==m||W!==M||gn.current||Ai?(typeof K==\"function\"&&(Uh(a,f,K,m),M=a.memoizedState),(C=Ai||Uw(a,f,C,m,W,M,B))?(G||typeof S.UNSAFE_componentWillMount!=\"function\"&&typeof S.componentWillMount!=\"function\"||(typeof S.componentWillMount==\"function\"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount==\"function\"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount==\"function\"&&(a.flags|=4194308)):(typeof S.componentDidMount==\"function\"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=M),S.props=m,S.state=M,S.context=B,m=C):(typeof S.componentDidMount==\"function\"&&(a.flags|=4194308),m=!1)}else{S=a.stateNode,gw(o,a),C=a.memoizedProps,B=a.type===a.elementType?C:Zn(a.type,C),S.props=B,G=a.pendingProps,W=S.context,M=f.contextType,typeof M==\"object\"&&M!==null?M=Bn(M):(M=yn(f)?Ss:en.current,M=go(a,M));var oe=f.getDerivedStateFromProps;(K=typeof oe==\"function\"||typeof S.getSnapshotBeforeUpdate==\"function\")||typeof S.UNSAFE_componentWillReceiveProps!=\"function\"&&typeof S.componentWillReceiveProps!=\"function\"||(C!==G||W!==M)&&jw(a,S,m,M),Ai=!1,W=a.memoizedState,S.state=W,Pu(a,m,S,b);var pe=a.memoizedState;C!==G||W!==pe||gn.current||Ai?(typeof oe==\"function\"&&(Uh(a,f,oe,m),pe=a.memoizedState),(B=Ai||Uw(a,f,B,m,W,pe,M)||!1)?(K||typeof S.UNSAFE_componentWillUpdate!=\"function\"&&typeof S.componentWillUpdate!=\"function\"||(typeof S.componentWillUpdate==\"function\"&&S.componentWillUpdate(m,pe,M),typeof S.UNSAFE_componentWillUpdate==\"function\"&&S.UNSAFE_componentWillUpdate(m,pe,M)),typeof S.componentDidUpdate==\"function\"&&(a.flags|=4),typeof S.getSnapshotBeforeUpdate==\"function\"&&(a.flags|=1024)):(typeof S.componentDidUpdate!=\"function\"||C===o.memoizedProps&&W===o.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!=\"function\"||C===o.memoizedProps&&W===o.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=pe),S.props=m,S.state=pe,S.context=M,m=B):(typeof S.componentDidUpdate!=\"function\"||C===o.memoizedProps&&W===o.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!=\"function\"||C===o.memoizedProps&&W===o.memoizedState||(a.flags|=1024),m=!1)}return Kh(o,a,f,m,E,b)}function Kh(o,a,f,m,b,E){Xw(o,a);var S=(a.flags&128)!==0;if(!m&&!S)return b&&sw(a,f,!1),Hr(o,a,E);m=a.stateNode,VD.current=a;var C=S&&typeof f.getDerivedStateFromError!=\"function\"?null:m.render();return a.flags|=1,o!==null&&S?(a.child=Eo(a,o.child,null,E),a.child=Eo(a,null,C,E)):dn(o,a,C,E),a.memoizedState=m.state,b&&sw(a,f,!0),a.child}function tv(o){var a=o.stateNode;a.pendingContext?rw(o,a.pendingContext,a.pendingContext!==a.context):a.context&&rw(o,a.context,!1),Mh(o,a.containerInfo)}function nv(o,a,f,m,b){return ko(),vh(b),a.flags|=256,dn(o,a,f,m),a.child}var qh={dehydrated:null,treeContext:null,retryLane:0};function Gh(o){return{baseLanes:o,cachePool:null,transitions:null}}function rv(o,a,f){var m=a.pendingProps,b=Et.current,E=!1,S=(a.flags&128)!==0,C;if((C=S)||(C=o!==null&&o.memoizedState===null?!1:(b&2)!==0),C?(E=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(b|=1),at(Et,b&1),o===null)return wh(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((a.mode&1)===0?a.lanes=1:o.data===\"$!\"?a.lanes=8:a.lanes=1073741824,null):(S=m.children,o=m.fallback,E?(m=a.mode,E=a.child,S={mode:\"hidden\",children:S},(m&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=S):E=rd(S,m,0,null),o=Ls(o,m,f,null),E.return=a,o.return=a,E.sibling=o,a.child=E,a.child.memoizedState=Gh(f),a.memoizedState=qh,o):Yh(a,S));if(b=o.memoizedState,b!==null&&(C=b.dehydrated,C!==null))return WD(o,a,S,m,C,b,f);if(E){E=m.fallback,S=a.mode,b=o.child,C=b.sibling;var M={mode:\"hidden\",children:m.children};return(S&1)===0&&a.child!==b?(m=a.child,m.childLanes=0,m.pendingProps=M,a.deletions=null):(m=Bi(b,M),m.subtreeFlags=b.subtreeFlags&14680064),C!==null?E=Bi(C,E):(E=Ls(E,S,f,null),E.flags|=2),E.return=a,m.return=a,m.sibling=E,a.child=m,m=E,E=a.child,S=o.child.memoizedState,S=S===null?Gh(f):{baseLanes:S.baseLanes|f,cachePool:null,transitions:S.transitions},E.memoizedState=S,E.childLanes=o.childLanes&~f,a.memoizedState=qh,m}return E=o.child,o=E.sibling,m=Bi(E,{mode:\"visible\",children:m.children}),(a.mode&1)===0&&(m.lanes=f),m.return=a,m.sibling=null,o!==null&&(f=a.deletions,f===null?(a.deletions=[o],a.flags|=16):f.push(o)),a.child=m,a.memoizedState=null,m}function Yh(o,a){return a=rd({mode:\"visible\",children:a},o.mode,0,null),a.return=o,o.child=a}function Vu(o,a,f,m){return m!==null&&vh(m),Eo(a,o.child,null,f),o=Yh(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function WD(o,a,f,m,b,E,S){if(f)return a.flags&256?(a.flags&=-257,m=jh(Error(n(422))),Vu(o,a,S,m)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(E=m.fallback,b=a.mode,m=rd({mode:\"visible\",children:m.children},b,0,null),E=Ls(E,b,S,null),E.flags|=2,m.return=a,E.return=a,m.sibling=E,a.child=m,(a.mode&1)!==0&&Eo(a,o.child,null,S),a.child.memoizedState=Gh(S),a.memoizedState=qh,E);if((a.mode&1)===0)return Vu(o,a,S,null);if(b.data===\"$!\"){if(m=b.nextSibling&&b.nextSibling.dataset,m)var C=m.dgst;return m=C,E=Error(n(419)),m=jh(E,m,void 0),Vu(o,a,S,m)}if(C=(S&o.childLanes)!==0,bn||C){if(m=Ht,m!==null){switch(S&-S){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(m.suspendedLanes|S))!==0?0:b,b!==0&&b!==E.retryLane&&(E.retryLane=b,Fr(o,b),tr(m,o,b,-1))}return dm(),m=jh(Error(n(421))),Vu(o,a,S,m)}return b.data===\"$?\"?(a.flags|=128,a.child=o.child,a=iP.bind(null,o),b._reactRetry=a,null):(o=E.treeContext,Tn=Ti(b.nextSibling),Cn=a,gt=!0,Qn=null,o!==null&&(Dn[Pn++]=zr,Dn[Pn++]=$r,Dn[Pn++]=Cs,zr=o.id,$r=o.overflow,Cs=a),a=Yh(a,m.children),a.flags|=4096,a)}function iv(o,a,f){o.lanes|=a;var m=o.alternate;m!==null&&(m.lanes|=a),Th(o.return,a,f)}function Jh(o,a,f,m,b){var E=o.memoizedState;E===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:b}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=m,E.tail=f,E.tailMode=b)}function sv(o,a,f){var m=a.pendingProps,b=m.revealOrder,E=m.tail;if(dn(o,a,m.children,f),m=Et.current,(m&2)!==0)m=m&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&iv(o,f,a);else if(o.tag===19)iv(o,f,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}m&=1}if(at(Et,m),(a.mode&1)===0)a.memoizedState=null;else switch(b){case\"forwards\":for(f=a.child,b=null;f!==null;)o=f.alternate,o!==null&&Bu(o)===null&&(b=f),f=f.sibling;f=b,f===null?(b=a.child,a.child=null):(b=f.sibling,f.sibling=null),Jh(a,!1,b,f,E);break;case\"backwards\":for(f=null,b=a.child,a.child=null;b!==null;){if(o=b.alternate,o!==null&&Bu(o)===null){a.child=b;break}o=b.sibling,b.sibling=f,f=b,b=o}Jh(a,!0,f,null,E);break;case\"together\":Jh(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Wu(o,a){(a.mode&1)===0&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function Hr(o,a,f){if(o!==null&&(a.dependencies=o.dependencies),As|=a.lanes,(f&a.childLanes)===0)return null;if(o!==null&&a.child!==o.child)throw Error(n(153));if(a.child!==null){for(o=a.child,f=Bi(o,o.pendingProps),a.child=f,f.return=a;o.sibling!==null;)o=o.sibling,f=f.sibling=Bi(o,o.pendingProps),f.return=a;f.sibling=null}return a.child}function KD(o,a,f){switch(a.tag){case 3:tv(a),ko();break;case 5:kw(a);break;case 1:yn(a.type)&&_u(a);break;case 4:Mh(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,b=a.memoizedProps.value;at(Iu,m._currentValue),m._currentValue=b;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(at(Et,Et.current&1),a.flags|=128,null):(f&a.child.childLanes)!==0?rv(o,a,f):(at(Et,Et.current&1),o=Hr(o,a,f),o!==null?o.sibling:null);at(Et,Et.current&1);break;case 19:if(m=(f&a.childLanes)!==0,(o.flags&128)!==0){if(m)return sv(o,a,f);a.flags|=128}if(b=a.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),at(Et,Et.current),m)break;return null;case 22:case 23:return a.lanes=0,Zw(o,a,f)}return Hr(o,a,f)}var ov,Qh,lv,av;ov=function(o,a){for(var f=a.child;f!==null;){if(f.tag===5||f.tag===6)o.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break;for(;f.sibling===null;){if(f.return===null||f.return===a)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Qh=function(){},lv=function(o,a,f,m){var b=o.memoizedProps;if(b!==m){o=a.stateNode,Ns(yr.current);var E=null;switch(f){case\"input\":b=ds(o,b),m=ds(o,m),E=[];break;case\"select\":b=q({},b,{value:void 0}),m=q({},m,{value:void 0}),E=[];break;case\"textarea\":b=bl(o,b),m=bl(o,m),E=[];break;default:typeof b.onClick!=\"function\"&&typeof m.onClick==\"function\"&&(o.onclick=Su)}vl(f,m);var S;f=null;for(B in b)if(!m.hasOwnProperty(B)&&b.hasOwnProperty(B)&&b[B]!=null)if(B===\"style\"){var C=b[B];for(S in C)C.hasOwnProperty(S)&&(f||(f={}),f[S]=\"\")}else B!==\"dangerouslySetInnerHTML\"&&B!==\"children\"&&B!==\"suppressContentEditableWarning\"&&B!==\"suppressHydrationWarning\"&&B!==\"autoFocus\"&&(i.hasOwnProperty(B)?E||(E=[]):(E=E||[]).push(B,null));for(B in m){var M=m[B];if(C=b!=null?b[B]:void 0,m.hasOwnProperty(B)&&M!==C&&(M!=null||C!=null))if(B===\"style\")if(C){for(S in C)!C.hasOwnProperty(S)||M&&M.hasOwnProperty(S)||(f||(f={}),f[S]=\"\");for(S in M)M.hasOwnProperty(S)&&C[S]!==M[S]&&(f||(f={}),f[S]=M[S])}else f||(E||(E=[]),E.push(B,f)),f=M;else B===\"dangerouslySetInnerHTML\"?(M=M?M.__html:void 0,C=C?C.__html:void 0,M!=null&&C!==M&&(E=E||[]).push(B,M)):B===\"children\"?typeof M!=\"string\"&&typeof M!=\"number\"||(E=E||[]).push(B,\"\"+M):B!==\"suppressContentEditableWarning\"&&B!==\"suppressHydrationWarning\"&&(i.hasOwnProperty(B)?(M!=null&&B===\"onScroll\"&&dt(\"scroll\",o),E||C===M||(E=[])):(E=E||[]).push(B,M))}f&&(E=E||[]).push(\"style\",f);var B=E;(a.updateQueue=B)&&(a.flags|=4)}},av=function(o,a,f,m){f!==m&&(a.flags|=4)};function Xl(o,a){if(!gt)switch(o.tailMode){case\"hidden\":a=o.tail;for(var f=null;a!==null;)a.alternate!==null&&(f=a),a=a.sibling;f===null?o.tail=null:f.sibling=null;break;case\"collapsed\":f=o.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function nn(o){var a=o.alternate!==null&&o.alternate.child===o.child,f=0,m=0;if(a)for(var b=o.child;b!==null;)f|=b.lanes|b.childLanes,m|=b.subtreeFlags&14680064,m|=b.flags&14680064,b.return=o,b=b.sibling;else for(b=o.child;b!==null;)f|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=o,b=b.sibling;return o.subtreeFlags|=m,o.childLanes=f,a}function qD(o,a,f){var m=a.pendingProps;switch(kh(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(a),null;case 1:return yn(a.type)&&Tu(),nn(a),null;case 3:return m=a.stateNode,xo(),ft(gn),ft(en),Oh(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(Ru(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Qn!==null&&(am(Qn),Qn=null))),Qh(o,a),nn(a),null;case 5:Ah(a);var b=Ns(Gl.current);if(f=a.type,o!==null&&a.stateNode!=null)lv(o,a,f,m,b),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(n(166));return nn(a),null}if(o=Ns(yr.current),Ru(a)){m=a.stateNode,f=a.type;var E=a.memoizedProps;switch(m[gr]=a,m[jl]=E,o=(a.mode&1)!==0,f){case\"dialog\":dt(\"cancel\",m),dt(\"close\",m);break;case\"iframe\":case\"object\":case\"embed\":dt(\"load\",m);break;case\"video\":case\"audio\":for(b=0;b<Fl.length;b++)dt(Fl[b],m);break;case\"source\":dt(\"error\",m);break;case\"img\":case\"image\":case\"link\":dt(\"error\",m),dt(\"load\",m);break;case\"details\":dt(\"toggle\",m);break;case\"input\":eo(m,E),dt(\"invalid\",m);break;case\"select\":m._wrapperState={wasMultiple:!!E.multiple},dt(\"invalid\",m);break;case\"textarea\":kl(m,E),dt(\"invalid\",m)}vl(f,E),b=null;for(var S in E)if(E.hasOwnProperty(S)){var C=E[S];S===\"children\"?typeof C==\"string\"?m.textContent!==C&&(E.suppressHydrationWarning!==!0&&xu(m.textContent,C,o),b=[\"children\",C]):typeof C==\"number\"&&m.textContent!==\"\"+C&&(E.suppressHydrationWarning!==!0&&xu(m.textContent,C,o),b=[\"children\",\"\"+C]):i.hasOwnProperty(S)&&C!=null&&S===\"onScroll\"&&dt(\"scroll\",m)}switch(f){case\"input\":pi(m),dr(m,E,!0);break;case\"textarea\":pi(m),El(m);break;case\"select\":case\"option\":break;default:typeof E.onClick==\"function\"&&(m.onclick=Su)}m=b,a.updateQueue=m,m!==null&&(a.flags|=4)}else{S=b.nodeType===9?b:b.ownerDocument,o===\"http://www.w3.org/1999/xhtml\"&&(o=Or(f)),o===\"http://www.w3.org/1999/xhtml\"?f===\"script\"?(o=S.createElement(\"div\"),o.innerHTML=\"<script><\\/script>\",o=o.removeChild(o.firstChild)):typeof m.is==\"string\"?o=S.createElement(f,{is:m.is}):(o=S.createElement(f),f===\"select\"&&(S=o,m.multiple?S.multiple=!0:m.size&&(S.size=m.size))):o=S.createElementNS(o,f),o[gr]=a,o[jl]=m,ov(o,a,!1,!1),a.stateNode=o;e:{switch(S=xl(f,m),f){case\"dialog\":dt(\"cancel\",o),dt(\"close\",o),b=m;break;case\"iframe\":case\"object\":case\"embed\":dt(\"load\",o),b=m;break;case\"video\":case\"audio\":for(b=0;b<Fl.length;b++)dt(Fl[b],o);b=m;break;case\"source\":dt(\"error\",o),b=m;break;case\"img\":case\"image\":case\"link\":dt(\"error\",o),dt(\"load\",o),b=m;break;case\"details\":dt(\"toggle\",o),b=m;break;case\"input\":eo(o,m),b=ds(o,m),dt(\"invalid\",o);break;case\"option\":b=m;break;case\"select\":o._wrapperState={wasMultiple:!!m.multiple},b=q({},m,{value:void 0}),dt(\"invalid\",o);break;case\"textarea\":kl(o,m),b=bl(o,m),dt(\"invalid\",o);break;default:b=m}vl(f,b),C=b;for(E in C)if(C.hasOwnProperty(E)){var M=C[E];E===\"style\"?wl(o,M):E===\"dangerouslySetInnerHTML\"?(M=M?M.__html:void 0,M!=null&&tu(o,M)):E===\"children\"?typeof M==\"string\"?(f!==\"textarea\"||M!==\"\")&&hs(o,M):typeof M==\"number\"&&hs(o,\"\"+M):E!==\"suppressContentEditableWarning\"&&E!==\"suppressHydrationWarning\"&&E!==\"autoFocus\"&&(i.hasOwnProperty(E)?M!=null&&E===\"onScroll\"&&dt(\"scroll\",o):M!=null&&I(o,E,M,S))}switch(f){case\"input\":pi(o),dr(o,m,!1);break;case\"textarea\":pi(o),El(o);break;case\"option\":m.value!=null&&o.setAttribute(\"value\",\"\"+Ue(m.value));break;case\"select\":o.multiple=!!m.multiple,E=m.value,E!=null?gi(o,!!m.multiple,E,!1):m.defaultValue!=null&&gi(o,!!m.multiple,m.defaultValue,!0);break;default:typeof b.onClick==\"function\"&&(o.onclick=Su)}switch(f){case\"button\":case\"input\":case\"select\":case\"textarea\":m=!!m.autoFocus;break e;case\"img\":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return nn(a),null;case 6:if(o&&a.stateNode!=null)av(o,a,o.memoizedProps,m);else{if(typeof m!=\"string\"&&a.stateNode===null)throw Error(n(166));if(f=Ns(Gl.current),Ns(yr.current),Ru(a)){if(m=a.stateNode,f=a.memoizedProps,m[gr]=a,(E=m.nodeValue!==f)&&(o=Cn,o!==null))switch(o.tag){case 3:xu(m.nodeValue,f,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&xu(m.nodeValue,f,(o.mode&1)!==0)}E&&(a.flags|=4)}else m=(f.nodeType===9?f:f.ownerDocument).createTextNode(m),m[gr]=a,a.stateNode=m}return nn(a),null;case 13:if(ft(Et),m=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(gt&&Tn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)dw(),ko(),a.flags|=98560,E=!1;else if(E=Ru(a),m!==null&&m.dehydrated!==null){if(o===null){if(!E)throw Error(n(318));if(E=a.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[gr]=a}else ko(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;nn(a),E=!1}else Qn!==null&&(am(Qn),Qn=null),E=!0;if(!E)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=f,a):(m=m!==null,m!==(o!==null&&o.memoizedState!==null)&&m&&(a.child.flags|=8192,(a.mode&1)!==0&&(o===null||(Et.current&1)!==0?Pt===0&&(Pt=3):dm())),a.updateQueue!==null&&(a.flags|=4),nn(a),null);case 4:return xo(),Qh(o,a),o===null&&Ul(a.stateNode.containerInfo),nn(a),null;case 10:return Ch(a.type._context),nn(a),null;case 17:return yn(a.type)&&Tu(),nn(a),null;case 19:if(ft(Et),E=a.memoizedState,E===null)return nn(a),null;if(m=(a.flags&128)!==0,S=E.rendering,S===null)if(m)Xl(E,!1);else{if(Pt!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(S=Bu(o),S!==null){for(a.flags|=128,Xl(E,!1),m=S.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=f,f=a.child;f!==null;)E=f,o=m,E.flags&=14680066,S=E.alternate,S===null?(E.childLanes=0,E.lanes=o,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=S.childLanes,E.lanes=S.lanes,E.child=S.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=S.memoizedProps,E.memoizedState=S.memoizedState,E.updateQueue=S.updateQueue,E.type=S.type,o=S.dependencies,E.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),f=f.sibling;return at(Et,Et.current&1|2),a.child}o=o.sibling}E.tail!==null&&bt()>_o&&(a.flags|=128,m=!0,Xl(E,!1),a.lanes=4194304)}else{if(!m)if(o=Bu(S),o!==null){if(a.flags|=128,m=!0,f=o.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),Xl(E,!0),E.tail===null&&E.tailMode===\"hidden\"&&!S.alternate&&!gt)return nn(a),null}else 2*bt()-E.renderingStartTime>_o&&f!==1073741824&&(a.flags|=128,m=!0,Xl(E,!1),a.lanes=4194304);E.isBackwards?(S.sibling=a.child,a.child=S):(f=E.last,f!==null?f.sibling=S:a.child=S,E.last=S)}return E.tail!==null?(a=E.tail,E.rendering=a,E.tail=a.sibling,E.renderingStartTime=bt(),a.sibling=null,f=Et.current,at(Et,m?f&1|2:f&1),a):(nn(a),null);case 22:case 23:return um(),m=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==m&&(a.flags|=8192),m&&(a.mode&1)!==0?(_n&1073741824)!==0&&(nn(a),a.subtreeFlags&6&&(a.flags|=8192)):nn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function GD(o,a){switch(kh(a),a.tag){case 1:return yn(a.type)&&Tu(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return xo(),ft(gn),ft(en),Oh(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 5:return Ah(a),null;case 13:if(ft(Et),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(n(340));ko()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return ft(Et),null;case 4:return xo(),null;case 10:return Ch(a.type._context),null;case 22:case 23:return um(),null;case 24:return null;default:return null}}var Ku=!1,rn=!1,YD=typeof WeakSet==\"function\"?WeakSet:Set,ue=null;function Co(o,a){var f=o.ref;if(f!==null)if(typeof f==\"function\")try{f(null)}catch(m){Ct(o,a,m)}else f.current=null}function Zh(o,a,f){try{f()}catch(m){Ct(o,a,m)}}var cv=!1;function JD(o,a){if(uh=fu,o=UE(),nh(o)){if(\"selectionStart\"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var b=m.anchorOffset,E=m.focusNode;m=m.focusOffset;try{f.nodeType,E.nodeType}catch{f=null;break e}var S=0,C=-1,M=-1,B=0,K=0,G=o,W=null;t:for(;;){for(var oe;G!==f||b!==0&&G.nodeType!==3||(C=S+b),G!==E||m!==0&&G.nodeType!==3||(M=S+m),G.nodeType===3&&(S+=G.nodeValue.length),(oe=G.firstChild)!==null;)W=G,G=oe;for(;;){if(G===o)break t;if(W===f&&++B===b&&(C=S),W===E&&++K===m&&(M=S),(oe=G.nextSibling)!==null)break;G=W,W=G.parentNode}G=oe}f=C===-1||M===-1?null:{start:C,end:M}}else f=null}f=f||{start:0,end:0}}else f=null;for(dh={focusedElem:o,selectionRange:f},fu=!1,ue=a;ue!==null;)if(a=ue,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,ue=o;else for(;ue!==null;){a=ue;try{var pe=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,Nt=pe.memoizedState,L=a.stateNode,A=L.getSnapshotBeforeUpdate(a.elementType===a.type?me:Zn(a.type,me),Nt);L.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var D=a.stateNode.containerInfo;D.nodeType===1?D.textContent=\"\":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Z){Ct(a,a.return,Z)}if(o=a.sibling,o!==null){o.return=a.return,ue=o;break}ue=a.return}return pe=cv,cv=!1,pe}function ea(o,a,f){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var b=m=m.next;do{if((b.tag&o)===o){var E=b.destroy;b.destroy=void 0,E!==void 0&&Zh(a,f,E)}b=b.next}while(b!==m)}}function qu(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var f=a=a.next;do{if((f.tag&o)===o){var m=f.create;f.destroy=m()}f=f.next}while(f!==a)}}function Xh(o){var a=o.ref;if(a!==null){var f=o.stateNode;switch(o.tag){case 5:o=f;break;default:o=f}typeof a==\"function\"?a(o):a.current=o}}function uv(o){var a=o.alternate;a!==null&&(o.alternate=null,uv(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[gr],delete a[jl],delete a[mh],delete a[OD],delete a[ID])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function dv(o){return o.tag===5||o.tag===3||o.tag===4}function fv(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||dv(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function em(o,a,f){var m=o.tag;if(m===5||m===6)o=o.stateNode,a?f.nodeType===8?f.parentNode.insertBefore(o,a):f.insertBefore(o,a):(f.nodeType===8?(a=f.parentNode,a.insertBefore(o,f)):(a=f,a.appendChild(o)),f=f._reactRootContainer,f!=null||a.onclick!==null||(a.onclick=Su));else if(m!==4&&(o=o.child,o!==null))for(em(o,a,f),o=o.sibling;o!==null;)em(o,a,f),o=o.sibling}function tm(o,a,f){var m=o.tag;if(m===5||m===6)o=o.stateNode,a?f.insertBefore(o,a):f.appendChild(o);else if(m!==4&&(o=o.child,o!==null))for(tm(o,a,f),o=o.sibling;o!==null;)tm(o,a,f),o=o.sibling}var Gt=null,Xn=!1;function Oi(o,a,f){for(f=f.child;f!==null;)pv(o,a,f),f=f.sibling}function pv(o,a,f){if($e&&typeof $e.onCommitFiberUnmount==\"function\")try{$e.onCommitFiberUnmount(De,f)}catch{}switch(f.tag){case 5:rn||Co(f,a);case 6:var m=Gt,b=Xn;Gt=null,Oi(o,a,f),Gt=m,Xn=b,Gt!==null&&(Xn?(o=Gt,f=f.stateNode,o.nodeType===8?o.parentNode.removeChild(f):o.removeChild(f)):Gt.removeChild(f.stateNode));break;case 18:Gt!==null&&(Xn?(o=Gt,f=f.stateNode,o.nodeType===8?hh(o.parentNode,f):o.nodeType===1&&hh(o,f),Ol(o)):hh(Gt,f.stateNode));break;case 4:m=Gt,b=Xn,Gt=f.stateNode.containerInfo,Xn=!0,Oi(o,a,f),Gt=m,Xn=b;break;case 0:case 11:case 14:case 15:if(!rn&&(m=f.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){b=m=m.next;do{var E=b,S=E.destroy;E=E.tag,S!==void 0&&((E&2)!==0||(E&4)!==0)&&Zh(f,a,S),b=b.next}while(b!==m)}Oi(o,a,f);break;case 1:if(!rn&&(Co(f,a),m=f.stateNode,typeof m.componentWillUnmount==\"function\"))try{m.props=f.memoizedProps,m.state=f.memoizedState,m.componentWillUnmount()}catch(C){Ct(f,a,C)}Oi(o,a,f);break;case 21:Oi(o,a,f);break;case 22:f.mode&1?(rn=(m=rn)||f.memoizedState!==null,Oi(o,a,f),rn=m):Oi(o,a,f);break;default:Oi(o,a,f)}}function hv(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var f=o.stateNode;f===null&&(f=o.stateNode=new YD),a.forEach(function(m){var b=sP.bind(null,o,m);f.has(m)||(f.add(m),m.then(b,b))})}}function er(o,a){var f=a.deletions;if(f!==null)for(var m=0;m<f.length;m++){var b=f[m];try{var E=o,S=a,C=S;e:for(;C!==null;){switch(C.tag){case 5:Gt=C.stateNode,Xn=!1;break e;case 3:Gt=C.stateNode.containerInfo,Xn=!0;break e;case 4:Gt=C.stateNode.containerInfo,Xn=!0;break e}C=C.return}if(Gt===null)throw Error(n(160));pv(E,S,b),Gt=null,Xn=!1;var M=b.alternate;M!==null&&(M.return=null),b.return=null}catch(B){Ct(b,a,B)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)mv(a,o),a=a.sibling}function mv(o,a){var f=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(er(a,o),kr(o),m&4){try{ea(3,o,o.return),qu(3,o)}catch(me){Ct(o,o.return,me)}try{ea(5,o,o.return)}catch(me){Ct(o,o.return,me)}}break;case 1:er(a,o),kr(o),m&512&&f!==null&&Co(f,f.return);break;case 5:if(er(a,o),kr(o),m&512&&f!==null&&Co(f,f.return),o.flags&32){var b=o.stateNode;try{hs(b,\"\")}catch(me){Ct(o,o.return,me)}}if(m&4&&(b=o.stateNode,b!=null)){var E=o.memoizedProps,S=f!==null?f.memoizedProps:E,C=o.type,M=o.updateQueue;if(o.updateQueue=null,M!==null)try{C===\"input\"&&E.type===\"radio\"&&E.name!=null&&qe(b,E),xl(C,S);var B=xl(C,E);for(S=0;S<M.length;S+=2){var K=M[S],G=M[S+1];K===\"style\"?wl(b,G):K===\"dangerouslySetInnerHTML\"?tu(b,G):K===\"children\"?hs(b,G):I(b,K,G,B)}switch(C){case\"input\":ur(b,E);break;case\"textarea\":fr(b,E);break;case\"select\":var W=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!E.multiple;var oe=E.value;oe!=null?gi(b,!!E.multiple,oe,!1):W!==!!E.multiple&&(E.defaultValue!=null?gi(b,!!E.multiple,E.defaultValue,!0):gi(b,!!E.multiple,E.multiple?[]:\"\",!1))}b[jl]=E}catch(me){Ct(o,o.return,me)}}break;case 6:if(er(a,o),kr(o),m&4){if(o.stateNode===null)throw Error(n(162));b=o.stateNode,E=o.memoizedProps;try{b.nodeValue=E}catch(me){Ct(o,o.return,me)}}break;case 3:if(er(a,o),kr(o),m&4&&f!==null&&f.memoizedState.isDehydrated)try{Ol(a.containerInfo)}catch(me){Ct(o,o.return,me)}break;case 4:er(a,o),kr(o);break;case 13:er(a,o),kr(o),b=o.child,b.flags&8192&&(E=b.memoizedState!==null,b.stateNode.isHidden=E,!E||b.alternate!==null&&b.alternate.memoizedState!==null||(im=bt())),m&4&&hv(o);break;case 22:if(K=f!==null&&f.memoizedState!==null,o.mode&1?(rn=(B=rn)||K,er(a,o),rn=B):er(a,o),kr(o),m&8192){if(B=o.memoizedState!==null,(o.stateNode.isHidden=B)&&!K&&(o.mode&1)!==0)for(ue=o,K=o.child;K!==null;){for(G=ue=K;ue!==null;){switch(W=ue,oe=W.child,W.tag){case 0:case 11:case 14:case 15:ea(4,W,W.return);break;case 1:Co(W,W.return);var pe=W.stateNode;if(typeof pe.componentWillUnmount==\"function\"){m=W,f=W.return;try{a=m,pe.props=a.memoizedProps,pe.state=a.memoizedState,pe.componentWillUnmount()}catch(me){Ct(m,f,me)}}break;case 5:Co(W,W.return);break;case 22:if(W.memoizedState!==null){bv(G);continue}}oe!==null?(oe.return=W,ue=oe):bv(G)}K=K.sibling}e:for(K=null,G=o;;){if(G.tag===5){if(K===null){K=G;try{b=G.stateNode,B?(E=b.style,typeof E.setProperty==\"function\"?E.setProperty(\"display\",\"none\",\"important\"):E.display=\"none\"):(C=G.stateNode,M=G.memoizedProps.style,S=M!=null&&M.hasOwnProperty(\"display\")?M.display:null,C.style.display=nu(\"display\",S))}catch(me){Ct(o,o.return,me)}}}else if(G.tag===6){if(K===null)try{G.stateNode.nodeValue=B?\"\":G.memoizedProps}catch(me){Ct(o,o.return,me)}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===o)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===o)break e;for(;G.sibling===null;){if(G.return===null||G.return===o)break e;K===G&&(K=null),G=G.return}K===G&&(K=null),G.sibling.return=G.return,G=G.sibling}}break;case 19:er(a,o),kr(o),m&4&&hv(o);break;case 21:break;default:er(a,o),kr(o)}}function kr(o){var a=o.flags;if(a&2){try{e:{for(var f=o.return;f!==null;){if(dv(f)){var m=f;break e}f=f.return}throw Error(n(160))}switch(m.tag){case 5:var b=m.stateNode;m.flags&32&&(hs(b,\"\"),m.flags&=-33);var E=fv(o);tm(o,E,b);break;case 3:case 4:var S=m.stateNode.containerInfo,C=fv(o);em(o,C,S);break;default:throw Error(n(161))}}catch(M){Ct(o,o.return,M)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function QD(o,a,f){ue=o,gv(o)}function gv(o,a,f){for(var m=(o.mode&1)!==0;ue!==null;){var b=ue,E=b.child;if(b.tag===22&&m){var S=b.memoizedState!==null||Ku;if(!S){var C=b.alternate,M=C!==null&&C.memoizedState!==null||rn;C=Ku;var B=rn;if(Ku=S,(rn=M)&&!B)for(ue=b;ue!==null;)S=ue,M=S.child,S.tag===22&&S.memoizedState!==null?kv(b):M!==null?(M.return=S,ue=M):kv(b);for(;E!==null;)ue=E,gv(E),E=E.sibling;ue=b,Ku=C,rn=B}yv(o)}else(b.subtreeFlags&8772)!==0&&E!==null?(E.return=b,ue=E):yv(o)}}function yv(o){for(;ue!==null;){var a=ue;if((a.flags&8772)!==0){var f=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:rn||qu(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!rn)if(f===null)m.componentDidMount();else{var b=a.elementType===a.type?f.memoizedProps:Zn(a.type,f.memoizedProps);m.componentDidUpdate(b,f.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var E=a.updateQueue;E!==null&&bw(a,E,m);break;case 3:var S=a.updateQueue;if(S!==null){if(f=null,a.child!==null)switch(a.child.tag){case 5:f=a.child.stateNode;break;case 1:f=a.child.stateNode}bw(a,S,f)}break;case 5:var C=a.stateNode;if(f===null&&a.flags&4){f=C;var M=a.memoizedProps;switch(a.type){case\"button\":case\"input\":case\"select\":case\"textarea\":M.autoFocus&&f.focus();break;case\"img\":M.src&&(f.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var B=a.alternate;if(B!==null){var K=B.memoizedState;if(K!==null){var G=K.dehydrated;G!==null&&Ol(G)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}rn||a.flags&512&&Xh(a)}catch(W){Ct(a,a.return,W)}}if(a===o){ue=null;break}if(f=a.sibling,f!==null){f.return=a.return,ue=f;break}ue=a.return}}function bv(o){for(;ue!==null;){var a=ue;if(a===o){ue=null;break}var f=a.sibling;if(f!==null){f.return=a.return,ue=f;break}ue=a.return}}function kv(o){for(;ue!==null;){var a=ue;try{switch(a.tag){case 0:case 11:case 15:var f=a.return;try{qu(4,a)}catch(M){Ct(a,f,M)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount==\"function\"){var b=a.return;try{m.componentDidMount()}catch(M){Ct(a,b,M)}}var E=a.return;try{Xh(a)}catch(M){Ct(a,E,M)}break;case 5:var S=a.return;try{Xh(a)}catch(M){Ct(a,S,M)}}}catch(M){Ct(a,a.return,M)}if(a===o){ue=null;break}var C=a.sibling;if(C!==null){C.return=a.return,ue=C;break}ue=a.return}}var ZD=Math.ceil,Gu=P.ReactCurrentDispatcher,nm=P.ReactCurrentOwner,$n=P.ReactCurrentBatchConfig,je=0,Ht=null,It=null,Yt=0,_n=0,To=_i(0),Pt=0,ta=null,As=0,Yu=0,rm=0,na=null,kn=null,im=0,_o=1/0,jr=null,Ju=!1,sm=null,Ii=null,Qu=!1,Li=null,Zu=0,ra=0,om=null,Xu=-1,ed=0;function fn(){return(je&6)!==0?bt():Xu!==-1?Xu:Xu=bt()}function Di(o){return(o.mode&1)===0?1:(je&2)!==0&&Yt!==0?Yt&-Yt:DD.transition!==null?(ed===0&&(ed=cu()),ed):(o=He,o!==0||(o=window.event,o=o===void 0?16:wE(o.type)),o)}function tr(o,a,f,m){if(50<ra)throw ra=0,om=null,Error(n(185));vi(o,f,m),((je&2)===0||o!==Ht)&&(o===Ht&&((je&2)===0&&(Yu|=f),Pt===4&&Pi(o,Yt)),En(o,m),f===1&&je===0&&(a.mode&1)===0&&(_o=bt()+500,Nu&&Mi()))}function En(o,a){var f=o.callbackNode;jp(o,a);var m=Es(o,o===Ht?Yt:0);if(m===0)f!==null&&Yn(f),o.callbackNode=null,o.callbackPriority=0;else if(a=m&-m,o.callbackPriority!==a){if(f!=null&&Yn(f),a===1)o.tag===0?LD(wv.bind(null,o)):ow(wv.bind(null,o)),AD(function(){(je&6)===0&&Mi()}),f=null;else{switch(Oe(m)){case 1:f=Tl;break;case 4:f=bs;break;case 16:f=io;break;case 536870912:f=ve;break;default:f=io}f=Mv(f,Ev.bind(null,o))}o.callbackPriority=a,o.callbackNode=f}}function Ev(o,a){if(Xu=-1,ed=0,(je&6)!==0)throw Error(n(327));var f=o.callbackNode;if(No()&&o.callbackNode!==f)return null;var m=Es(o,o===Ht?Yt:0);if(m===0)return null;if((m&30)!==0||(m&o.expiredLanes)!==0||a)a=td(o,m);else{a=m;var b=je;je|=2;var E=xv();(Ht!==o||Yt!==a)&&(jr=null,_o=bt()+500,Os(o,a));do try{tP();break}catch(C){vv(o,C)}while(!0);Sh(),Gu.current=E,je=b,It!==null?a=0:(Ht=null,Yt=0,a=Pt)}if(a!==0){if(a===2&&(b=_l(o),b!==0&&(m=b,a=lm(o,b))),a===1)throw f=ta,Os(o,0),Pi(o,m),En(o,bt()),f;if(a===6)Pi(o,m);else{if(b=o.current.alternate,(m&30)===0&&!XD(b)&&(a=td(o,m),a===2&&(E=_l(o),E!==0&&(m=E,a=lm(o,E))),a===1))throw f=ta,Os(o,0),Pi(o,m),En(o,bt()),f;switch(o.finishedWork=b,o.finishedLanes=m,a){case 0:case 1:throw Error(n(345));case 2:Is(o,kn,jr);break;case 3:if(Pi(o,m),(m&130023424)===m&&(a=im+500-bt(),10<a)){if(Es(o,0)!==0)break;if(b=o.suspendedLanes,(b&m)!==m){fn(),o.pingedLanes|=o.suspendedLanes&b;break}o.timeoutHandle=ph(Is.bind(null,o,kn,jr),a);break}Is(o,kn,jr);break;case 4:if(Pi(o,m),(m&4194240)===m)break;for(a=o.eventTimes,b=-1;0<m;){var S=31-kt(m);E=1<<S,S=a[S],S>b&&(b=S),m&=~E}if(m=b,m=bt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*ZD(m/1960))-m,10<m){o.timeoutHandle=ph(Is.bind(null,o,kn,jr),m);break}Is(o,kn,jr);break;case 5:Is(o,kn,jr);break;default:throw Error(n(329))}}}return En(o,bt()),o.callbackNode===f?Ev.bind(null,o):null}function lm(o,a){var f=na;return o.current.memoizedState.isDehydrated&&(Os(o,a).flags|=256),o=td(o,a),o!==2&&(a=kn,kn=f,a!==null&&am(a)),o}function am(o){kn===null?kn=o:kn.push.apply(kn,o)}function XD(o){for(var a=o;;){if(a.flags&16384){var f=a.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var m=0;m<f.length;m++){var b=f[m],E=b.getSnapshot;b=b.value;try{if(!Jn(E(),b))return!1}catch{return!1}}}if(f=a.child,a.subtreeFlags&16384&&f!==null)f.return=a,a=f;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Pi(o,a){for(a&=~rm,a&=~Yu,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var f=31-kt(a),m=1<<f;o[f]=-1,a&=~m}}function wv(o){if((je&6)!==0)throw Error(n(327));No();var a=Es(o,0);if((a&1)===0)return En(o,bt()),null;var f=td(o,a);if(o.tag!==0&&f===2){var m=_l(o);m!==0&&(a=m,f=lm(o,m))}if(f===1)throw f=ta,Os(o,0),Pi(o,a),En(o,bt()),f;if(f===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,Is(o,kn,jr),En(o,bt()),null}function cm(o,a){var f=je;je|=1;try{return o(a)}finally{je=f,je===0&&(_o=bt()+500,Nu&&Mi())}}function Rs(o){Li!==null&&Li.tag===0&&(je&6)===0&&No();var a=je;je|=1;var f=$n.transition,m=He;try{if($n.transition=null,He=1,o)return o()}finally{He=m,$n.transition=f,je=a,(je&6)===0&&Mi()}}function um(){_n=To.current,ft(To)}function Os(o,a){o.finishedWork=null,o.finishedLanes=0;var f=o.timeoutHandle;if(f!==-1&&(o.timeoutHandle=-1,MD(f)),It!==null)for(f=It.return;f!==null;){var m=f;switch(kh(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Tu();break;case 3:xo(),ft(gn),ft(en),Oh();break;case 5:Ah(m);break;case 4:xo();break;case 13:ft(Et);break;case 19:ft(Et);break;case 10:Ch(m.type._context);break;case 22:case 23:um()}f=f.return}if(Ht=o,It=o=Bi(o.current,null),Yt=_n=a,Pt=0,ta=null,rm=Yu=As=0,kn=na=null,_s!==null){for(a=0;a<_s.length;a++)if(f=_s[a],m=f.interleaved,m!==null){f.interleaved=null;var b=m.next,E=f.pending;if(E!==null){var S=E.next;E.next=b,m.next=S}f.pending=m}_s=null}return o}function vv(o,a){do{var f=It;try{if(Sh(),zu.current=Hu,$u){for(var m=wt.memoizedState;m!==null;){var b=m.queue;b!==null&&(b.pending=null),m=m.next}$u=!1}if(Ms=0,Ut=Dt=wt=null,Yl=!1,Jl=0,nm.current=null,f===null||f.return===null){Pt=1,ta=a,It=null;break}e:{var E=o,S=f.return,C=f,M=a;if(a=Yt,C.flags|=32768,M!==null&&typeof M==\"object\"&&typeof M.then==\"function\"){var B=M,K=C,G=K.tag;if((K.mode&1)===0&&(G===0||G===11||G===15)){var W=K.alternate;W?(K.updateQueue=W.updateQueue,K.memoizedState=W.memoizedState,K.lanes=W.lanes):(K.updateQueue=null,K.memoizedState=null)}var oe=qw(S);if(oe!==null){oe.flags&=-257,Gw(oe,S,C,E,a),oe.mode&1&&Kw(E,B,a),a=oe,M=B;var pe=a.updateQueue;if(pe===null){var me=new Set;me.add(M),a.updateQueue=me}else pe.add(M);break e}else{if((a&1)===0){Kw(E,B,a),dm();break e}M=Error(n(426))}}else if(gt&&C.mode&1){var Nt=qw(S);if(Nt!==null){(Nt.flags&65536)===0&&(Nt.flags|=256),Gw(Nt,S,C,E,a),vh(So(M,C));break e}}E=M=So(M,C),Pt!==4&&(Pt=2),na===null?na=[E]:na.push(E),E=S;do{switch(E.tag){case 3:E.flags|=65536,a&=-a,E.lanes|=a;var L=Vw(E,M,a);yw(E,L);break e;case 1:C=M;var A=E.type,D=E.stateNode;if((E.flags&128)===0&&(typeof A.getDerivedStateFromError==\"function\"||D!==null&&typeof D.componentDidCatch==\"function\"&&(Ii===null||!Ii.has(D)))){E.flags|=65536,a&=-a,E.lanes|=a;var Z=Ww(E,C,a);yw(E,Z);break e}}E=E.return}while(E!==null)}Cv(f)}catch(be){a=be,It===f&&f!==null&&(It=f=f.return);continue}break}while(!0)}function xv(){var o=Gu.current;return Gu.current=Hu,o===null?Hu:o}function dm(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Ht===null||(As&268435455)===0&&(Yu&268435455)===0||Pi(Ht,Yt)}function td(o,a){var f=je;je|=2;var m=xv();(Ht!==o||Yt!==a)&&(jr=null,Os(o,a));do try{eP();break}catch(b){vv(o,b)}while(!0);if(Sh(),je=f,Gu.current=m,It!==null)throw Error(n(261));return Ht=null,Yt=0,Pt}function eP(){for(;It!==null;)Sv(It)}function tP(){for(;It!==null&&!lu();)Sv(It)}function Sv(o){var a=Nv(o.alternate,o,_n);o.memoizedProps=o.pendingProps,a===null?Cv(o):It=a,nm.current=null}function Cv(o){var a=o;do{var f=a.alternate;if(o=a.return,(a.flags&32768)===0){if(f=qD(f,a,_n),f!==null){It=f;return}}else{if(f=GD(f,a),f!==null){f.flags&=32767,It=f;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Pt=6,It=null;return}}if(a=a.sibling,a!==null){It=a;return}It=a=o}while(a!==null);Pt===0&&(Pt=5)}function Is(o,a,f){var m=He,b=$n.transition;try{$n.transition=null,He=1,nP(o,a,f,m)}finally{$n.transition=b,He=m}return null}function nP(o,a,f,m){do No();while(Li!==null);if((je&6)!==0)throw Error(n(327));f=o.finishedWork;var b=o.finishedLanes;if(f===null)return null;if(o.finishedWork=null,o.finishedLanes=0,f===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var E=f.lanes|f.childLanes;if(Ln(o,E),o===Ht&&(It=Ht=null,Yt=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Qu||(Qu=!0,Mv(io,function(){return No(),null})),E=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||E){E=$n.transition,$n.transition=null;var S=He;He=1;var C=je;je|=4,nm.current=null,JD(o,f),mv(f,o),vD(dh),fu=!!uh,dh=uh=null,o.current=f,QD(f),au(),je=C,He=S,$n.transition=E}else o.current=f;if(Qu&&(Qu=!1,Li=o,Zu=b),E=o.pendingLanes,E===0&&(Ii=null),Tt(f.stateNode),En(o,bt()),a!==null)for(m=o.onRecoverableError,f=0;f<a.length;f++)b=a[f],m(b.value,{componentStack:b.stack,digest:b.digest});if(Ju)throw Ju=!1,o=sm,sm=null,o;return(Zu&1)!==0&&o.tag!==0&&No(),E=o.pendingLanes,(E&1)!==0?o===om?ra++:(ra=0,om=o):ra=0,Mi(),null}function No(){if(Li!==null){var o=Oe(Zu),a=$n.transition,f=He;try{if($n.transition=null,He=16>o?16:o,Li===null)var m=!1;else{if(o=Li,Li=null,Zu=0,(je&6)!==0)throw Error(n(331));var b=je;for(je|=4,ue=o.current;ue!==null;){var E=ue,S=E.child;if((ue.flags&16)!==0){var C=E.deletions;if(C!==null){for(var M=0;M<C.length;M++){var B=C[M];for(ue=B;ue!==null;){var K=ue;switch(K.tag){case 0:case 11:case 15:ea(8,K,E)}var G=K.child;if(G!==null)G.return=K,ue=G;else for(;ue!==null;){K=ue;var W=K.sibling,oe=K.return;if(uv(K),K===B){ue=null;break}if(W!==null){W.return=oe,ue=W;break}ue=oe}}}var pe=E.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var Nt=me.sibling;me.sibling=null,me=Nt}while(me!==null)}}ue=E}}if((E.subtreeFlags&2064)!==0&&S!==null)S.return=E,ue=S;else e:for(;ue!==null;){if(E=ue,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:ea(9,E,E.return)}var L=E.sibling;if(L!==null){L.return=E.return,ue=L;break e}ue=E.return}}var A=o.current;for(ue=A;ue!==null;){S=ue;var D=S.child;if((S.subtreeFlags&2064)!==0&&D!==null)D.return=S,ue=D;else e:for(S=A;ue!==null;){if(C=ue,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:qu(9,C)}}catch(be){Ct(C,C.return,be)}if(C===S){ue=null;break e}var Z=C.sibling;if(Z!==null){Z.return=C.return,ue=Z;break e}ue=C.return}}if(je=b,Mi(),$e&&typeof $e.onPostCommitFiberRoot==\"function\")try{$e.onPostCommitFiberRoot(De,o)}catch{}m=!0}return m}finally{He=f,$n.transition=a}}return!1}function Tv(o,a,f){a=So(f,a),a=Vw(o,a,1),o=Ri(o,a,1),a=fn(),o!==null&&(vi(o,1,a),En(o,a))}function Ct(o,a,f){if(o.tag===3)Tv(o,o,f);else for(;a!==null;){if(a.tag===3){Tv(a,o,f);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError==\"function\"||typeof m.componentDidCatch==\"function\"&&(Ii===null||!Ii.has(m))){o=So(f,o),o=Ww(a,o,1),a=Ri(a,o,1),o=fn(),a!==null&&(vi(a,1,o),En(a,o));break}}a=a.return}}function rP(o,a,f){var m=o.pingCache;m!==null&&m.delete(a),a=fn(),o.pingedLanes|=o.suspendedLanes&f,Ht===o&&(Yt&f)===f&&(Pt===4||Pt===3&&(Yt&130023424)===Yt&&500>bt()-im?Os(o,0):rm|=f),En(o,a)}function _v(o,a){a===0&&((o.mode&1)===0?a=1:(a=ks,ks<<=1,(ks&130023424)===0&&(ks=4194304)));var f=fn();o=Fr(o,a),o!==null&&(vi(o,a,f),En(o,f))}function iP(o){var a=o.memoizedState,f=0;a!==null&&(f=a.retryLane),_v(o,f)}function sP(o,a){var f=0;switch(o.tag){case 13:var m=o.stateNode,b=o.memoizedState;b!==null&&(f=b.retryLane);break;case 19:m=o.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(a),_v(o,f)}var Nv;Nv=function(o,a,f){if(o!==null)if(o.memoizedProps!==a.pendingProps||gn.current)bn=!0;else{if((o.lanes&f)===0&&(a.flags&128)===0)return bn=!1,KD(o,a,f);bn=(o.flags&131072)!==0}else bn=!1,gt&&(a.flags&1048576)!==0&&lw(a,Au,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;Wu(o,a),o=a.pendingProps;var b=go(a,en.current);vo(a,f),b=Dh(null,a,m,o,b,f);var E=Ph();return a.flags|=1,typeof b==\"object\"&&b!==null&&typeof b.render==\"function\"&&b.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,yn(m)?(E=!0,_u(a)):E=!1,a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,Nh(a),b.updater=ju,a.stateNode=b,b._reactInternals=a,Hh(a,m,o,f),a=Kh(null,a,m,!0,E,f)):(a.tag=0,gt&&E&&bh(a),dn(null,a,b,f),a=a.child),a;case 16:m=a.elementType;e:{switch(Wu(o,a),o=a.pendingProps,b=m._init,m=b(m._payload),a.type=m,b=a.tag=lP(m),o=Zn(m,o),b){case 0:a=Wh(null,a,m,o,f);break e;case 1:a=ev(null,a,m,o,f);break e;case 11:a=Yw(null,a,m,o,f);break e;case 14:a=Jw(null,a,m,Zn(m.type,o),f);break e}throw Error(n(306,m,\"\"))}return a;case 0:return m=a.type,b=a.pendingProps,b=a.elementType===m?b:Zn(m,b),Wh(o,a,m,b,f);case 1:return m=a.type,b=a.pendingProps,b=a.elementType===m?b:Zn(m,b),ev(o,a,m,b,f);case 3:e:{if(tv(a),o===null)throw Error(n(387));m=a.pendingProps,E=a.memoizedState,b=E.element,gw(o,a),Pu(a,m,null,f);var S=a.memoizedState;if(m=S.element,E.isDehydrated)if(E={element:m,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},a.updateQueue.baseState=E,a.memoizedState=E,a.flags&256){b=So(Error(n(423)),a),a=nv(o,a,m,f,b);break e}else if(m!==b){b=So(Error(n(424)),a),a=nv(o,a,m,f,b);break e}else for(Tn=Ti(a.stateNode.containerInfo.firstChild),Cn=a,gt=!0,Qn=null,f=hw(a,null,m,f),a.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(ko(),m===b){a=Hr(o,a,f);break e}dn(o,a,m,f)}a=a.child}return a;case 5:return kw(a),o===null&&wh(a),m=a.type,b=a.pendingProps,E=o!==null?o.memoizedProps:null,S=b.children,fh(m,b)?S=null:E!==null&&fh(m,E)&&(a.flags|=32),Xw(o,a),dn(o,a,S,f),a.child;case 6:return o===null&&wh(a),null;case 13:return rv(o,a,f);case 4:return Mh(a,a.stateNode.containerInfo),m=a.pendingProps,o===null?a.child=Eo(a,null,m,f):dn(o,a,m,f),a.child;case 11:return m=a.type,b=a.pendingProps,b=a.elementType===m?b:Zn(m,b),Yw(o,a,m,b,f);case 7:return dn(o,a,a.pendingProps,f),a.child;case 8:return dn(o,a,a.pendingProps.children,f),a.child;case 12:return dn(o,a,a.pendingProps.children,f),a.child;case 10:e:{if(m=a.type._context,b=a.pendingProps,E=a.memoizedProps,S=b.value,at(Iu,m._currentValue),m._currentValue=S,E!==null)if(Jn(E.value,S)){if(E.children===b.children&&!gn.current){a=Hr(o,a,f);break e}}else for(E=a.child,E!==null&&(E.return=a);E!==null;){var C=E.dependencies;if(C!==null){S=E.child;for(var M=C.firstContext;M!==null;){if(M.context===m){if(E.tag===1){M=Ur(-1,f&-f),M.tag=2;var B=E.updateQueue;if(B!==null){B=B.shared;var K=B.pending;K===null?M.next=M:(M.next=K.next,K.next=M),B.pending=M}}E.lanes|=f,M=E.alternate,M!==null&&(M.lanes|=f),Th(E.return,f,a),C.lanes|=f;break}M=M.next}}else if(E.tag===10)S=E.type===a.type?null:E.child;else if(E.tag===18){if(S=E.return,S===null)throw Error(n(341));S.lanes|=f,C=S.alternate,C!==null&&(C.lanes|=f),Th(S,f,a),S=E.sibling}else S=E.child;if(S!==null)S.return=E;else for(S=E;S!==null;){if(S===a){S=null;break}if(E=S.sibling,E!==null){E.return=S.return,S=E;break}S=S.return}E=S}dn(o,a,b.children,f),a=a.child}return a;case 9:return b=a.type,m=a.pendingProps.children,vo(a,f),b=Bn(b),m=m(b),a.flags|=1,dn(o,a,m,f),a.child;case 14:return m=a.type,b=Zn(m,a.pendingProps),b=Zn(m.type,b),Jw(o,a,m,b,f);case 15:return Qw(o,a,a.type,a.pendingProps,f);case 17:return m=a.type,b=a.pendingProps,b=a.elementType===m?b:Zn(m,b),Wu(o,a),a.tag=1,yn(m)?(o=!0,_u(a)):o=!1,vo(a,f),Hw(a,m,b),Hh(a,m,b,f),Kh(null,a,m,!0,o,f);case 19:return sv(o,a,f);case 22:return Zw(o,a,f)}throw Error(n(156,a.tag))};function Mv(o,a){return ou(o,a)}function oP(o,a,f,m){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(o,a,f,m){return new oP(o,a,f,m)}function fm(o){return o=o.prototype,!(!o||!o.isReactComponent)}function lP(o){if(typeof o==\"function\")return fm(o)?1:0;if(o!=null){if(o=o.$$typeof,o===Ne)return 11;if(o===Ee)return 14}return 2}function Bi(o,a){var f=o.alternate;return f===null?(f=Fn(o.tag,a,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=a,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&14680064,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,a=o.dependencies,f.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f}function nd(o,a,f,m,b,E){var S=2;if(m=o,typeof o==\"function\")fm(o)&&(S=1);else if(typeof o==\"string\")S=5;else e:switch(o){case U:return Ls(f.children,b,E,a);case J:S=8,b|=8;break;case ne:return o=Fn(12,f,a,b|2),o.elementType=ne,o.lanes=E,o;case se:return o=Fn(13,f,a,b),o.elementType=se,o.lanes=E,o;case re:return o=Fn(19,f,a,b),o.elementType=re,o.lanes=E,o;case ye:return rd(f,b,E,a);default:if(typeof o==\"object\"&&o!==null)switch(o.$$typeof){case ie:S=10;break e;case fe:S=9;break e;case Ne:S=11;break e;case Ee:S=14;break e;case ge:S=16,m=null;break e}throw Error(n(130,o==null?o:typeof o,\"\"))}return a=Fn(S,f,a,b),a.elementType=o,a.type=m,a.lanes=E,a}function Ls(o,a,f,m){return o=Fn(7,o,m,a),o.lanes=f,o}function rd(o,a,f,m){return o=Fn(22,o,m,a),o.elementType=ye,o.lanes=f,o.stateNode={isHidden:!1},o}function pm(o,a,f){return o=Fn(6,o,null,a),o.lanes=f,o}function hm(o,a,f){return a=Fn(4,o.children!==null?o.children:[],o.key,a),a.lanes=f,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function aP(o,a,f,m,b){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wi(0),this.expirationTimes=wi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.identifierPrefix=m,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function mm(o,a,f,m,b,E,S,C,M){return o=new aP(o,a,f,C,M),a===1?(a=1,E===!0&&(a|=8)):a=0,E=Fn(3,null,null,a),o.current=E,E.stateNode=o,E.memoizedState={element:m,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nh(E),o}function cP(o,a,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:m==null?null:\"\"+m,children:o,containerInfo:a,implementation:f}}function Av(o){if(!o)return Ni;o=o._reactInternals;e:{if(Dr(o)!==o||o.tag!==1)throw Error(n(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(yn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(o.tag===1){var f=o.type;if(yn(f))return iw(o,f,a)}return a}function Rv(o,a,f,m,b,E,S,C,M){return o=mm(f,m,!0,o,b,E,S,C,M),o.context=Av(null),f=o.current,m=fn(),b=Di(f),E=Ur(m,b),E.callback=a??null,Ri(f,E,b),o.current.lanes=b,vi(o,b,m),En(o,m),o}function id(o,a,f,m){var b=a.current,E=fn(),S=Di(b);return f=Av(f),a.context===null?a.context=f:a.pendingContext=f,a=Ur(E,S),a.payload={element:o},m=m===void 0?null:m,m!==null&&(a.callback=m),o=Ri(b,a,S),o!==null&&(tr(o,b,S,E),Du(o,b,S)),S}function sd(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function Ov(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<a?f:a}}function gm(o,a){Ov(o,a),(o=o.alternate)&&Ov(o,a)}function uP(){return null}var Iv=typeof reportError==\"function\"?reportError:function(o){console.error(o)};function ym(o){this._internalRoot=o}od.prototype.render=ym.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(n(409));id(o,a,null,null)},od.prototype.unmount=ym.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;Rs(function(){id(null,o,null,null)}),a[Pr]=null}};function od(o){this._internalRoot=o}od.prototype.unstable_scheduleHydration=function(o){if(o){var a=ws();o={blockedOn:null,target:o,priority:a};for(var f=0;f<Ft.length&&a!==0&&a<Ft[f].priority;f++);Ft.splice(f,0,o),f===0&&kE(o)}};function bm(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function ld(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==\" react-mount-point-unstable \"))}function Lv(){}function dP(o,a,f,m,b){if(b){if(typeof m==\"function\"){var E=m;m=function(){var B=sd(S);E.call(B)}}var S=Rv(a,m,o,0,null,!1,!1,\"\",Lv);return o._reactRootContainer=S,o[Pr]=S.current,Ul(o.nodeType===8?o.parentNode:o),Rs(),S}for(;b=o.lastChild;)o.removeChild(b);if(typeof m==\"function\"){var C=m;m=function(){var B=sd(M);C.call(B)}}var M=mm(o,0,!1,null,null,!1,!1,\"\",Lv);return o._reactRootContainer=M,o[Pr]=M.current,Ul(o.nodeType===8?o.parentNode:o),Rs(function(){id(a,M,f,m)}),M}function ad(o,a,f,m,b){var E=f._reactRootContainer;if(E){var S=E;if(typeof b==\"function\"){var C=b;b=function(){var M=sd(S);C.call(M)}}id(a,S,o,b)}else S=dP(f,a,o,b,m);return sd(S)}Ml=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var f=Ei(a.pendingLanes);f!==0&&(Nl(a,f|1),En(a,bt()),(je&6)===0&&(_o=bt()+500,Mi()))}break;case 13:Rs(function(){var m=Fr(o,1);if(m!==null){var b=fn();tr(m,o,1,b)}}),gm(o,1)}},_t=function(o){if(o.tag===13){var a=Fr(o,134217728);if(a!==null){var f=fn();tr(a,o,134217728,f)}gm(o,134217728)}},Xe=function(o){if(o.tag===13){var a=Di(o),f=Fr(o,a);if(f!==null){var m=fn();tr(f,o,a,m)}gm(o,a)}},ws=function(){return He},mr=function(o,a){var f=He;try{return He=o,a()}finally{He=f}},no=function(o,a,f){switch(a){case\"input\":if(ur(o,f),a=f.name,f.type===\"radio\"&&a!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+a)+'][type=\"radio\"]'),a=0;a<f.length;a++){var m=f[a];if(m!==o&&m.form===o.form){var b=Cu(m);if(!b)throw Error(n(90));Xs(m),ur(m,b)}}}break;case\"textarea\":fr(o,f);break;case\"select\":a=f.value,a!=null&&gi(o,!!f.multiple,a,!1)}},ee=cm,Ae=Rs;var fP={usingClientEntryPoint:!1,Events:[Vl,ho,Cu,_,H,cm]},ia={findFiberByHostInstance:xs,bundleType:0,version:\"18.3.1\",rendererPackageName:\"react-dom\"},pP={bundleType:ia.bundleType,version:ia.version,rendererPackageName:ia.rendererPackageName,rendererConfig:ia.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=iu(o),o===null?null:o.stateNode},findFiberByHostInstance:ia.findFiberByHostInstance||uP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:\"18.3.1-next-f1338f8080-20240426\"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<\"u\"){var cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cd.isDisabled&&cd.supportsFiber)try{De=cd.inject(pP),$e=cd}catch{}}return pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fP,pn.createPortal=function(o,a){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bm(a))throw Error(n(200));return cP(o,a,null,f)},pn.createRoot=function(o,a){if(!bm(o))throw Error(n(299));var f=!1,m=\"\",b=Iv;return a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),a=mm(o,1,!1,null,null,f,!1,m,b),o[Pr]=a.current,Ul(o.nodeType===8?o.parentNode:o),new ym(a)},pn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render==\"function\"?Error(n(188)):(o=Object.keys(o).join(\",\"),Error(n(268,o)));return o=iu(a),o=o===null?null:o.stateNode,o},pn.flushSync=function(o){return Rs(o)},pn.hydrate=function(o,a,f){if(!ld(a))throw Error(n(200));return ad(null,o,a,!0,f)},pn.hydrateRoot=function(o,a,f){if(!bm(o))throw Error(n(405));var m=f!=null&&f.hydratedSources||null,b=!1,E=\"\",S=Iv;if(f!=null&&(f.unstable_strictMode===!0&&(b=!0),f.identifierPrefix!==void 0&&(E=f.identifierPrefix),f.onRecoverableError!==void 0&&(S=f.onRecoverableError)),a=Rv(a,null,o,1,f??null,b,!1,E,S),o[Pr]=a.current,Ul(o),m)for(o=0;o<m.length;o++)f=m[o],b=f._getVersion,b=b(f._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[f,b]:a.mutableSourceEagerHydrationData.push(f,b);return new od(a)},pn.render=function(o,a,f){if(!ld(a))throw Error(n(200));return ad(null,o,a,!1,f)},pn.unmountComponentAtNode=function(o){if(!ld(o))throw Error(n(40));return o._reactRootContainer?(Rs(function(){ad(null,null,o,!1,function(){o._reactRootContainer=null,o[Pr]=null})}),!0):!1},pn.unstable_batchedUpdates=cm,pn.unstable_renderSubtreeIntoContainer=function(o,a,f,m){if(!ld(f))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return ad(o,a,f,!1,m)},pn.version=\"18.3.1-next-f1338f8080-20240426\",pn}var Mm;function Am(){if(Mm)return fd.exports;Mm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>\"u\"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=\"function\"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fd.exports=qv(),fd.exports}var Rm;function Gv(){if(Rm)return oa;Rm=1;var t=Am();return oa.createRoot=t.createRoot,oa.hydrateRoot=t.hydrateRoot,oa}var Yv=Gv();const Om=de.createContext({editor:null,mode:\"wysiwyg\",setMode:()=>{},rawMarkdown:\"\",setRawMarkdown:()=>{}});function md(){return de.useContext(Om)}var la=Am();const Jv=Er(la);var gd={exports:{}},yd={};/**\n * @license React\n * use-sync-external-store-shim.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var Im;function Qv(){if(Im)return yd;Im=1;var t=Mo();function e(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var n=typeof Object.is==\"function\"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function c(h,g){var y=g(),k=r({inst:{value:y,getSnapshot:g}}),w=k[0].inst,v=k[1];return s(function(){w.value=y,w.getSnapshot=g,u(w)&&v({inst:w})},[h,y,g]),i(function(){return u(w)&&v({inst:w}),h(function(){u(w)&&v({inst:w})})},[h]),l(y),y}function u(h){var g=h.getSnapshot;h=h.value;try{var y=g();return!n(h,y)}catch{return!0}}function d(h,g){return g()}var p=typeof window>\"u\"||typeof window.document>\"u\"||typeof window.document.createElement>\"u\"?d:c;return yd.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,yd}var Lm;function Dm(){return Lm||(Lm=1,gd.exports=Qv()),gd.exports}var Pm=Dm();function Vt(t){this.content=t}Vt.prototype={constructor:Vt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new Vt(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Vt(n)},addToStart:function(t,e){return new Vt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Vt(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new Vt(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Vt.from(t),t.size?new Vt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Vt.from(t),t.size?new Vt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Vt.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}},Vt.from=function(t){if(t instanceof Vt)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Vt(e)};function Bm(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let l=0;i.text[l]==s.text[l];l++)n++;return n}if(i.content.size||s.content.size){let l=Bm(i.content,s.content,n+1);if(l!=null)return l}n+=i.nodeSize}}function zm(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let l=t.child(--i),c=e.child(--s),u=l.nodeSize;if(l==c){n-=u,r-=u;continue}if(!l.sameMarkup(c))return{a:n,b:r};if(l.isText&&l.text!=c.text){let d=0,p=Math.min(l.text.length,c.text.length);for(;d<p&&l.text[l.text.length-d-1]==c.text[c.text.length-d-1];)d++,n--,r--;return{a:n,b:r}}if(l.content.size||c.content.size){let d=zm(l.content,c.content,n-1,r-1);if(d)return d}n-=u,r-=u}}class j{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let l=0,c=0;c<n;l++){let u=this.content[l],d=c+u.nodeSize;if(d>e&&r(u,i+c,s||null,l)!==!1&&u.content.size){let p=c+1;u.nodesBetween(Math.max(0,e-p),Math.min(u.content.size,n-p),r,i+p)}c=d}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s=\"\",l=!0;return this.nodesBetween(e,n,(c,u)=>{let d=c.isText?c.text.slice(Math.max(e,u)-u,n-u):c.isLeaf?i?typeof i==\"function\"?i(c):i:c.type.spec.leafText?c.type.spec.leafText(c):\"\":\"\";c.isBlock&&(c.isLeaf&&d||c.isTextblock)&&r&&(l?l=!1:s+=r),s+=d},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new j(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,l=0;l<n;s++){let c=this.content[s],u=l+c.nodeSize;u>e&&((l<e||u>n)&&(c.isText?c=c.cut(Math.max(0,e-l),Math.min(c.text.length,n-l)):c=c.cut(Math.max(0,e-l-1),Math.min(c.content.size,n-l-1))),r.push(c),i+=c.nodeSize),l=u}return new j(r,i)}cutByIndex(e,n){return e==n?j.empty:e==0&&n==this.content.length?this:new j(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new j(i,s)}addToStart(e){return new j([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new j(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError(\"Index \"+e+\" out of range for \"+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return Bm(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return zm(this,e,n,r)}findIndex(e){if(e==0)return aa(0,e);if(e==this.size)return aa(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),s=r+i.nodeSize;if(s>=e)return s==e?aa(n+1,s):aa(n,r);r=s}}toString(){return\"<\"+this.toStringInner()+\">\"}toStringInner(){return this.content.join(\", \")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return j.empty;if(!Array.isArray(n))throw new RangeError(\"Invalid input for Fragment.fromJSON\");return new j(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return j.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new j(n||e,r)}static from(e){if(!e)return j.empty;if(e instanceof j)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new j([e],e.nodeSize);throw new RangeError(\"Can not convert \"+e+\" to a Fragment\"+(e.nodesBetween?\" (looks like multiple versions of prosemirror-model were loaded)\":\"\"))}}j.empty=new j([],0);const bd={index:0,offset:0};function aa(t,e){return bd.index=t,bd.offset=e,bd}function ca(t,e){if(t===e)return!0;if(!(t&&typeof t==\"object\")||!(e&&typeof e==\"object\"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!ca(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!ca(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let nt=class km{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&ca(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError(\"Invalid input for Mark.fromJSON\");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return km.none;if(e instanceof km)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};nt.none=[];class ua extends Error{}class te{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=Fm(this.content,e+this.openStart,n);return r&&new te(r,this.openStart,this.openEnd)}removeBetween(e,n){return new te($m(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+\"(\"+this.openStart+\",\"+this.openEnd+\")\"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return te.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!=\"number\"||typeof i!=\"number\")throw new RangeError(\"Invalid input for Slice.fromJSON\");return new te(j.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new te(e,r,i)}}te.empty=new te(j.empty,0,0);function $m(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:l,offset:c}=t.findIndex(n);if(i==e||s.isText){if(c!=n&&!t.child(l).isText)throw new RangeError(\"Removing non-flat range\");return t.cut(0,e).append(t.cut(n))}if(r!=l)throw new RangeError(\"Removing non-flat range\");return t.replaceChild(r,s.copy($m(s.content,e-i-1,n-i-1)))}function Fm(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),l=t.maybeChild(i);if(s==e||l.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let c=Fm(l.content,e-s-1,n,l);return c&&t.replaceChild(i,l.copy(c))}function Zv(t,e,n){if(n.openStart>t.depth)throw new ua(\"Inserted content deeper than insertion position\");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new ua(\"Inconsistent open depths\");return Um(t,e,n,0)}function Um(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let l=Um(t,e,n,r+1);return s.copy(s.content.replaceChild(i,l))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let l=t.parent,c=l.content;return Ui(l,c.cut(0,t.parentOffset).append(n.content).append(c.cut(e.parentOffset)))}else{let{start:l,end:c}=Xv(n,t);return Ui(s,jm(t,l,c,e,r))}else return Ui(s,da(t,e,r))}function Hm(t,e){if(!e.type.compatibleContent(t.type))throw new ua(\"Cannot join \"+e.type.name+\" onto \"+t.type.name)}function kd(t,e,n){let r=t.node(n);return Hm(r,e.node(n)),r}function Fi(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Ao(t,e,n,r){let i=(e||t).node(n),s=0,l=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(Fi(t.nodeAfter,r),s++));for(let c=s;c<l;c++)Fi(i.child(c),r);e&&e.depth==n&&e.textOffset&&Fi(e.nodeBefore,r)}function Ui(t,e){return t.type.checkContent(e),t.copy(e)}function jm(t,e,n,r,i){let s=t.depth>i&&kd(t,e,i+1),l=r.depth>i&&kd(n,r,i+1),c=[];return Ao(null,t,i,c),s&&l&&e.index(i)==n.index(i)?(Hm(s,l),Fi(Ui(s,jm(t,e,n,r,i+1)),c)):(s&&Fi(Ui(s,da(t,e,i+1)),c),Ao(e,n,i,c),l&&Fi(Ui(l,da(n,r,i+1)),c)),Ao(r,null,i,c),new j(c)}function da(t,e,n){let r=[];if(Ao(null,t,n,r),t.depth>n){let i=kd(t,e,n+1);Fi(Ui(i,da(t,e,n+1)),r)}return Ao(e,null,n,r),new j(r)}function Xv(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(j.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Ro{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError(\"There is no position before the top-level node\");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError(\"There is no position after the top-level node\");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return nt.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let c=r;r=i,i=c}let s=r.marks;for(var l=0;l<s.length;l++)s[l].type.spec.inclusive===!1&&(!i||!s[l].isInSet(i.marks))&&(s=s[l--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new fa(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e=\"\";for(let n=1;n<=this.depth;n++)e+=(e?\"/\":\"\")+this.node(n).type.name+\"_\"+this.index(n-1);return e+\":\"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError(\"Position \"+n+\" out of range\");let r=[],i=0,s=n;for(let l=e;;){let{index:c,offset:u}=l.content.findIndex(s),d=s-u;if(r.push(l,c,i+u),!d||(l=l.child(c),l.isText))break;s=d-1,i+=u+1}return new Ro(n,r,s)}static resolveCached(e,n){let r=Vm.get(e);if(r)for(let s=0;s<r.elts.length;s++){let l=r.elts[s];if(l.pos==n)return l}else Vm.set(e,r=new ex);let i=r.elts[r.i]=Ro.resolve(e,n);return r.i=(r.i+1)%tx,i}}class ex{constructor(){this.elts=[],this.i=0}}const tx=12,Vm=new WeakMap;class fa{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const nx=Object.create(null);class Hn{constructor(e,n,r,i=nt.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||j.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,\"\")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&ca(this.attrs,n||e.defaultAttrs||nx)&&nt.sameSet(this.marks,r||nt.none)}copy(e=null){return e==this.content?this:new Hn(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Hn(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return te.empty;let i=this.resolve(e),s=this.resolve(n),l=r?0:i.sharedDepth(n),c=i.start(l),d=i.node(l).content.cut(i.pos-c,s.pos-c);return new te(d,i.depth-l,s.depth-l)}replace(e,n,r){return Zv(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Ro.resolveCached(this,e)}resolveNoCache(e){return Ro.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+=\"(\"+this.content.toStringInner()+\")\"),Wm(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error(\"Called contentMatchAt on a node with invalid content\");return n}canReplace(e,n,r=j.empty,i=0,s=r.childCount){let l=this.contentMatchAt(e).matchFragment(r,i,s),c=l&&l.matchFragment(this.content,n);if(!c||!c.validEnd)return!1;for(let u=i;u<s;u++)if(!this.type.allowsMarks(r.child(u).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),l=s&&s.matchFragment(this.content,n);return l?l.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=nt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!nt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError(\"Invalid input for Node.fromJSON\");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError(\"Invalid mark data for Node.fromJSON\");r=n.marks.map(e.markFromJSON)}if(n.type==\"text\"){if(typeof n.text!=\"string\")throw new RangeError(\"Invalid text node in JSON\");return e.text(n.text,r)}let i=j.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}}Hn.prototype.text=void 0;class pa extends Hn{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError(\"Empty text nodes are not allowed\");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Wm(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new pa(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new pa(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Wm(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+\"(\"+e+\")\";return e}class Hi{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new rx(e,n);if(r.next==null)return Hi.empty;let i=Km(r);r.next&&r.err(\"Unexpected trailing text\");let s=ux(cx(i));return dx(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(l,c){let u=l.matchFragment(e,r);if(u&&(!n||u.validEnd))return j.from(c.map(d=>d.createAndFill()));for(let d=0;d<l.next.length;d++){let{type:p,next:h}=l.next[d];if(!(p.isText||p.hasRequiredAttrs())&&i.indexOf(h)==-1){i.push(h);let g=s(h,c.concat(p));if(g)return g}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let l=[];for(let c=i;c.type;c=c.via)l.push(c.type);return l.reverse()}for(let l=0;l<s.next.length;l++){let{type:c,next:u}=s.next[l];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in n)&&(!i.type||u.validEnd)&&(r.push({match:c.contentMatch,type:c,via:i}),n[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?\"*\":\" \")+\" \";for(let l=0;l<r.next.length;l++)s+=(l?\", \":\"\")+r.next[l].type.name+\"->\"+e.indexOf(r.next[l].next);return s}).join(`\n`)}}Hi.empty=new Hi(!0);class rx{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\\s*(?=\\b|\\W|$)/),this.tokens[this.tokens.length-1]==\"\"&&this.tokens.pop(),this.tokens[0]==\"\"&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+\" (in content expression '\"+this.string+\"')\")}}function Km(t){let e=[];do e.push(ix(t));while(t.eat(\"|\"));return e.length==1?e[0]:{type:\"choice\",exprs:e}}function ix(t){let e=[];do e.push(sx(t));while(t.next&&t.next!=\")\"&&t.next!=\"|\");return e.length==1?e[0]:{type:\"seq\",exprs:e}}function sx(t){let e=ax(t);for(;;)if(t.eat(\"+\"))e={type:\"plus\",expr:e};else if(t.eat(\"*\"))e={type:\"star\",expr:e};else if(t.eat(\"?\"))e={type:\"opt\",expr:e};else if(t.eat(\"{\"))e=ox(t,e);else break;return e}function qm(t){/\\D/.test(t.next)&&t.err(\"Expected number, got '\"+t.next+\"'\");let e=Number(t.next);return t.pos++,e}function ox(t,e){let n=qm(t),r=n;return t.eat(\",\")&&(t.next!=\"}\"?r=qm(t):r=-1),t.eat(\"}\")||t.err(\"Unclosed braced range\"),{type:\"range\",min:n,max:r,expr:e}}function lx(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let l=n[s];l.isInGroup(e)&&i.push(l)}return i.length==0&&t.err(\"No node type or group '\"+e+\"' found\"),i}function ax(t){if(t.eat(\"(\")){let e=Km(t);return t.eat(\")\")||t.err(\"Missing closing paren\"),e}else if(/\\W/.test(t.next))t.err(\"Unexpected token '\"+t.next+\"'\");else{let e=lx(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err(\"Mixing inline and block content\"),{type:\"name\",value:n}));return t.pos++,e.length==1?e[0]:{type:\"choice\",exprs:e}}}function cx(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(l,c,u){let d={term:u,to:c};return e[l].push(d),d}function i(l,c){l.forEach(u=>u.to=c)}function s(l,c){if(l.type==\"choice\")return l.exprs.reduce((u,d)=>u.concat(s(d,c)),[]);if(l.type==\"seq\")for(let u=0;;u++){let d=s(l.exprs[u],c);if(u==l.exprs.length-1)return d;i(d,c=n())}else if(l.type==\"star\"){let u=n();return r(c,u),i(s(l.expr,u),u),[r(u)]}else if(l.type==\"plus\"){let u=n();return i(s(l.expr,c),u),i(s(l.expr,u),u),[r(u)]}else{if(l.type==\"opt\")return[r(c)].concat(s(l.expr,c));if(l.type==\"range\"){let u=c;for(let d=0;d<l.min;d++){let p=n();i(s(l.expr,u),p),u=p}if(l.max==-1)i(s(l.expr,u),u);else for(let d=l.min;d<l.max;d++){let p=n();r(u,p),i(s(l.expr,u),p),u=p}return[r(u)]}else{if(l.type==\"name\")return[r(c,void 0,l.value)];throw new Error(\"Unknown expr type\")}}}}function Gm(t,e){return e-t}function Ym(t,e){let n=[];return r(e),n.sort(Gm);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let l=0;l<s.length;l++){let{term:c,to:u}=s[l];!c&&n.indexOf(u)==-1&&r(u)}}}function ux(t){let e=Object.create(null);return n(Ym(t,0));function n(r){let i=[];r.forEach(l=>{t[l].forEach(({term:c,to:u})=>{if(!c)return;let d;for(let p=0;p<i.length;p++)i[p][0]==c&&(d=i[p][1]);Ym(t,u).forEach(p=>{d||i.push([c,d=[]]),d.indexOf(p)==-1&&d.push(p)})})});let s=e[r.join(\",\")]=new Hi(r.indexOf(t.length-1)>-1);for(let l=0;l<i.length;l++){let c=i[l][1].sort(Gm);s.next.push({type:i[l][0],next:e[c.join(\",\")]||n(c)})}return s}}function dx(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,l=[];for(let c=0;c<i.next.length;c++){let{type:u,next:d}=i.next[c];l.push(u.name),s&&!(u.isText||u.hasRequiredAttrs())&&(s=!1),r.indexOf(d)==-1&&r.push(d)}s&&e.err(\"Only non-generatable nodes (\"+l.join(\", \")+\") in a required position (see https://prosemirror.net/docs/guide/#generatable)\")}}function Jm(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function Qm(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError(\"No value supplied for attribute \"+r)}n[r]=i}return n}function Zm(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function Xm(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new px(t,r,e[r]);return n}let eg=class Dv{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(\" \"):[],this.attrs=Xm(e,r.attrs),this.defaultAttrs=Jm(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e==\"text\"),this.isText=e==\"text\"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Hi.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?\"pre\":\"normal\")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Qm(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error(\"NodeType.create can't construct text nodes\");return new Hn(this,this.computeAttrs(e),j.from(n),nt.setFrom(r))}createChecked(e=null,n,r){return n=j.from(n),this.checkContent(n),new Hn(this,this.computeAttrs(e),n,nt.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=j.from(n),n.size){let l=this.contentMatch.fillBefore(n);if(!l)return null;n=l.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(j.empty,!0);return s?new Hn(this,e,n.append(s),nt.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Zm(this.attrs,e,\"node\",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:nt.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,l)=>r[s]=new Dv(s,n,l));let i=n.spec.topNode||\"doc\";if(!r[i])throw new RangeError(\"Schema is missing its top node type ('\"+i+\"')\");if(!r.text)throw new RangeError(\"Every schema needs a 'text' type\");for(let s in r.text.attrs)throw new RangeError(\"The text node type should not have attributes\");return r}};function fx(t,e,n){let r=n.split(\"|\");return i=>{let s=i===null?\"null\":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class px{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,\"default\"),this.default=r.default,this.validate=typeof r.validate==\"string\"?fx(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class ha{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=Xm(e,i.attrs),this.excluded=null;let s=Jm(this.attrs);this.instance=s?new nt(this,s):null}create(e=null){return!e&&this.instance?this.instance:new nt(this,Qm(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,l)=>r[s]=new ha(s,i++,n,l)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){Zm(this.attrs,e,\"mark\",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class tg{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Vt.from(e.nodes),n.marks=Vt.from(e.marks||{}),this.nodes=eg.compile(this.spec.nodes,this),this.marks=ha.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+\" can not be both a node and a mark\");let s=this.nodes[i],l=s.spec.content||\"\",c=s.spec.marks;if(s.contentMatch=r[l]||(r[l]=Hi.parse(l,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError(\"Multiple linebreak nodes defined\");if(!s.isInline||!s.isLeaf)throw new RangeError(\"Linebreak replacement nodes must be inline leaf nodes\");this.linebreakReplacement=s}s.markSet=c==\"_\"?null:c?ng(this,c.split(\" \")):c==\"\"||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],l=s.spec.excludes;s.excluded=l==null?[s]:l==\"\"?[]:ng(this,l.split(\" \"))}this.nodeFromJSON=i=>Hn.fromJSON(this,i),this.markFromJSON=i=>nt.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||\"doc\"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e==\"string\")e=this.nodeType(e);else if(e instanceof eg){if(e.schema!=this)throw new RangeError(\"Node type from different schema used (\"+e.name+\")\")}else throw new RangeError(\"Invalid node type: \"+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new pa(r,r.defaultAttrs,e,nt.setFrom(n))}mark(e,n){return typeof e==\"string\"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError(\"Unknown node type: \"+e);return n}}function ng(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],l=s;if(s)n.push(s);else for(let c in t.marks){let u=t.marks[c];(i==\"_\"||u.spec.group&&u.spec.group.split(\" \").indexOf(i)>-1)&&n.push(l=u)}if(!l)throw new SyntaxError(\"Unknown mark type: '\"+e[r]+\"'\")}return n}function hx(t){return t.tag!=null}function mx(t){return t.style!=null}class wr{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(hx(i))this.tags.push(i);else if(mx(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new og(this,n,!1);return r.addAll(e,nt.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new og(this,n,!0);return r.addAll(e,nt.none,n.from,n.to),te.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(bx(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let l=s.getAttrs(e);if(l===!1)continue;s.attrs=l||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let l=this.styles[s],c=l.style;if(!(c.indexOf(e)!=0||l.context&&!r.matchesContext(l.context)||c.length>e.length&&(c.charCodeAt(e.length)!=61||c.slice(e.length+1)!=n))){if(l.getAttrs){let u=l.getAttrs(n);if(u===!1)continue;l.attrs=u||void 0}return l}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,l=0;for(;l<n.length;l++){let c=n[l];if((c.priority==null?50:c.priority)<s)break}n.splice(l,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(l=>{r(l=lg(l)),l.mark||l.ignore||l.clearMark||(l.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(l=>{r(l=lg(l)),l.node||l.ignore||l.mark||(l.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new wr(e,wr.schemaRules(e)))}}const rg={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},gx={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},ig={ol:!0,ul:!0},Oo=1,Ed=2,Io=4;function sg(t,e,n){return e!=null?(e?Oo:0)|(e===\"full\"?Ed:0):t&&t.whitespace==\"pre\"?Oo|Ed:n&~Io}class ma{constructor(e,n,r,i,s,l){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=l,this.content=[],this.activeMarks=nt.none,this.match=s||(l&Io?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(j.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Oo)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \\t\\r\\n\\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=j.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(j.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!rg.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class og{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,l=sg(null,n.preserveWhitespace,0)|(r?Io:0);i?s=new ma(i.type,i.attrs,nt.none,!0,n.topMatch||i.type.contentMatch,l):r?s=new ma(null,null,nt.none,!0,null,l):s=new ma(e.schema.topNodeType,null,nt.none,!0,null,l),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,s=i.options&Ed?\"full\":this.localPreserveWS||(i.options&Oo)>0,{schema:l}=this.parser;if(s===\"full\"||i.inlineContext(e)||/[^ \\t\\r\\n\\u000c]/.test(r)){if(s)if(s===\"full\")r=r.replace(/\\r\\n?/g,`\n`);else if(l.linebreakReplacement&&/[\\r\\n]/.test(r)&&this.top.findWrapping(l.linebreakReplacement.create())){let c=r.split(/\\r?\\n|\\r/);for(let u=0;u<c.length;u++)u&&this.insertNode(l.linebreakReplacement.create(),n,!0),c[u]&&this.insertNode(l.text(c[u]),n,!/\\S/.test(c[u]));r=\"\"}else r=r.replace(/\\r?\\n|\\r/g,\" \");else if(r=r.replace(/[ \\t\\r\\n\\u000c]+/g,\" \"),/^[ \\t\\r\\n\\u000c]/.test(r)&&this.open==this.nodes.length-1){let c=i.content[i.content.length-1],u=e.previousSibling;(!c||u&&u.nodeName==\"BR\"||c.isText&&/[ \\t\\r\\n\\u000c]$/.test(c.text))&&(r=r.slice(1))}r&&this.insertNode(l.text(r),n,!/\\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,s=this.top;(e.tagName==\"PRE\"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let l=e.nodeName.toLowerCase(),c;ig.hasOwnProperty(l)&&this.parser.normalizeLists&&yx(e);let u=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(c=this.parser.matchTag(e,this,r));e:if(u?u.ignore:gx.hasOwnProperty(l))this.findInside(e),this.ignoreFallback(e,n);else if(!u||u.skip||u.closeParent){u&&u.closeParent?this.open=Math.max(0,this.open-1):u&&u.skip.nodeType&&(e=u.skip);let d,p=this.needsBlock;if(rg.hasOwnProperty(l))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),d=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let h=u&&u.skip?n:this.readStyles(e,n);h&&this.addAll(e,h),d&&this.sync(s),this.needsBlock=p}else{let d=this.readStyles(e,n);d&&this.addElementByRule(e,u,d,u.consuming===!1?c:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName==\"BR\"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`\n`),n)}ignoreFallback(e,n){e.nodeName==\"BR\"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text(\"-\"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],l=r.getPropertyValue(s);if(l)for(let c=void 0;;){let u=this.parser.matchStyle(s,l,this,c);if(!u)break;if(u.ignore)return null;if(u.clearMark?n=n.filter(d=>!u.clearMark(d)):n=n.concat(this.parser.schema.marks[u.mark].create(u.attrs)),u.consuming===!1)c=u;else break}}return n}addElementByRule(e,n,r,i){let s,l;if(n.node)if(l=this.parser.schema.nodes[n.node],l.isLeaf)this.insertNode(l.create(n.attrs),r,e.nodeName==\"BR\")||this.leafFallback(e,r);else{let u=this.enter(l,n.attrs||null,r,n.preserveWhitespace);u&&(s=!0,r=u)}else{let u=this.parser.schema.marks[n.mark];r=r.concat(u.create(n.attrs))}let c=this.top;if(l&&l.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(u=>this.insertNode(u,r,!1));else{let u=e;typeof n.contentElement==\"string\"?u=e.querySelector(n.contentElement):typeof n.contentElement==\"function\"?u=n.contentElement(e):n.contentElement&&(u=n.contentElement),this.findAround(e,u,!0),this.addAll(u,r),this.findAround(e,u,!1)}s&&this.sync(c)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let l=r?e.childNodes[r]:e.firstChild,c=i==null?null:e.childNodes[i];l!=c;l=l.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(l,n);this.findAtPoint(e,s)}findPlace(e,n,r){let i,s;for(let l=this.open,c=0;l>=0;l--){let u=this.nodes[l],d=u.findWrapping(e);if(d&&(!i||i.length>d.length+c)&&(i=d,s=u,!d.length))break;if(u.solid){if(r)break;c+=2}}if(!i)return null;this.sync(s);for(let l=0;l<i.length;l++)n=this.enterInner(i[l],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let l=nt.none;for(let c of i.concat(e.marks))(s.type?s.type.allowsMarkType(c.type):ag(c.type,e.type))&&(l=c.addToSet(l));return s.content.push(e.mark(l)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r,!1);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let l=this.top;l.match=l.match&&l.match.matchType(e);let c=sg(e,s,l.options);l.options&Io&&l.content.length==0&&(c|=Io);let u=nt.none;return r=r.filter(d=>(l.type?l.type.allowsMarkType(d.type):ag(d.type,e))?(u=d.addToSet(u),!1):!0),this.nodes.push(new ma(e,n,u,i,null,c)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Oo)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf(\"|\")>-1)return e.split(/\\s*\\|\\s*/).some(this.matchesContext,this);let n=e.split(\"/\"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),l=(c,u)=>{for(;c>=0;c--){let d=n[c];if(d==\"\"){if(c==n.length-1||c==0)continue;for(;u>=s;u--)if(l(c-1,u))return!0;return!1}else{let p=u>0||u==0&&i?this.nodes[u].type:r&&u>=s?r.node(u-s).type:null;if(!p||p.name!=d&&!p.isInGroup(d))return!1;u--}}return!0};return l(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function yx(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&ig.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r==\"li\"?n=e:r&&(n=null)}}function bx(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function lg(t){let e={};for(let n in t)e[n]=t[n];return e}function ag(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],l=c=>{s.push(c);for(let u=0;u<c.edgeCount;u++){let{type:d,next:p}=c.edge(u);if(d==e||s.indexOf(p)<0&&l(p))return!0}};if(l(i.contentMatch))return!0}}class Wr{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=wd(n).createDocumentFragment());let i=r,s=[];return e.forEach(l=>{if(s.length||l.marks.length){let c=0,u=0;for(;c<s.length&&u<l.marks.length;){let d=l.marks[u];if(!this.marks[d.type.name]){u++;continue}if(!d.eq(s[c][0])||d.type.spec.spanning===!1)break;c++,u++}for(;c<s.length;)i=s.pop()[1];for(;u<l.marks.length;){let d=l.marks[u++],p=this.serializeMark(d,l.isInline,n);p&&(s.push([d,i]),i.appendChild(p.dom),i=p.contentDOM||p.dom)}}i.appendChild(this.serializeNodeInner(l,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=ga(wd(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError(\"Content hole not allowed in a leaf node spec\");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&ga(wd(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return ga(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Wr(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=cg(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return cg(e.marks)}}function cg(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function wd(t){return t.document||window.document}const ug=new WeakMap;function kx(t){let e=ug.get(t);return e===void 0&&ug.set(t,e=Ex(t)),e}function Ex(t){let e=null;function n(r){if(r&&typeof r==\"object\")if(Array.isArray(r))if(typeof r[0]==\"string\")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function ga(t,e,n,r){if(typeof e==\"string\")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!=\"string\")throw new RangeError(\"Invalid array passed to renderSpec\");if(r&&(s=kx(r))&&s.indexOf(e)>-1)throw new RangeError(\"Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.\");let l=i.indexOf(\" \");l>0&&(n=i.slice(0,l),i=i.slice(l+1));let c,u=n?t.createElementNS(n,i):t.createElement(i),d=e[1],p=1;if(d&&typeof d==\"object\"&&d.nodeType==null&&!Array.isArray(d)){p=2;for(let h in d)if(d[h]!=null){let g=h.indexOf(\" \");g>0?u.setAttributeNS(h.slice(0,g),h.slice(g+1),d[h]):h==\"style\"&&u.style?u.style.cssText=d[h]:u.setAttribute(h,d[h])}}for(let h=p;h<e.length;h++){let g=e[h];if(g===0){if(h<e.length-1||h>p)throw new RangeError(\"Content hole must be the only child of its parent node\");return{dom:u,contentDOM:u}}else{let{dom:y,contentDOM:k}=ga(t,g,n,r);if(u.appendChild(y),k){if(c)throw new RangeError(\"Multiple content holes\");c=k}}}return{dom:u,contentDOM:c}}const dg=65535,fg=Math.pow(2,16);function wx(t,e){return t+e*fg}function pg(t){return t&dg}function vx(t){return(t-(t&dg))/fg}const hg=1,mg=2,ya=4,gg=8;class vd{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&gg)>0}get deletedBefore(){return(this.delInfo&(hg|ya))>0}get deletedAfter(){return(this.delInfo&(mg|ya))>0}get deletedAcross(){return(this.delInfo&ya)>0}}class wn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&wn.empty)return wn.empty}recover(e){let n=0,r=pg(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+vx(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,l=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let u=this.ranges[c]-(this.inverted?i:0);if(u>e)break;let d=this.ranges[c+s],p=this.ranges[c+l],h=u+d;if(e<=h){let g=d?e==u?-1:e==h?1:n:n,y=u+i+(g<0?0:p);if(r)return y;let k=e==(n<0?u:h)?null:wx(c/3,e-u),w=e==u?mg:e==h?hg:ya;return(n<0?e!=u:e!=h)&&(w|=gg),new vd(y,w,k)}i+=p-d}return r?e+i:new vd(e+i,0,null)}touches(e,n){let r=0,i=pg(n),s=this.inverted?2:1,l=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let u=this.ranges[c]-(this.inverted?r:0);if(u>e)break;let d=this.ranges[c+s],p=u+d;if(e<=p&&c==i*3)return!0;r+=this.ranges[c+l]-d}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let l=this.ranges[i],c=l-(this.inverted?s:0),u=l+(this.inverted?0:s),d=this.ranges[i+n],p=this.ranges[i+r];e(c,c+d,u,u+p),s+=p-d}}invert(){return new wn(this.ranges,!this.inverted)}toString(){return(this.inverted?\"-\":\"\")+JSON.stringify(this.ranges)}static offset(e){return e==0?wn.empty:new wn(e<0?[0,-e,0]:[0,0,e])}}wn.empty=new wn([]);class Lo{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Lo(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new Lo;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let l=this._maps[s],c=l.mapResult(e,n);if(c.recover!=null){let u=this.getMirror(s);if(u!=null&&u>s&&u<this.to){s=u,e=this._maps[u].recover(c.recover);continue}}i|=c.delInfo,e=c.pos}return r?e:new vd(e,i,null)}}const xd=Object.create(null);class Jt{getMap(){return wn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError(\"Invalid input for Step.fromJSON\");let r=xd[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in xd)throw new RangeError(\"Duplicate use of step JSON ID \"+e);return xd[e]=n,n.prototype.jsonID=e,n}}class Mt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Mt(e,null)}static fail(e){return new Mt(null,e)}static fromReplace(e,n,r,i){try{return Mt.ok(e.replace(n,r,i))}catch(s){if(s instanceof ua)return Mt.fail(s.message);throw s}}}function Sd(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(Sd(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return j.fromArray(r)}class Kr extends Jt{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new te(Sd(n.content,(l,c)=>!l.isAtom||!c.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),i),n.openStart,n.openEnd);return Mt.fromReplace(e,this.from,this.to,s)}invert(){return new jn(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Kr(n.pos,r.pos,this.mark)}merge(e){return e instanceof Kr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Kr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:\"addMark\",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!=\"number\"||typeof n.to!=\"number\")throw new RangeError(\"Invalid input for AddMarkStep.fromJSON\");return new Kr(n.from,n.to,e.markFromJSON(n.mark))}}Jt.jsonID(\"addMark\",Kr);class jn extends Jt{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new te(Sd(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Mt.fromReplace(e,this.from,this.to,r)}invert(){return new Kr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new jn(n.pos,r.pos,this.mark)}merge(e){return e instanceof jn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new jn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:\"removeMark\",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!=\"number\"||typeof n.to!=\"number\")throw new RangeError(\"Invalid input for RemoveMarkStep.fromJSON\");return new jn(n.from,n.to,e.markFromJSON(n.mark))}}Jt.jsonID(\"removeMark\",jn);class qr extends Jt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Mt.fail(\"No node at mark step's position\");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Mt.fromReplace(e,this.pos,this.pos+1,new te(j.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new qr(this.pos,n.marks[i]);return new qr(this.pos,this.mark)}}return new ji(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new qr(n.pos,this.mark)}toJSON(){return{stepType:\"addNodeMark\",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!=\"number\")throw new RangeError(\"Invalid input for AddNodeMarkStep.fromJSON\");return new qr(n.pos,e.markFromJSON(n.mark))}}Jt.jsonID(\"addNodeMark\",qr);class ji extends Jt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Mt.fail(\"No node at mark step's position\");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Mt.fromReplace(e,this.pos,this.pos+1,new te(j.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new qr(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ji(n.pos,this.mark)}toJSON(){return{stepType:\"removeNodeMark\",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!=\"number\")throw new RangeError(\"Invalid input for RemoveNodeMarkStep.fromJSON\");return new ji(n.pos,e.markFromJSON(n.mark))}}Jt.jsonID(\"removeNodeMark\",ji);class Bt extends Jt{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&Cd(e,this.from,this.to)?Mt.fail(\"Structure replace would overwrite content\"):Mt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new wn([this.from,this.to-this.from,this.slice.size])}invert(e){return new Bt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Bt(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Bt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?te.empty:new te(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Bt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?te.empty:new te(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Bt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:\"replace\",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!=\"number\"||typeof n.to!=\"number\")throw new RangeError(\"Invalid input for ReplaceStep.fromJSON\");return new Bt(n.from,n.to,te.fromJSON(e,n.slice),!!n.structure)}}Jt.jsonID(\"replace\",Bt);class zt extends Jt{constructor(e,n,r,i,s,l,c=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=l,this.structure=c}apply(e){if(this.structure&&(Cd(e,this.from,this.gapFrom)||Cd(e,this.gapTo,this.to)))return Mt.fail(\"Structure gap-replace would overwrite content\");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Mt.fail(\"Gap is not a flat range\");let r=this.slice.insertAt(this.insert,n.content);return r?Mt.fromReplace(e,this.from,this.to,r):Mt.fail(\"Content does not fit in gap\")}getMap(){return new wn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new zt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new zt(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:\"replaceAround\",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!=\"number\"||typeof n.to!=\"number\"||typeof n.gapFrom!=\"number\"||typeof n.gapTo!=\"number\"||typeof n.insert!=\"number\")throw new RangeError(\"Invalid input for ReplaceAroundStep.fromJSON\");return new zt(n.from,n.to,n.gapFrom,n.gapTo,te.fromJSON(e,n.slice),n.insert,!!n.structure)}}Jt.jsonID(\"replaceAround\",zt);function Cd(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let l=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,i--}}return!1}function xx(t,e,n,r){let i=[],s=[],l,c;t.doc.nodesBetween(e,n,(u,d,p)=>{if(!u.isInline)return;let h=u.marks;if(!r.isInSet(h)&&p.type.allowsMarkType(r.type)){let g=Math.max(d,e),y=Math.min(d+u.nodeSize,n),k=r.addToSet(h);for(let w=0;w<h.length;w++)h[w].isInSet(k)||(l&&l.to==g&&l.mark.eq(h[w])?l.to=y:i.push(l=new jn(g,y,h[w])));c&&c.to==g?c.to=y:s.push(c=new Kr(g,y,r))}}),i.forEach(u=>t.step(u)),s.forEach(u=>t.step(u))}function Sx(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(l,c)=>{if(!l.isInline)return;s++;let u=null;if(r instanceof ha){let d=l.marks,p;for(;p=r.isInSet(d);)(u||(u=[])).push(p),d=p.removeFromSet(d)}else r?r.isInSet(l.marks)&&(u=[r]):u=l.marks;if(u&&u.length){let d=Math.min(c+l.nodeSize,n);for(let p=0;p<u.length;p++){let h=u[p],g;for(let y=0;y<i.length;y++){let k=i[y];k.step==s-1&&h.eq(i[y].style)&&(g=k)}g?(g.to=d,g.step=s):i.push({style:h,from:Math.max(c,e),to:d,step:s})}}}),i.forEach(l=>t.step(new jn(l.from,l.to,l.style)))}function Td(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),l=[],c=e+1;for(let u=0;u<s.childCount;u++){let d=s.child(u),p=c+d.nodeSize,h=r.matchType(d.type);if(!h)l.push(new Bt(c,p,te.empty));else{r=h;for(let g=0;g<d.marks.length;g++)n.allowsMarkType(d.marks[g].type)||t.step(new jn(c,p,d.marks[g]));if(i&&d.isText&&n.whitespace!=\"pre\"){let g,y=/\\r?\\n|\\r/g,k;for(;g=y.exec(d.text);)k||(k=new te(j.from(n.schema.text(\" \",n.allowedMarks(d.marks))),0,0)),l.push(new Bt(c+g.index,c+g.index+g[0].length,k))}}c=p}if(!r.validEnd){let u=r.fillBefore(j.empty,!0);t.replace(c,c,new te(u,0,0))}for(let u=l.length-1;u>=0;u--)t.step(l[u])}function Cx(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Ds(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth,i=0,s=0;;--r){let l=t.$from.node(r),c=t.$from.index(r)+i,u=t.$to.indexAfter(r)-s;if(r<t.depth&&l.canReplace(c,u,n))return r;if(r==0||l.type.spec.isolating||!Cx(l,c,u))break;c&&(i=1),u<l.childCount&&(s=1)}return null}function Tx(t,e,n){let{$from:r,$to:i,depth:s}=e,l=r.before(s+1),c=i.after(s+1),u=l,d=c,p=j.empty,h=0;for(let k=s,w=!1;k>n;k--)w||r.index(k)>0?(w=!0,p=j.from(r.node(k).copy(p)),h++):u--;let g=j.empty,y=0;for(let k=s,w=!1;k>n;k--)w||i.after(k+1)<i.end(k)?(w=!0,g=j.from(i.node(k).copy(g)),y++):d++;t.step(new zt(u,d,l,c,new te(p.append(g),h,y),p.size-h,!0))}function _d(t,e,n=null,r=t){let i=_x(t,e),s=i&&Nx(r,e);return s?i.map(yg).concat({type:e,attrs:n}).concat(s.map(yg)):null}function yg(t){return{type:t,attrs:null}}function _x(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let l=s.length?s[0]:e;return n.canReplaceWith(r,i,l)?s:null}function Nx(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),l=e.contentMatch.findWrapping(s.type);if(!l)return null;let u=(l.length?l[l.length-1]:e).contentMatch;for(let d=r;u&&d<i;d++)u=u.matchType(n.child(d).type);return!u||!u.validEnd?null:l}function Mx(t,e,n){let r=j.empty;for(let l=n.length-1;l>=0;l--){if(r.size){let c=n[l].type.contentMatch.matchFragment(r);if(!c||!c.validEnd)throw new RangeError(\"Wrapper type given to Transform.wrap does not form valid content of its parent wrapper\")}r=j.from(n[l].type.create(n[l].attrs,r))}let i=e.start,s=e.end;t.step(new zt(i,s,i,s,new te(r,0,0),n.length,!0))}function Ax(t,e,n,r,i){if(!r.isTextblock)throw new RangeError(\"Type given to setBlockType should be a textblock\");let s=t.steps.length;t.doc.nodesBetween(e,n,(l,c)=>{let u=typeof i==\"function\"?i(l):i;if(l.isTextblock&&!l.hasMarkup(r,u)&&Rx(t.doc,t.mapping.slice(s).map(c),r)){let d=null;if(r.schema.linebreakReplacement){let y=r.whitespace==\"pre\",k=!!r.contentMatch.matchType(r.schema.linebreakReplacement);y&&!k?d=!1:!y&&k&&(d=!0)}d===!1&&kg(t,l,c,s),Td(t,t.mapping.slice(s).map(c,1),r,void 0,d===null);let p=t.mapping.slice(s),h=p.map(c,1),g=p.map(c+l.nodeSize,1);return t.step(new zt(h,g,h+1,g-1,new te(j.from(r.create(u,null,l.marks)),0,0),1,!0)),d===!0&&bg(t,l,c,s),!1}})}function bg(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let l,c=/\\r?\\n|\\r/g;for(;l=c.exec(i.text);){let u=t.mapping.slice(r).map(n+1+s+l.index);t.replaceWith(u,u+1,e.type.schema.linebreakReplacement.create())}}})}function kg(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let l=t.mapping.slice(r).map(n+1+s);t.replaceWith(l,l+1,e.type.schema.text(`\n`))}})}function Rx(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function Ox(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError(\"No node at given position\");n||(n=s.type);let l=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,l);if(!n.validContent(s.content))throw new RangeError(\"Invalid content for node type \"+n.name);t.step(new zt(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new te(j.from(l),0,0),1,!0))}function vr(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,l=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!l.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let d=i.depth-1,p=n-2;d>s;d--,p--){let h=i.node(d),g=i.index(d);if(h.type.spec.isolating)return!1;let y=h.content.cutByIndex(g,h.childCount),k=r&&r[p+1];k&&(y=y.replaceChild(0,k.type.create(k.attrs)));let w=r&&r[p]||h;if(!h.canReplace(g+1,h.childCount)||!w.type.validContent(y))return!1}let c=i.indexAfter(s),u=r&&r[0];return i.node(s).canReplaceWith(c,c,u?u.type:i.node(s+1).type)}function Ix(t,e,n=1,r){let i=t.doc.resolve(e),s=j.empty,l=j.empty;for(let c=i.depth,u=i.depth-n,d=n-1;c>u;c--,d--){s=j.from(i.node(c).copy(s));let p=r&&r[d];l=j.from(p?p.type.create(p.attrs,l):i.node(c).copy(l))}t.step(new Bt(e,e,new te(s.append(l),n,n),!0))}function Gr(t,e){let n=t.resolve(e),r=n.index();return Eg(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Lx(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),l=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(l),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function Eg(t,e){return!!(t&&e&&!t.isLeaf&&Lx(t,e))}function ba(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,l,c=r.index(i);if(i==r.depth?(s=r.nodeBefore,l=r.nodeAfter):n>0?(s=r.node(i+1),c++,l=r.node(i).maybeChild(c)):(s=r.node(i).maybeChild(c-1),l=r.node(i+1)),s&&!s.isTextblock&&Eg(s,l)&&r.node(i).canReplace(c,c+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function Dx(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),l=s.node().type;if(i&&l.inlineContent){let p=l.whitespace==\"pre\",h=!!l.contentMatch.matchType(i);p&&!h?r=!1:!p&&h&&(r=!0)}let c=t.steps.length;if(r===!1){let p=t.doc.resolve(e+n);kg(t,p.node(),p.before(),c)}l.inlineContent&&Td(t,e+n-1,l,s.node().contentMatchAt(s.index()),r==null);let u=t.mapping.slice(c),d=u.map(e-n);if(t.step(new Bt(d,u.map(e+n,-1),te.empty,!0)),r===!0){let p=t.doc.resolve(d);bg(t,p.node(),p.before(),t.steps.length)}return t}function Px(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function wg(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let l=r.depth;l>=0;l--){let c=l==r.depth?0:r.pos<=(r.start(l+1)+r.end(l+1))/2?-1:1,u=r.index(l)+(c>0?1:0),d=r.node(l),p=!1;if(s==1)p=d.canReplace(u,u,i);else{let h=d.contentMatchAt(u).findWrapping(i.firstChild.type);p=h&&d.canReplaceWith(u,u,h[0])}if(p)return c==0?r.pos:c<0?r.before(l+1):r.after(l+1)}return null}function ka(t,e,n=e,r=te.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return vg(i,s,r)?new Bt(e,n,r):new Bx(i,s,r).fit()}function vg(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class Bx{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=j.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=j.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,l=r.depth,c=i.depth;for(;l&&c&&s.childCount==1;)s=s.firstChild.content,l--,c--;let u=new te(s,l,c);return e>-1?new zt(r.pos,e,this.$to.pos,this.$to.end(),u,n):u.size||r.pos!=this.$to.pos?new Bt(r.pos,i.pos,u):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=Nd(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let l=i.firstChild;for(let c=this.depth;c>=0;c--){let{type:u,match:d}=this.frontier[c],p,h=null;if(n==1&&(l?d.matchType(l.type)||(h=d.fillBefore(j.from(l),!1)):s&&u.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:c,parent:s,inject:h};if(n==2&&l&&(p=d.findWrapping(l.type)))return{sliceDepth:r,frontierDepth:c,parent:s,wrap:p};if(s&&d.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Nd(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new te(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Nd(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new te(Do(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new te(Do(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let w=0;w<s.length;w++)this.openFrontierNode(s[w]);let l=this.unplaced,c=r?r.content:l.content,u=l.openStart-e,d=0,p=[],{match:h,type:g}=this.frontier[n];if(i){for(let w=0;w<i.childCount;w++)p.push(i.child(w));h=h.matchFragment(i)}let y=c.size+e-(l.content.size-l.openEnd);for(;d<c.childCount;){let w=c.child(d),v=h.matchType(w.type);if(!v)break;d++,(d>1||u==0||w.content.size)&&(h=v,p.push(xg(w.mark(g.allowedMarks(w.marks)),d==1?u:0,d==c.childCount?y:-1)))}let k=d==c.childCount;k||(y=-1),this.placed=Po(this.placed,n,j.from(p)),this.frontier[n].match=h,k&&y<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let w=0,v=c;w<y;w++){let x=v.lastChild;this.frontier.push({type:x.type,match:x.contentMatchAt(x.childCount)}),v=x.content}this.unplaced=k?e==0?te.empty:new te(Do(l.content,e-1,1),e-1,y<0?l.openEnd:e-1):new te(Do(l.content,e,d),l.openStart,l.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Md(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),l=Md(e,n,i,r,s);if(l){for(let c=n-1;c>=0;c--){let{match:u,type:d}=this.frontier[c],p=Md(e,c,d,u,!0);if(!p||p.childCount)continue e}return{depth:n,fit:l,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Po(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Po(this.placed,this.depth,j.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(j.empty,!0);n.childCount&&(this.placed=Po(this.placed,this.frontier.length,n))}}function Do(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Do(t.firstChild.content,e-1,n)))}function Po(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Po(t.lastChild.content,e-1,n)))}function Nd(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function xg(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,xg(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(j.empty,!0)))),t.copy(r)}function Md(t,e,n,r,i){let s=t.node(e),l=i?t.indexAfter(e):t.index(e);if(l==s.childCount&&!n.compatibleContent(s.type))return null;let c=r.fillBefore(s.content,!0,l);return c&&!zx(n,s.content,l)?c:null}function zx(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function $x(t){return t.spec.defining||t.spec.definingForContent}function Fx(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(vg(i,s,r))return t.step(new Bt(e,n,r));let l=Cg(i,s);l[l.length-1]==0&&l.pop();let c=-(i.depth+1);l.unshift(c);for(let g=i.depth,y=i.pos-1;g>0;g--,y--){let k=i.node(g).type.spec;if(k.defining||k.definingAsContext||k.isolating)break;l.indexOf(g)>-1?c=g:i.before(g)==y&&l.splice(1,0,-g)}let u=l.indexOf(c),d=[],p=r.openStart;for(let g=r.content,y=0;;y++){let k=g.firstChild;if(d.push(k),y==r.openStart)break;g=k.content}for(let g=p-1;g>=0;g--){let y=d[g],k=$x(y.type);if(k&&!y.sameMarkup(i.node(Math.abs(c)-1)))p=g;else if(k||!y.type.isTextblock)break}for(let g=r.openStart;g>=0;g--){let y=(g+p+1)%(r.openStart+1),k=d[y];if(k)for(let w=0;w<l.length;w++){let v=l[(w+u)%l.length],x=!0;v<0&&(x=!1,v=-v);let N=i.node(v-1),I=i.index(v-1);if(N.canReplaceWith(I,I,k.type,k.marks))return t.replace(i.before(v),x?s.after(v):n,new te(Sg(r.content,0,r.openStart,y),y,r.openEnd))}}let h=t.steps.length;for(let g=l.length-1;g>=0&&(t.replace(e,n,r),!(t.steps.length>h));g--){let y=l[g];y<0||(e=i.before(y),n=s.after(y))}}function Sg(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(Sg(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),l=s.fillBefore(t).append(t);t=l.append(s.matchFragment(l).fillBefore(j.empty,!0))}return t}function Ux(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=Px(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new te(j.from(r),0,0))}function Hx(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=Cg(r,i);for(let l=0;l<s.length;l++){let c=s[l],u=l==s.length-1;if(u&&c==0||r.node(c).type.contentMatch.validEnd)return t.delete(r.start(c),i.end(c));if(c>0&&(u||r.node(c-1).canReplace(r.index(c-1),i.indexAfter(c-1))))return t.delete(r.before(c),i.after(c))}for(let l=1;l<=r.depth&&l<=i.depth;l++)if(e-r.start(l)==r.depth-l&&n>r.end(l)&&i.end(l)-n!=i.depth-l&&r.start(l-1)==i.start(l-1)&&r.node(l-1).canReplace(r.index(l-1),i.index(l-1)))return t.delete(r.before(l),n);t.delete(e,n)}function Cg(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class Ps extends Jt{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Mt.fail(\"No node at attribute step's position\");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Mt.fromReplace(e,this.pos,this.pos+1,new te(j.from(i),0,n.isLeaf?0:1))}getMap(){return wn.empty}invert(e){return new Ps(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ps(n.pos,this.attr,this.value)}toJSON(){return{stepType:\"attr\",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!=\"number\"||typeof n.attr!=\"string\")throw new RangeError(\"Invalid input for AttrStep.fromJSON\");return new Ps(n.pos,n.attr,n.value)}}Jt.jsonID(\"attr\",Ps);class Bo extends Jt{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Mt.ok(r)}getMap(){return wn.empty}invert(e){return new Bo(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:\"docAttr\",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!=\"string\")throw new RangeError(\"Invalid input for DocAttrStep.fromJSON\");return new Bo(n.attr,n.value)}}Jt.jsonID(\"docAttr\",Bo);let Bs=class extends Error{};Bs=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n},Bs.prototype=Object.create(Error.prototype),Bs.prototype.constructor=Bs,Bs.prototype.name=\"TransformError\";class Ad{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Lo}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Bs(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}changedRange(){let e=1e9,n=-1e9;for(let r=0;r<this.mapping.maps.length;r++){let i=this.mapping.maps[r];r&&(e=i.map(e,1),n=i.map(n,-1)),i.forEach((s,l,c,u)=>{e=Math.min(e,c),n=Math.max(n,u)})}return e==1e9?null:{from:e,to:n}}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=te.empty){let i=ka(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new te(j.from(r),0,0))}delete(e,n){return this.replace(e,n,te.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return Fx(this,e,n,r),this}replaceRangeWith(e,n,r){return Ux(this,e,n,r),this}deleteRange(e,n){return Hx(this,e,n),this}lift(e,n){return Tx(this,e,n),this}join(e,n=1){return Dx(this,e,n),this}wrap(e,n){return Mx(this,e,n),this}setBlockType(e,n=e,r,i=null){return Ax(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return Ox(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new Ps(e,n,r)),this}setDocAttribute(e,n){return this.step(new Bo(e,n)),this}addNodeMark(e,n){return this.step(new qr(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError(\"No node at position \"+e);if(n instanceof nt)n.isInSet(r.marks)&&this.step(new ji(e,n));else{let i=r.marks,s,l=[];for(;s=n.isInSet(i);)l.push(new ji(e,s)),i=s.removeFromSet(i);for(let c=l.length-1;c>=0;c--)this.step(l[c])}return this}split(e,n=1,r){return Ix(this,e,n,r),this}addMark(e,n,r){return xx(this,e,n,r),this}removeMark(e,n,r){return Sx(this,e,n,r),this}clearIncompatible(e,n,r){return Td(this,e,n,r),this}}const Rd=Object.create(null);class Se{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new Tg(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=te.empty){let r=n.content.lastChild,i=null;for(let c=0;c<n.openEnd;c++)i=r,r=r.lastChild;let s=e.steps.length,l=this.ranges;for(let c=0;c<l.length;c++){let{$from:u,$to:d}=l[c],p=e.mapping.slice(s);e.replaceRange(p.map(u.pos),p.map(d.pos),c?te.empty:n),c==0&&Mg(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:l,$to:c}=i[s],u=e.mapping.slice(r),d=u.map(l.pos),p=u.map(c.pos);s?e.deleteRange(d,p):(e.replaceRangeWith(d,p,n),Mg(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new ke(e):zs(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let l=n<0?zs(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):zs(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(l)return l}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new vn(e.node(0))}static atStart(e){return zs(e,e,0,0,1)||new vn(e)}static atEnd(e){return zs(e,e,e.content.size,e.childCount,-1)||new vn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError(\"Invalid input for Selection.fromJSON\");let r=Rd[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Rd)throw new RangeError(\"Duplicate use of selection JSON ID \"+e);return Rd[e]=n,n.prototype.jsonID=e,n}getBookmark(){return ke.between(this.$anchor,this.$head).getBookmark()}}Se.prototype.visible=!0;class Tg{constructor(e,n){this.$from=e,this.$to=n}}let _g=!1;function Ng(t){!_g&&!t.parent.inlineContent&&(_g=!0,console.warn(\"TextSelection endpoint not pointing into a node with inline content (\"+t.parent.type.name+\")\"))}class ke extends Se{constructor(e,n=e){Ng(e),Ng(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Se.near(r);let i=e.resolve(n.map(this.anchor));return new ke(i.parent.inlineContent?i:r,r)}replace(e,n=te.empty){if(super.replace(e,n),n==te.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof ke&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Ea(this.anchor,this.head)}toJSON(){return{type:\"text\",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!=\"number\"||typeof n.head!=\"number\")throw new RangeError(\"Invalid input for TextSelection.fromJSON\");return new ke(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=Se.findFrom(n,r,!0)||Se.findFrom(n,-r,!0);if(s)n=s.$head;else return Se.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Se.findFrom(e,-r,!0)||Se.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new ke(e,n)}}Se.jsonID(\"text\",ke);class Ea{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Ea(e.map(this.anchor),e.map(this.head))}resolve(e){return ke.between(e.resolve(this.anchor),e.resolve(this.head))}}class we extends Se{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?Se.near(s):new we(s)}content(){return new te(j.from(this.node),0,0)}eq(e){return e instanceof we&&e.anchor==this.anchor}toJSON(){return{type:\"node\",anchor:this.anchor}}getBookmark(){return new Od(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!=\"number\")throw new RangeError(\"Invalid input for NodeSelection.fromJSON\");return new we(e.resolve(n.anchor))}static create(e,n){return new we(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}we.prototype.visible=!1,Se.jsonID(\"node\",we);class Od{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Ea(r,r):new Od(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&we.isSelectable(r)?new we(n):Se.near(n)}}class vn extends Se{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=te.empty){if(n==te.empty){e.delete(0,e.doc.content.size);let r=Se.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:\"all\"}}static fromJSON(e){return new vn(e)}map(e){return new vn(e)}eq(e){return e instanceof vn}getBookmark(){return jx}}Se.jsonID(\"all\",vn);const jx={map(){return this},resolve(t){return new vn(t)}};function zs(t,e,n,r,i,s=!1){if(e.inlineContent)return ke.create(t,n);for(let l=r-(i>0?0:1);i>0?l<e.childCount:l>=0;l+=i){let c=e.child(l);if(c.isAtom){if(!s&&we.isSelectable(c))return we.create(t,n-(i<0?c.nodeSize:0))}else{let u=zs(t,c,n+i,i<0?c.childCount:0,i,s);if(u)return u}n+=c.nodeSize*i}return null}function Mg(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof Bt||i instanceof zt))return;let s=t.mapping.maps[r],l;s.forEach((c,u,d,p)=>{l==null&&(l=p)}),t.setSelection(Se.near(t.doc.resolve(l),n))}const Ag=1,wa=2,Rg=4;class Vx extends Ad{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError(\"Selection passed to setSelection must point at the current document\");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Ag)&~wa,this.storedMarks=null,this}get selectionSet(){return(this.updated&Ag)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=wa,this}ensureMarks(e){return nt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&wa)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~wa,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||nt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let l=this.doc.resolve(n);s=r==n?l.marks():l.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(Se.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e==\"string\"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e==\"string\"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Rg,this}get scrolledIntoView(){return(this.updated&Rg)>0}}function Og(t,e){return!e||!t?t:t.bind(e)}class zo{constructor(e,n,r){this.name=e,this.init=Og(n.init,r),this.apply=Og(n.apply,r)}}const Wx=[new zo(\"doc\",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new zo(\"selection\",{init(t,e){return t.selection||Se.atStart(e.doc)},apply(t){return t.selection}}),new zo(\"storedMarks\",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new zo(\"scrollToSelection\",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Id{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Wx.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError(\"Adding different instances of a keyed plugin (\"+r.key+\")\");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new zo(r.key,r.spec.state,r))})}}class $s{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let l=0;l<this.config.plugins.length;l++){let c=this.config.plugins[l];if(c.spec.appendTransaction){let u=i?i[l].n:0,d=i?i[l].state:this,p=u<n.length&&c.spec.appendTransaction.call(c,u?n.slice(u):n,d,r);if(p&&r.filterTransaction(p,l)){if(p.setMeta(\"appendedTransaction\",e),!i){i=[];for(let h=0;h<this.config.plugins.length;h++)i.push(h<l?{state:r,n:n.length}:{state:this,n:0})}n.push(p),r=r.applyInner(p),s=!0}i&&(i[l]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError(\"Applying a mismatched transaction\");let n=new $s(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new Vx(this)}static create(e){let n=new Id(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new $s(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new Id(this.schema,e.plugins),r=n.fields,i=new $s(n);for(let s=0;s<r.length;s++){let l=r[s].name;i[l]=this.hasOwnProperty(l)?this[l]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e==\"object\")for(let r in e){if(r==\"doc\"||r==\"selection\")throw new RangeError(\"The JSON fields `doc` and `selection` are reserved\");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError(\"Invalid input for EditorState.fromJSON\");if(!e.schema)throw new RangeError(\"Required config field 'schema' missing\");let i=new Id(e.schema,e.plugins),s=new $s(i);return i.fields.forEach(l=>{if(l.name==\"doc\")s.doc=Hn.fromJSON(e.schema,n.doc);else if(l.name==\"selection\")s.selection=Se.fromJSON(s.doc,n.selection);else if(l.name==\"storedMarks\")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let c in r){let u=r[c],d=u.spec.state;if(u.key==l.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(n,c)){s[l.name]=d.fromJSON.call(u,e,n[c],s);return}}s[l.name]=l.init(e,s)}}),s}}function Ig(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r==\"handleDOMEvents\"&&(i=Ig(i,e,{})),n[r]=i}return n}class Ge{constructor(e){this.spec=e,this.props={},e.props&&Ig(e.props,this,this.props),this.key=e.key?e.key.key:Lg(\"plugin\")}getState(e){return e[this.key]}}const Ld=Object.create(null);function Lg(t){return t in Ld?t+\"$\"+ ++Ld[t]:(Ld[t]=0,t+\"$\")}class rt{constructor(e=\"key\"){this.key=Lg(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Dd=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function Dg(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock(\"backward\",t):n.parentOffset>0)?null:n}const Pg=(t,e,n)=>{let r=Dg(t,n);if(!r)return!1;let i=Pd(r);if(!i){let l=r.blockRange(),c=l&&Ds(l);return c==null?!1:(e&&e(t.tr.lift(l,c).scrollIntoView()),!0)}let s=i.nodeBefore;if(Wg(t,i,e,-1))return!0;if(r.parent.content.size==0&&(Fs(s,\"end\")||we.isSelectable(s)))for(let l=r.depth;;l--){let c=ka(t.doc,r.before(l),r.after(l),te.empty);if(c&&c.slice.size<c.to-c.from){if(e){let u=t.tr.step(c);u.setSelection(Fs(s,\"end\")?Se.findFrom(u.doc.resolve(u.mapping.map(i.pos,-1)),-1):we.create(u.doc,i.pos-s.nodeSize)),e(u.scrollIntoView())}return!0}if(l==1||r.node(l-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},Kx=(t,e,n)=>{let r=Dg(t,n);if(!r)return!1;let i=Pd(r);return i?Bg(t,i,e):!1},qx=(t,e,n)=>{let r=$g(t,n);if(!r)return!1;let i=Bd(r);return i?Bg(t,i,e):!1};function Bg(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let p=i.lastChild;if(!p)return!1;i=p}let l=e.nodeAfter,c=l,u=e.pos+1;for(;!c.isTextblock;u++){if(c.type.spec.isolating)return!1;let p=c.firstChild;if(!p)return!1;c=p}let d=ka(t.doc,s,u,te.empty);if(!d||d.from!=s||d instanceof Bt&&d.slice.size>=u-s)return!1;if(n){let p=t.tr.step(d);p.setSelection(ke.create(p.doc,s)),n(p.scrollIntoView())}return!0}function Fs(t,e,n=!1){for(let r=t;r;r=e==\"start\"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const zg=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock(\"backward\",t):r.parentOffset>0)return!1;s=Pd(r)}let l=s&&s.nodeBefore;return!l||!we.isSelectable(l)?!1:(e&&e(t.tr.setSelection(we.create(t.doc,s.pos-l.nodeSize)).scrollIntoView()),!0)};function Pd(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function $g(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock(\"forward\",t):n.parentOffset<n.parent.content.size)?null:n}const Fg=(t,e,n)=>{let r=$g(t,n);if(!r)return!1;let i=Bd(r);if(!i)return!1;let s=i.nodeAfter;if(Wg(t,i,e,1))return!0;if(r.parent.content.size==0&&(Fs(s,\"start\")||we.isSelectable(s))){let l=ka(t.doc,r.before(),r.after(),te.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=t.tr.step(l);c.setSelection(Fs(s,\"start\")?Se.findFrom(c.doc.resolve(c.mapping.map(i.pos)),1):we.create(c.doc,c.mapping.map(i.pos))),e(c.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},Ug=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock(\"forward\",t):r.parentOffset<r.parent.content.size)return!1;s=Bd(r)}let l=s&&s.nodeAfter;return!l||!we.isSelectable(l)?!1:(e&&e(t.tr.setSelection(we.create(t.doc,s.pos)).scrollIntoView()),!0)};function Bd(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const Gx=(t,e)=>{let n=t.selection,r=n instanceof we,i;if(r){if(n.node.isTextblock||!Gr(t.doc,n.from))return!1;i=n.from}else if(i=ba(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(we.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},Yx=(t,e)=>{let n=t.selection,r;if(n instanceof we){if(n.node.isTextblock||!Gr(t.doc,n.to))return!1;r=n.to}else if(r=ba(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},Jx=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&Ds(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},Hg=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`\n`).scrollIntoView()),!0)};function zd(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Qx=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),l=zd(i.contentMatchAt(s));if(!l||!i.canReplaceWith(s,s,l))return!1;if(e){let c=n.after(),u=t.tr.replaceWith(c,c,l.createAndFill());u.setSelection(Se.near(u.doc.resolve(c),1)),e(u.scrollIntoView())}return!0},jg=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof vn||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=zd(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let l=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,c=t.tr.insert(l,s.createAndFill());c.setSelection(ke.create(c.doc,l+1)),e(c.scrollIntoView())}return!0},Vg=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(vr(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Ds(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function Zx(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof we&&e.selection.node.isBlock)return!r.parentOffset||!vr(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],l,c,u=!1,d=!1;for(let y=r.depth;;y--)if(r.node(y).isBlock){u=r.end(y)==r.pos+(r.depth-y),d=r.start(y)==r.pos-(r.depth-y),c=zd(r.node(y-1).contentMatchAt(r.indexAfter(y-1))),s.unshift(u&&c?{type:c}:null),l=y;break}else{if(y==1)return!1;s.unshift(null)}let p=e.tr;(e.selection instanceof ke||e.selection instanceof vn)&&p.deleteSelection();let h=p.mapping.map(r.pos),g=vr(p.doc,h,s.length,s);if(g||(s[0]=c?{type:c}:null,g=vr(p.doc,h,s.length,s)),!g)return!1;if(p.split(h,s.length,s),!u&&d&&r.node(l).type!=c){let y=p.mapping.map(r.before(l)),k=p.doc.resolve(y);c&&r.node(l-1).canReplaceWith(k.index(),k.index()+1,c)&&p.setNodeMarkup(p.mapping.map(r.before(l)),c)}return n&&n(p.scrollIntoView()),!0}}const Xx=Zx(),eS=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(we.create(t.doc,i))),!0)};function tS(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||Gr(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function Wg(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,l,c,u=i.type.spec.isolating||s.type.spec.isolating;if(!u&&tS(t,e,n))return!0;let d=!u&&e.parent.canReplace(e.index(),e.index()+1);if(d&&(l=(c=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&c.matchType(l[0]||s.type).validEnd){if(n){let y=e.pos+s.nodeSize,k=j.empty;for(let x=l.length-1;x>=0;x--)k=j.from(l[x].create(null,k));k=j.from(i.copy(k));let w=t.tr.step(new zt(e.pos-1,y,e.pos,y,new te(k,1,0),l.length,!0)),v=w.doc.resolve(y+2*l.length);v.nodeAfter&&v.nodeAfter.type==i.type&&Gr(w.doc,v.pos)&&w.join(v.pos),n(w.scrollIntoView())}return!0}let p=s.type.spec.isolating||r>0&&u?null:Se.findFrom(e,1),h=p&&p.$from.blockRange(p.$to),g=h&&Ds(h);if(g!=null&&g>=e.depth)return n&&n(t.tr.lift(h,g).scrollIntoView()),!0;if(d&&Fs(s,\"start\",!0)&&Fs(i,\"end\")){let y=i,k=[];for(;k.push(y),!y.isTextblock;)y=y.lastChild;let w=s,v=1;for(;!w.isTextblock;w=w.firstChild)v++;if(y.canReplace(y.childCount,y.childCount,w.content)){if(n){let x=j.empty;for(let I=k.length-1;I>=0;I--)x=j.from(k[I].copy(x));let N=t.tr.step(new zt(e.pos-k.length,e.pos+s.nodeSize,e.pos+v,e.pos+s.nodeSize-v,new te(x,k.length,0),0,!0));n(N.scrollIntoView())}return!0}}return!1}function Kg(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(ke.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const nS=Kg(-1),rS=Kg(1);function iS(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,l=i.blockRange(s),c=l&&_d(l,t,e);return c?(r&&r(n.tr.wrap(l,c).scrollIntoView()),!0):!1}}function qg(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:l},$to:{pos:c}}=n.selection.ranges[s];n.doc.nodesBetween(l,c,(u,d)=>{if(i)return!1;if(!(!u.isTextblock||u.hasMarkup(t,e)))if(u.type==t)i=!0;else{let p=n.doc.resolve(d),h=p.index();i=p.parent.canReplaceWith(h,h+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let l=0;l<n.selection.ranges.length;l++){let{$from:{pos:c},$to:{pos:u}}=n.selection.ranges[l];s.setBlockType(c,u,t,e)}r(s.scrollIntoView())}return!0}}function $d(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}$d(Dd,Pg,zg),$d(Dd,Fg,Ug),$d(Hg,jg,Vg,Xx),typeof navigator<\"u\"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<\"u\"&&os.platform&&os.platform()==\"darwin\";function sS(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,l=i.blockRange(s);if(!l)return!1;let c=r?n.tr:null;return oS(c,l,t,e)?(r&&r(c.scrollIntoView()),!0):!1}}function oS(t,e,n,r=null){let i=!1,s=e,l=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let u=l.resolve(e.start-2);s=new fa(u,u,e.depth),e.endIndex<e.parent.childCount&&(e=new fa(e.$from,l.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let c=_d(s,n,r,e);return c?(t&&lS(t,e,c,i,n),!0):!1}function lS(t,e,n,r,i){let s=j.empty;for(let p=n.length-1;p>=0;p--)s=j.from(n[p].type.create(n[p].attrs,s));t.step(new zt(e.start-(r?2:0),e.end,e.start,e.end,new te(s,0,0),n.length,!0));let l=0;for(let p=0;p<n.length;p++)n[p].type==i&&(l=p+1);let c=n.length-l,u=e.start+n.length-(r?2:0),d=e.parent;for(let p=e.startIndex,h=e.endIndex,g=!0;p<h;p++,g=!1)!g&&vr(t.doc,u,c)&&(t.split(u,c),u+=2*c),u+=d.child(p).nodeSize;return t}function aS(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,l=>l.childCount>0&&l.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?cS(e,n,t,s):uS(e,n,s):!0:!1}}function cS(t,e,n,r){let i=t.tr,s=r.end,l=r.$to.end(r.depth);s<l&&(i.step(new zt(s-1,l,s,l,new te(j.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new fa(i.doc.resolve(r.$from.pos),i.doc.resolve(l),r.depth));const c=Ds(r);if(c==null)return!1;i.lift(r,c);let u=i.doc.resolve(i.mapping.map(s,-1)-1);return Gr(i.doc,u.pos)&&u.nodeBefore.type==u.nodeAfter.type&&i.join(u.pos),e(i.scrollIntoView()),!0}function uS(t,e,n){let r=t.tr,i=n.parent;for(let y=n.end,k=n.endIndex-1,w=n.startIndex;k>w;k--)y-=i.child(k).nodeSize,r.delete(y-1,y+1);let s=r.doc.resolve(n.start),l=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let c=n.startIndex==0,u=n.endIndex==i.childCount,d=s.node(-1),p=s.index(-1);if(!d.canReplace(p+(c?0:1),p+1,l.content.append(u?j.empty:j.from(i))))return!1;let h=s.pos,g=h+l.nodeSize;return r.step(new zt(h-(c?1:0),g+(u?1:0),h+1,g-1,new te((c?j.empty:j.from(i.copy(j.empty))).append(u?j.empty:j.from(i.copy(j.empty))),c?0:1,u?0:1),c?0:1)),e(r.scrollIntoView()),!0}function dS(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,d=>d.childCount>0&&d.firstChild.type==t);if(!s)return!1;let l=s.startIndex;if(l==0)return!1;let c=s.parent,u=c.child(l-1);if(u.type!=t)return!1;if(n){let d=u.lastChild&&u.lastChild.type==c.type,p=j.from(d?t.create():null),h=new te(j.from(t.create(null,j.from(c.type.create(null,p)))),d?3:1,0),g=s.start,y=s.end;n(e.tr.step(new zt(g-(d?3:1),y,g,y,h,1,!0)).scrollIntoView())}return!0}}const Wt=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Us=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Fd=null;const xr=function(t,e,n){let r=Fd||(Fd=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},fS=function(){Fd=null},Vi=function(t,e,n,r){return n&&(Gg(t,e,n,r,-1)||Gg(t,e,n,r,1))},pS=/^(img|br|input|textarea|hr)$/i;function Gg(t,e,n,r,i){for(var s;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Nn(t))){let l=t.parentNode;if(!l||l.nodeType!=1||$o(t)||pS.test(t.nodeName)||t.contentEditable==\"false\")return!1;e=Wt(t)+(i<0?0:1),t=l}else if(t.nodeType==1){let l=t.childNodes[e+(i<0?-1:0)];if(l.nodeType==1&&l.contentEditable==\"false\")if(!((s=l.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else t=l,e=i<0?Nn(t):0}else return!1}}function Nn(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function hS(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable==\"false\")return null;t=t.childNodes[e-1],e=Nn(t)}else if(t.parentNode&&!$o(t))e=Wt(t),t=t.parentNode;else return null}}function mS(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable==\"false\")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!$o(t))e=Wt(t)+1,t=t.parentNode;else return null}}function gS(t,e,n){for(let r=e==0,i=e==Nn(t);r||i;){if(t==n)return!0;let s=Wt(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==Nn(t)}}function $o(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const va=function(t){return t.focusNode&&Vi(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Wi(t,e){let n=document.createEvent(\"Event\");return n.initEvent(\"keydown\",!0,!0),n.keyCode=t,n.key=n.code=e,n}function yS(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function bS(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Nn(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Nn(r.startContainer),r.startOffset)}}}const rr=typeof navigator<\"u\"?navigator:null,Yg=typeof document<\"u\"?document:null,Yr=rr&&rr.userAgent||\"\",Ud=/Edge\\/(\\d+)/.exec(Yr),Jg=/MSIE \\d/.exec(Yr),Hd=/Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(Yr),hn=!!(Jg||Hd||Ud),Jr=Jg?document.documentMode:Hd?+Hd[1]:Ud?+Ud[1]:0,Mn=!hn&&/gecko\\/(\\d+)/i.test(Yr);Mn&&+(/Firefox\\/(\\d+)/.exec(Yr)||[0,0])[1];const jd=!hn&&/Chrome\\/(\\d+)/.exec(Yr),Kt=!!jd,Qg=jd?+jd[1]:0,Qt=!hn&&!!rr&&/Apple Computer/.test(rr.vendor),Hs=Qt&&(/Mobile\\/\\w+/.test(Yr)||!!rr&&rr.maxTouchPoints>2),An=Hs||(rr?/Mac/.test(rr.platform):!1),Zg=rr?/Win/.test(rr.platform):!1,Sr=/Android \\d/.test(Yr),Fo=!!Yg&&\"webkitFontSmoothing\"in Yg.documentElement.style,kS=Fo?+(/\\bAppleWebKit\\/(\\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function ES(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Cr(t,e){return typeof t==\"number\"?t:t[e]}function wS(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function Xg(t,e,n){let r=t.someProp(\"scrollThreshold\")||0,i=t.someProp(\"scrollMargin\")||5,s=t.dom.ownerDocument;for(let l=n||t.dom;l;){if(l.nodeType!=1){l=Us(l);continue}let c=l,u=c==s.body,d=u?ES(s):wS(c),p=0,h=0;if(e.top<d.top+Cr(r,\"top\")?h=-(d.top-e.top+Cr(i,\"top\")):e.bottom>d.bottom-Cr(r,\"bottom\")&&(h=e.bottom-e.top>d.bottom-d.top?e.top+Cr(i,\"top\")-d.top:e.bottom-d.bottom+Cr(i,\"bottom\")),e.left<d.left+Cr(r,\"left\")?p=-(d.left-e.left+Cr(i,\"left\")):e.right>d.right-Cr(r,\"right\")&&(p=e.right-d.right+Cr(i,\"right\")),p||h)if(u)s.defaultView.scrollBy(p,h);else{let y=c.scrollLeft,k=c.scrollTop;h&&(c.scrollTop+=h),p&&(c.scrollLeft+=p);let w=c.scrollLeft-y,v=c.scrollTop-k;e={left:e.left-w,top:e.top-v,right:e.right-w,bottom:e.bottom-v}}let g=u?\"fixed\":getComputedStyle(l).position;if(/^(fixed|sticky)$/.test(g))break;l=g==\"absolute\"?l.offsetParent:Us(l)}}function vS(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,l=n+1;l<Math.min(innerHeight,e.bottom);l+=5){let c=t.root.elementFromPoint(s,l);if(!c||c==t.dom||!t.dom.contains(c))continue;let u=c.getBoundingClientRect();if(u.top>=n-20){r=c,i=u.top;break}}return{refDOM:r,refTop:i,stack:ey(t.dom)}}function ey(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Us(r));return e}function xS({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;ty(n,r==0?0:r-e)}function ty(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let js=null;function SS(t){if(t.setActive)return t.setActive();if(js)return t.focus(js);let e=ey(t);t.focus(js==null?{get preventScroll(){return js={preventScroll:!0},!0}}:void 0),js||(js=!1,ty(e,0))}function ny(t,e){let n,r=2e8,i,s=0,l=e.top,c=e.top,u,d;for(let p=t.firstChild,h=0;p;p=p.nextSibling,h++){let g;if(p.nodeType==1)g=p.getClientRects();else if(p.nodeType==3)g=xr(p).getClientRects();else continue;for(let y=0;y<g.length;y++){let k=g[y];if(k.top<=l&&k.bottom>=c){l=Math.max(k.bottom,l),c=Math.min(k.top,c);let w=k.left>e.left?k.left-e.left:k.right<e.left?e.left-k.right:0;if(w<r){n=p,r=w,i=w&&n.nodeType==3?{left:k.right<e.left?k.right:k.left,top:e.top}:e,p.nodeType==1&&w&&(s=h+(e.left>=(k.left+k.right)/2?1:0));continue}}else k.top>e.top&&!u&&k.left<=e.left&&k.right>=e.left&&(u=p,d={left:Math.max(k.left,Math.min(k.right,e.left)),top:k.top});!n&&(e.left>=k.right&&e.top>=k.top||e.left>=k.left&&e.top>=k.bottom)&&(s=h+1)}}return!n&&u&&(n=u,i=d,r=0),n&&n.nodeType==3?CS(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:ny(n,i)}function CS(t,e){let n=t.nodeValue.length,r=document.createRange(),i;for(let s=0;s<n;s++){r.setEnd(t,s+1),r.setStart(t,s);let l=Qr(r,1);if(l.top!=l.bottom&&Vd(e,l)){i={node:t,offset:s+(e.left>=(l.left+l.right)/2?1:0)};break}}return r.detach(),i||{node:t,offset:0}}function Vd(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function TS(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function _S(t,e,n){let{node:r,offset:i}=ny(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let l=r.getBoundingClientRect();s=l.left!=l.right&&n.left>(l.left+l.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function NS(t,e,n,r){let i=-1;for(let s=e,l=!1;s!=t.dom;){let c=t.docView.nearestDesc(s,!0),u;if(!c)return null;if(c.dom.nodeType==1&&(c.node.isBlock&&c.parent||!c.contentDOM)&&((u=c.dom.getBoundingClientRect()).width||u.height)&&(c.node.isBlock&&c.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(c.dom.nodeName)&&(!l&&u.left>r.left||u.top>r.top?i=c.posBefore:(!l&&u.right<r.left||u.bottom<r.top)&&(i=c.posAfter),l=!0),!c.contentDOM&&i<0&&!c.node.isText))return(c.node.isBlock?r.top<(u.top+u.bottom)/2:r.left<(u.left+u.right)/2)?c.posBefore:c.posAfter;s=c.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function ry(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let l=t.childNodes[s];if(l.nodeType==1){let c=l.getClientRects();for(let u=0;u<c.length;u++){let d=c[u];if(Vd(e,d))return ry(l,e,d)}}if((s=(s+1)%r)==i)break}return t}function MS(t,e){let n=t.dom.ownerDocument,r,i=0,s=bS(n,e.left,e.top);s&&({node:r,offset:i}=s);let l=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),c;if(!l||!t.dom.contains(l.nodeType!=1?l.parentNode:l)){let d=t.dom.getBoundingClientRect();if(!Vd(e,d)||(l=ry(t.dom,e,d),!l))return null}if(Qt)for(let d=l;r&&d;d=Us(d))d.draggable&&(r=void 0);if(l=TS(l,e),r){if(Mn&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let p=r.childNodes[i],h;p.nodeName==\"IMG\"&&(h=p.getBoundingClientRect()).right<=e.left&&h.bottom>e.top&&i++}let d;Fo&&i&&r.nodeType==1&&(d=r.childNodes[i-1]).nodeType==1&&d.contentEditable==\"false\"&&d.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?c=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!=\"BR\")&&(c=NS(t,r,i,e))}c==null&&(c=_S(t,l,e));let u=t.docView.nearestDesc(l,!0);return{pos:c,inside:u?u.posAtStart-u.border:-1}}function iy(t){return t.top<t.bottom||t.left<t.right}function Qr(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(iy(r))return r}return Array.prototype.find.call(n,iy)||t.getBoundingClientRect()}const AS=/[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;function sy(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),l=Fo||Mn;if(r.nodeType==3)if(l&&(AS.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let u=Qr(xr(r,i,i),n);if(Mn&&i&&/\\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let d=Qr(xr(r,i-1,i-1),-1);if(d.top==u.top){let p=Qr(xr(r,i,i+1),-1);if(p.top!=u.top)return Uo(p,p.left<d.left)}}return u}else{let u=i,d=i,p=n<0?1:-1;return n<0&&!i?(d++,p=-1):n>=0&&i==r.nodeValue.length?(u--,p=1):n<0?u--:d++,Uo(Qr(xr(r,u,d),p),p<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==Nn(r))){let u=r.childNodes[i-1];if(u.nodeType==1)return Wd(u.getBoundingClientRect(),!1)}if(s==null&&i<Nn(r)){let u=r.childNodes[i];if(u.nodeType==1)return Wd(u.getBoundingClientRect(),!0)}return Wd(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==Nn(r))){let u=r.childNodes[i-1],d=u.nodeType==3?xr(u,Nn(u)-(l?0:1)):u.nodeType==1&&(u.nodeName!=\"BR\"||!u.nextSibling)?u:null;if(d)return Uo(Qr(d,1),!1)}if(s==null&&i<Nn(r)){let u=r.childNodes[i];for(;u.pmViewDesc&&u.pmViewDesc.ignoreForCoords;)u=u.nextSibling;let d=u?u.nodeType==3?xr(u,0,l?0:1):u.nodeType==1?u:null:null;if(d)return Uo(Qr(d,-1),!0)}return Uo(Qr(r.nodeType==3?xr(r):r,-n),n>=0)}function Uo(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Wd(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function oy(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function RS(t,e,n){let r=e.selection,i=n==\"up\"?r.$from:r.$to;return oy(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n==\"up\"?-1:1);for(;;){let c=t.docView.nearestDesc(s,!0);if(!c)break;if(c.node.isBlock){s=c.contentDOM||c.dom;break}s=c.dom.parentNode}let l=sy(t,i.pos,1);for(let c=s.firstChild;c;c=c.nextSibling){let u;if(c.nodeType==1)u=c.getClientRects();else if(c.nodeType==3)u=xr(c,0,c.nodeValue.length).getClientRects();else continue;for(let d=0;d<u.length;d++){let p=u[d];if(p.bottom>p.top+1&&(n==\"up\"?l.top-p.top>(p.bottom-l.top)*2:p.bottom-l.bottom>(l.bottom-p.top)*2))return!1}}return!0})}const OS=/[\\u0590-\\u08ac]/;function IS(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,l=i==r.parent.content.size,c=t.domSelection();return c?!OS.test(r.parent.textContent)||!c.modify?n==\"left\"||n==\"backward\"?s:l:oy(t,e,()=>{let{focusNode:u,focusOffset:d,anchorNode:p,anchorOffset:h}=t.domSelectionRange(),g=c.caretBidiLevel;c.modify(\"move\",n,\"character\");let y=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:k,focusOffset:w}=t.domSelectionRange(),v=k&&!y.contains(k.nodeType==1?k:k.parentNode)||u==k&&d==w;try{c.collapse(p,h),u&&(u!=p||d!=h)&&c.extend&&c.extend(u,d)}catch{}return g!=null&&(c.caretBidiLevel=g),v}):r.pos==r.start()||r.pos==r.end()}let ly=null,ay=null,cy=!1;function LS(t,e,n){return ly==e&&ay==n?cy:(ly=e,ay=n,cy=n==\"up\"||n==\"down\"?RS(t,e,n):IS(t,e,n))}const Rn=0,uy=1,Ki=2,ir=3;class Ho{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Rn,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,l;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((l=s.pmViewDesc)&&l.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(l)+l.size:this.posAtStart}else{let s,l;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((l=s.pmViewDesc)&&l.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(l):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Wt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),l;if(s&&(!n||s.node))if(r&&(l=s.nodeDOM)&&!(l.nodeType==1?l.contains(e.nodeType==1?e:e.parentNode):l==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let l=0;l<i.children.length;l++){let c=i.children[l];if(c.size){i=c;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let l=this.children[r],c=s+l.size;if(c>e||l instanceof py){i=e-s;break}s=c}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof dy&&s.side>=0;r--);if(n<=0){let s,l=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,l=!1);return s&&n&&l&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?Wt(s.dom)+1:0}}else{let s,l=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,l=!1);return s&&l&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?Wt(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let l=r,c=0;;c++){let u=this.children[c],d=l+u.size;if(i==-1&&e<=d){let p=l+u.border;if(e>=p&&n<=d-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(e,n,p);e=l;for(let h=c;h>0;h--){let g=this.children[h-1];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(1)){i=Wt(g.dom)+1;break}e-=g.size}i==-1&&(i=0)}if(i>-1&&(d>n||c==this.children.length-1)){n=d;for(let p=c+1;p<this.children.length;p++){let h=this.children[p];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){s=Wt(h.dom);break}n+=h.size}s==-1&&(s=this.contentDOM.childNodes.length);break}l=d}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError(\"No node after pos \"+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),l=Math.max(e,n);for(let y=0,k=0;y<this.children.length;y++){let w=this.children[y],v=k+w.size;if(s>k&&l<v)return w.setSelection(e-k-w.border,n-k-w.border,r,i);k=v}let c=this.domFromPos(e,e?-1:1),u=n==e?c:this.domFromPos(n,n?-1:1),d=r.root.getSelection(),p=r.domSelectionRange(),h=!1;if((Mn||Qt)&&e==n){let{node:y,offset:k}=c;if(y.nodeType==3){if(h=!!(k&&y.nodeValue[k-1]==`\n`),h&&k==y.nodeValue.length)for(let w=y,v;w;w=w.parentNode){if(v=w.nextSibling){v.nodeName==\"BR\"&&(c=u={node:v.parentNode,offset:Wt(v)+1});break}let x=w.pmViewDesc;if(x&&x.node&&x.node.isBlock)break}}else{let w=y.childNodes[k-1];h=w&&(w.nodeName==\"BR\"||w.contentEditable==\"false\")}}if(Mn&&p.focusNode&&p.focusNode!=u.node&&p.focusNode.nodeType==1){let y=p.focusNode.childNodes[p.focusOffset];y&&y.contentEditable==\"false\"&&(i=!0)}if(!(i||h&&Qt)&&Vi(c.node,c.offset,p.anchorNode,p.anchorOffset)&&Vi(u.node,u.offset,p.focusNode,p.focusOffset))return;let g=!1;if((d.extend||e==n)&&!(h&&Mn)){d.collapse(c.node,c.offset);try{e!=n&&d.extend(u.node,u.offset),g=!0}catch{}}if(!g){if(e>n){let k=c;c=u,u=k}let y=document.createRange();y.setEnd(u.node,u.offset),y.setStart(c.node,c.offset),d.removeAllRanges(),d.addRange(y)}}ignoreMutation(e){return!this.contentDOM&&e.type!=\"selection\"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],l=r+s.size;if(r==l?e<=l&&n>=r:e<l&&n>r){let c=r+s.border,u=l-s.border;if(e>=c&&n<=u){this.dirty=e==r||n==l?Ki:uy,e==c&&n==u&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=ir:s.markDirty(e-c,n-c);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Ki:ir}r=l}this.dirty=Ki}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Ki:uy;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class dy extends Ho{constructor(e,n,r,i){let s,l=n.type.toDOM;if(typeof l==\"function\"&&(l=l(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(l.nodeType!=1){let c=document.createElement(\"span\");c.appendChild(l),l=c}l.contentEditable=\"false\",l.classList.add(\"ProseMirror-widget\")}super(e,[],l,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==Rn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!=\"selection\"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class DS extends Ho{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type===\"characterData\"&&e.target.nodeValue==e.oldValue}}class qi extends Ho{constructor(e,n,r,i,s){super(e,[],r,i),this.mark=n,this.spec=s}static create(e,n,r,i){let s=i.nodeViews[n.type.name],l=s&&s(n,i,r);return(!l||!l.dom)&&(l=Wr.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new qi(e,n,l.dom,l.contentDOM||l.dom,l)}parseRule(){return this.dirty&ir||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=ir&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Rn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Rn}}slice(e,n,r){let i=qi.create(this.parent,this.mark,!0,r),s=this.children,l=this.size;n<l&&(s=qd(s,n,l,r)),e>0&&(s=qd(s,0,e,r));for(let c=0;c<s.length;c++)s[c].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Zr extends Ho{constructor(e,n,r,i,s,l,c,u,d){super(e,[],s,l),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=c}static create(e,n,r,i,s,l){let c=s.nodeViews[n.type.name],u,d=c&&c(n,s,()=>{if(!u)return l;if(u.parent)return u.parent.posBeforeChild(u)},r,i),p=d&&d.dom,h=d&&d.contentDOM;if(n.isText){if(!p)p=document.createTextNode(n.text);else if(p.nodeType!=3)throw new RangeError(\"Text must be rendered as a DOM text node\")}else p||({dom:p,contentDOM:h}=Wr.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!h&&!n.isText&&p.nodeName!=\"BR\"&&(p.hasAttribute(\"contenteditable\")||(p.contentEditable=\"false\"),n.type.spec.draggable&&(p.draggable=!0));let g=p;return p=gy(p,r,n),d?u=new PS(e,n,r,i,p,h||null,g,d,s,l+1):n.isText?new xa(e,n,r,i,p,g,s):new Zr(e,n,r,i,p,h||null,g,s,l+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace==\"pre\"&&(e.preserveWhitespace=\"full\"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>j.empty)}return e}matchesNode(e,n,r){return this.dirty==Rn&&e.eq(this.node)&&Sa(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,l=s&&s.pos>-1?s:null,c=s&&s.pos<0,u=new zS(this,l&&l.node,e);US(this.node,this.innerDeco,(d,p,h)=>{d.spec.marks?u.syncToMarks(d.spec.marks,r,e,p):d.type.side>=0&&!h&&u.syncToMarks(p==this.node.childCount?nt.none:this.node.child(p).marks,r,e,p),u.placeWidget(d,e,i)},(d,p,h,g)=>{u.syncToMarks(d.marks,r,e,g);let y;u.findNodeMatch(d,p,h,g)||c&&e.state.selection.from>i&&e.state.selection.to<i+d.nodeSize&&(y=u.findIndexWithChild(s.node))>-1&&u.updateNodeAt(d,p,h,y,e)||u.updateNextNode(d,p,h,e,g,i)||u.addNode(d,p,h,e,i),i+=d.nodeSize}),u.syncToMarks([],r,e,0),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||this.dirty==Ki)&&(l&&this.protectLocalComposition(e,l),hy(this.contentDOM,this.children,e),Hs&&HS(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof ke)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let l=s.nodeValue,c=jS(this.node.content,l,r-n,i-n);return c<0?null:{node:s,pos:c,text:l}}else return{node:s,pos:-1,text:\"\"}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let l=new DS(this,s,n,i);e.input.compositionNodes.push(l),this.children=qd(this.children,r,r+i.length,e,l)}update(e,n,r,i){return this.dirty==ir||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Rn}updateOuterDeco(e){if(Sa(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=my(this.dom,this.nodeDOM,Kd(this.outerDeco,this.node,n),Kd(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add(\"ProseMirror-selectednode\"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove(\"ProseMirror-selectednode\"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute(\"draggable\"))}get domAtom(){return this.node.isAtom}}function fy(t,e,n,r,i){gy(r,e,t);let s=new Zr(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class xa extends Zr{constructor(e,n,r,i,s,l,c){super(e,n,r,i,s,null,l,c,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==ir||this.dirty!=Rn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Rn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Rn,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!=\"characterData\"&&e.type!=\"selection\"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new xa(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=ir)}get domAtom(){return!1}isText(e){return this.node.text==e}}class py extends Ho{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Rn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName==\"IMG\"}}class PS extends Zr{constructor(e,n,r,i,s,l,c,u,d,p){super(e,n,r,i,s,l,c,d,p),this.spec=u}update(e,n,r,i){if(this.dirty==ir)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function hy(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let l=e[s],c=l.dom;if(c.parentNode==t){for(;c!=r;)r=yy(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(c,r);if(l instanceof qi){let u=r?r.previousSibling:t.lastChild;hy(l.contentDOM,l.children,n),r=u?u.nextSibling:t.firstChild}}for(;r;)r=yy(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const jo=function(t){t&&(this.nodeName=t)};jo.prototype=Object.create(null);const Gi=[new jo];function Kd(t,e,n){if(t.length==0)return Gi;let r=n?Gi[0]:new jo,i=[r];for(let s=0;s<t.length;s++){let l=t[s].type.attrs;if(l){l.nodeName&&i.push(r=new jo(l.nodeName));for(let c in l){let u=l[c];u!=null&&(n&&i.length==1&&i.push(r=new jo(e.isInline?\"span\":\"div\")),c==\"class\"?r.class=(r.class?r.class+\" \":\"\")+u:c==\"style\"?r.style=(r.style?r.style+\";\":\"\")+u:c!=\"nodeName\"&&(r[c]=u))}}}return i}function my(t,e,n,r){if(n==Gi&&r==Gi)return e;let i=e;for(let s=0;s<r.length;s++){let l=r[s],c=n[s];if(s){let u;c&&c.nodeName==l.nodeName&&i!=t&&(u=i.parentNode)&&u.nodeName.toLowerCase()==l.nodeName||(u=document.createElement(l.nodeName),u.pmIsDeco=!0,u.appendChild(i),c=Gi[0]),i=u}BS(i,c||Gi[0],l)}return i}function BS(t,e,n){for(let r in e)r!=\"class\"&&r!=\"style\"&&r!=\"nodeName\"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!=\"class\"&&r!=\"style\"&&r!=\"nodeName\"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(\" \").filter(Boolean):[],i=n.class?n.class.split(\" \").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute(\"class\")}if(e.style!=n.style){if(e.style){let r=/\\s*([\\w\\-\\xa1-\\uffff]+)\\s*:(?:\"(?:\\\\.|[^\"])*\"|'(?:\\\\.|[^'])*'|\\(.*?\\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function gy(t,e,n){return my(t,t,Gi,Kd(e,n,t.nodeType!=1))}function Sa(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function yy(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class zS{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=$S(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r,i){let s=0,l=this.stack.length>>1,c=Math.min(l,e.length);for(;s<c&&(s==l-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<l;)this.destroyRest(),this.top.dirty=Rn,this.index=this.stack.pop(),this.top=this.stack.pop(),l--;for(;l<e.length;){this.stack.push(this.top,this.index+1);let u=-1,d=this.top.children.length;i<this.preMatch.index&&(d=Math.min(this.index+3,d));for(let p=this.index;p<d;p++){let h=this.top.children[p];if(h.matchesMark(e[l])&&!this.isLocked(h.dom)){u=p;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let p=qi.create(this.top,e[l],n,r);this.top.children.splice(this.index,0,p),this.top=p,this.changed=!0}this.index=0,l++}}findNodeMatch(e,n,r,i){let s=-1,l;if(i>=this.preMatch.index&&(l=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&l.matchesNode(e,n,r))s=this.top.children.indexOf(l,this.index);else for(let c=this.index,u=Math.min(this.top.children.length,c+5);c<u;c++){let d=this.top.children[c];if(d.matchesNode(e,n,r)&&!this.preMatch.matched.has(d)){s=c;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let l=this.top.children[i];return l.dirty==ir&&l.dom==l.contentDOM&&(l.dirty=Ki),l.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,l){for(let c=this.index;c<this.top.children.length;c++){let u=this.top.children[c];if(u instanceof Zr){let d=this.preMatch.matched.get(u);if(d!=null&&d!=s)return!1;let p=u.dom,h,g=this.isLocked(p)&&!(e.isText&&u.node&&u.node.isText&&u.nodeDOM.nodeValue==e.text&&u.dirty!=ir&&Sa(n,u.outerDeco));if(!g&&u.update(e,n,r,i))return this.destroyBetween(this.index,c),u.dom!=p&&(this.changed=!0),this.index++,!0;if(!g&&(h=this.recreateWrapper(u,e,n,r,i,l)))return this.destroyBetween(this.index,c),this.top.children[this.index]=h,h.contentDOM&&(h.dirty=Ki,h.updateChildren(i,l+1),h.dirty=Rn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,l){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Sa(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let c=Zr.create(this.top,n,r,i,s,l);if(c.contentDOM){c.children=e.children,e.children=[];for(let u of c.children)u.parent=c}return e.destroy(),c}addNode(e,n,r,i,s){let l=Zr.create(this.top,e,n,r,i,s);l.contentDOM&&l.updateChildren(i,s+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new dy(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof qi;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof xa)||/\\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\\s$/.test(e.node.text))&&((Qt||Kt)&&e&&e.dom.contentEditable==\"false\"&&this.addHackNode(\"IMG\",n),this.addHackNode(\"BR\",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e==\"IMG\"&&(r.className=\"ProseMirror-separator\",r.alt=\"\"),e==\"BR\"&&(r.className=\"ProseMirror-trailingBreak\");let i=new py(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function $S(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,l=[];e:for(;i>0;){let c;for(;;)if(r){let d=n.children[r-1];if(d instanceof qi)n=d,r=d.children.length;else{c=d,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let u=c.node;if(u){if(u!=t.child(i-1))break;--i,s.set(c,i),l.push(c)}}return{index:i,matched:s,matches:l.reverse()}}function FS(t,e){return t.type.side-e.type.side}function US(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let d=0;d<t.childCount;d++){let p=t.child(d);r(p,i,e.forChild(s,p),d),s+=p.nodeSize}return}let l=0,c=[],u=null;for(let d=0;;){let p,h;for(;l<i.length&&i[l].to==s;){let v=i[l++];v.widget&&(p?(h||(h=[p])).push(v):p=v)}if(p)if(h){h.sort(FS);for(let v=0;v<h.length;v++)n(h[v],d,!!u)}else n(p,d,!!u);let g,y;if(u)y=-1,g=u,u=null;else if(d<t.childCount)y=d,g=t.child(d++);else break;for(let v=0;v<c.length;v++)c[v].to<=s&&c.splice(v--,1);for(;l<i.length&&i[l].from<=s&&i[l].to>s;)c.push(i[l++]);let k=s+g.nodeSize;if(g.isText){let v=k;l<i.length&&i[l].from<v&&(v=i[l].from);for(let x=0;x<c.length;x++)c[x].to<v&&(v=c[x].to);v<k&&(u=g.cut(v-s),g=g.cut(0,v-s),k=v,y=-1)}else for(;l<i.length&&i[l].to<k;)l++;let w=g.isInline&&!g.isLeaf?c.filter(v=>!v.inline):c.slice();r(g,w,e.forChild(s,g),y),s=k}}function HS(t){if(t.nodeName==\"UL\"||t.nodeName==\"OL\"){let e=t.style.cssText;t.style.cssText=e+\"; list-style: square !important\",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function jS(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let l=t.child(i++),c=s;if(s+=l.nodeSize,!l.isText)continue;let u=l.text;for(;i<t.childCount;){let d=t.child(i++);if(s+=d.nodeSize,!d.isText)break;u+=d.text}if(s>=n){if(s>=r&&u.slice(r-e.length-c,r-c)==e)return r-e.length;let d=c<r?u.lastIndexOf(e,r-c-1):-1;if(d>=0&&d+e.length+c>=n)return c+d;if(n==r&&u.length>=r+e.length-c&&u.slice(r-c,r-c+e.length)==e)return r}}return-1}function qd(t,e,n,r,i){let s=[];for(let l=0,c=0;l<t.length;l++){let u=t[l],d=c,p=c+=u.size;d>=n||p<=e?s.push(u):(d<e&&s.push(u.slice(0,e-d,r)),i&&(s.push(i),i=void 0),p>n&&s.push(u.slice(n-d,u.size,r)))}return s}function Gd(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,l=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(l<0)return null;let c=r.resolve(l),u,d;if(va(n)){for(u=l;i&&!i.node;)i=i.parent;let h=i.node;if(i&&h.isAtom&&we.isSelectable(h)&&i.parent&&!(h.isInline&&gS(n.focusNode,n.focusOffset,i.dom))){let g=i.posBefore;d=new we(l==g?c:r.resolve(g))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let h=l,g=l;for(let y=0;y<n.rangeCount;y++){let k=n.getRangeAt(y);h=Math.min(h,t.docView.posFromDOM(k.startContainer,k.startOffset,1)),g=Math.max(g,t.docView.posFromDOM(k.endContainer,k.endOffset,-1))}if(h<0)return null;[u,l]=g==t.state.selection.anchor?[g,h]:[h,g],c=r.resolve(l)}else u=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null}let p=r.resolve(u);if(!d){let h=e==\"pointer\"||t.state.selection.head<c.pos&&!s?1:-1;d=Jd(t,p,c,h)}return d}function by(t){return t.editable?t.hasFocus():Cy(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Tr(t,e=!1){let n=t.state.selection;if(vy(t,n),!!by(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Kt){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Vi(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)WS(t);else{let{anchor:r,head:i}=n,s,l;ky&&!(n instanceof ke)&&(n.$from.parent.inlineContent||(s=Ey(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(l=Ey(t,n.to))),t.docView.setSelection(r,i,t,e),ky&&(s&&wy(s),l&&wy(l)),n.visible?t.dom.classList.remove(\"ProseMirror-hideselection\"):(t.dom.classList.add(\"ProseMirror-hideselection\"),\"onselectionchange\"in document&&VS(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const ky=Qt||Kt&&Qg<63;function Ey(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(Qt&&i&&i.contentEditable==\"false\")return Yd(i);if((!i||i.contentEditable==\"false\")&&(!s||s.contentEditable==\"false\")){if(i)return Yd(i);if(s)return Yd(s)}}function Yd(t){return t.contentEditable=\"true\",Qt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function wy(t){t.contentEditable=\"false\",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function VS(t){let e=t.dom.ownerDocument;e.removeEventListener(\"selectionchange\",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener(\"selectionchange\",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener(\"selectionchange\",t.input.hideSelectionGuard),setTimeout(()=>{(!by(t)||t.state.selection.visible)&&t.dom.classList.remove(\"ProseMirror-hideselection\")},20))})}function WS(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName==\"IMG\";r?e.collapse(n.parentNode,Wt(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&hn&&Jr<=11&&(n.disabled=!0,n.disabled=!1)}function vy(t,e){if(e instanceof we){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(xy(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else xy(t)}function xy(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Jd(t,e,n,r){return t.someProp(\"createSelectionBetween\",i=>i(t,e,n))||ke.between(e,n,r)}function Sy(t){return t.editable&&!t.hasFocus()?!1:Cy(t)}function Cy(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function KS(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Vi(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Qd(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&Se.findFrom(s,e)}function Xr(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Ty(t,e,n){let r=t.state.selection;if(r instanceof ke)if(n.indexOf(\"s\")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let l=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return Xr(t,new ke(r.$anchor,l))}else if(r.empty){if(t.endOfTextblock(e>0?\"forward\":\"backward\")){let i=Qd(t.state,e);return i&&i instanceof we?Xr(t,i):!1}else if(!(An&&n.indexOf(\"m\")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,l;if(!s||s.isText)return!1;let c=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(l=t.docView.descAt(c))&&!l.contentDOM?we.isSelectable(s)?Xr(t,new we(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):Fo?Xr(t,new ke(t.state.doc.resolve(e<0?c:c+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof we&&r.node.isInline)return Xr(t,new ke(e>0?r.$to:r.$from));{let i=Qd(t.state,e);return i?Xr(t,i):!1}}}function Ca(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Vo(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!=\"BR\")}function Vs(t,e){return e<0?qS(t):GS(t)}function qS(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,l=!1;for(Mn&&n.nodeType==1&&r<Ca(n)&&Vo(n.childNodes[r],-1)&&(l=!0);;)if(r>0){if(n.nodeType!=1)break;{let c=n.childNodes[r-1];if(Vo(c,-1))i=n,s=--r;else if(c.nodeType==3)n=c,r=n.nodeValue.length;else break}}else{if(_y(n))break;{let c=n.previousSibling;for(;c&&Vo(c,-1);)i=n.parentNode,s=Wt(c),c=c.previousSibling;if(c)n=c,r=Ca(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}l?Zd(t,n,r):i&&Zd(t,i,s)}function GS(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Ca(n),s,l;for(;;)if(r<i){if(n.nodeType!=1)break;let c=n.childNodes[r];if(Vo(c,1))s=n,l=++r;else break}else{if(_y(n))break;{let c=n.nextSibling;for(;c&&Vo(c,1);)s=c.parentNode,l=Wt(c)+1,c=c.nextSibling;if(c)n=c,r=0,i=Ca(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&Zd(t,s,l)}function _y(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function YS(t,e){for(;t&&e==t.childNodes.length&&!$o(t);)e=Wt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable==\"false\")break;t=n,e=0}}function JS(t,e){for(;t&&!e&&!$o(t);)e=Wt(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable==\"false\")break;t=n,e=t.childNodes.length}}function Zd(t,e,n){if(e.nodeType!=3){let s,l;(l=YS(e,n))?(e=l,n=0):(s=JS(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(va(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Tr(t)},50)}function Ny(t,e){let n=t.state.doc.resolve(e);if(!(Kt||Zg)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),l=(s.top+s.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?\"ltr\":\"rtl\"}if(e<n.end()){let s=t.coordsAtPos(e+1),l=(s.top+s.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?\"ltr\":\"rtl\"}}return getComputedStyle(t.dom).direction==\"rtl\"?\"rtl\":\"ltr\"}function My(t,e,n){let r=t.state.selection;if(r instanceof ke&&!r.empty||n.indexOf(\"s\")>-1||An&&n.indexOf(\"m\")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?\"up\":\"down\")){let l=Qd(t.state,e);if(l&&l instanceof we)return Xr(t,l)}if(!i.parent.inlineContent){let l=e<0?i:s,c=r instanceof vn?Se.near(l,e):Se.findFrom(l,e);return c?Xr(t,c):!1}return!1}function Ay(t,e){if(!(t.state.selection instanceof ke))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?\"forward\":\"backward\"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let l=t.state.tr;return e<0?l.delete(n.pos-s.nodeSize,n.pos):l.delete(n.pos,n.pos+s.nodeSize),t.dispatch(l),!0}return!1}function Ry(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function QS(t){if(!Qt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable==\"false\"){let r=e.firstChild;Ry(t,r,\"true\"),setTimeout(()=>Ry(t,r,\"false\"),20)}return!1}function ZS(t){let e=\"\";return t.ctrlKey&&(e+=\"c\"),t.metaKey&&(e+=\"m\"),t.altKey&&(e+=\"a\"),t.shiftKey&&(e+=\"s\"),e}function XS(t,e){let n=e.keyCode,r=ZS(e);if(n==8||An&&n==72&&r==\"c\")return Ay(t,-1)||Vs(t,-1);if(n==46&&!e.shiftKey||An&&n==68&&r==\"c\")return Ay(t,1)||Vs(t,1);if(n==13||n==27)return!0;if(n==37||An&&n==66&&r==\"c\"){let i=n==37?Ny(t,t.state.selection.from)==\"ltr\"?-1:1:-1;return Ty(t,i,r)||Vs(t,i)}else if(n==39||An&&n==70&&r==\"c\"){let i=n==39?Ny(t,t.state.selection.from)==\"ltr\"?1:-1:1;return Ty(t,i,r)||Vs(t,i)}else{if(n==38||An&&n==80&&r==\"c\")return My(t,-1,r)||Vs(t,-1);if(n==40||An&&n==78&&r==\"c\")return QS(t)||My(t,1,r)||Vs(t,1);if(r==(An?\"m\":\"c\")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Xd(t,e){t.someProp(\"transformCopied\",y=>{e=y(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let y=r.firstChild;n.push(y.type.name,y.attrs!=y.type.defaultAttrs?y.attrs:null),r=y.content}let l=t.someProp(\"clipboardSerializer\")||Wr.fromSchema(t.state.schema),c=$y(),u=c.createElement(\"div\");u.appendChild(l.serializeFragment(r,{document:c}));let d=u.firstChild,p,h=0;for(;d&&d.nodeType==1&&(p=By[d.nodeName.toLowerCase()]);){for(let y=p.length-1;y>=0;y--){let k=c.createElement(p[y]);for(;u.firstChild;)k.appendChild(u.firstChild);u.appendChild(k),h++}d=u.firstChild}d&&d.nodeType==1&&d.setAttribute(\"data-pm-slice\",`${i} ${s}${h?` -${h}`:\"\"} ${JSON.stringify(n)}`);let g=t.someProp(\"clipboardTextSerializer\",y=>y(e,t))||e.content.textBetween(0,e.content.size,`\n\n`);return{dom:u,text:g,slice:e}}function Oy(t,e,n,r,i){let s=i.parent.type.spec.code,l,c;if(!n&&!e)return null;let u=!!e&&(r||s||!n);if(u){if(t.someProp(\"transformPastedText\",g=>{e=g(e,s||r,t)}),s)return c=new te(j.from(t.state.schema.text(e.replace(/\\r\\n?/g,`\n`))),0,0),t.someProp(\"transformPasted\",g=>{c=g(c,t,!0)}),c;let h=t.someProp(\"clipboardTextParser\",g=>g(e,i,r,t));if(h)c=h;else{let g=i.marks(),{schema:y}=t.state,k=Wr.fromSchema(y);l=document.createElement(\"div\"),e.split(/(?:\\r\\n?|\\n)+/).forEach(w=>{let v=l.appendChild(document.createElement(\"p\"));w&&v.appendChild(k.serializeNode(y.text(w,g)))})}}else t.someProp(\"transformPastedHTML\",h=>{n=h(n,t)}),l=r1(n),Fo&&i1(l);let d=l&&l.querySelector(\"[data-pm-slice]\"),p=d&&/^(\\d+) (\\d+)(?: -(\\d+))? (.*)/.exec(d.getAttribute(\"data-pm-slice\")||\"\");if(p&&p[3])for(let h=+p[3];h>0;h--){let g=l.firstChild;for(;g&&g.nodeType!=1;)g=g.nextSibling;if(!g)break;l=g}if(c||(c=(t.someProp(\"clipboardParser\")||t.someProp(\"domParser\")||wr.fromSchema(t.state.schema)).parseSlice(l,{preserveWhitespace:!!(u||p),context:i,ruleFromNode(g){return g.nodeName==\"BR\"&&!g.nextSibling&&g.parentNode&&!e1.test(g.parentNode.nodeName)?{ignore:!0}:null}})),p)c=s1(Py(c,+p[1],+p[2]),p[4]);else if(c=te.maxOpen(t1(c.content,i),!0),c.openStart||c.openEnd){let h=0,g=0;for(let y=c.content.firstChild;h<c.openStart&&!y.type.spec.isolating;h++,y=y.firstChild);for(let y=c.content.lastChild;g<c.openEnd&&!y.type.spec.isolating;g++,y=y.lastChild);c=Py(c,h,g)}return t.someProp(\"transformPasted\",h=>{c=h(c,t,u)}),c}const e1=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function t1(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,l=[];if(t.forEach(c=>{if(!l)return;let u=i.findWrapping(c.type),d;if(!u)return l=null;if(d=l.length&&s.length&&Ly(u,s,c,l[l.length-1],0))l[l.length-1]=d;else{l.length&&(l[l.length-1]=Dy(l[l.length-1],s.length));let p=Iy(c,u);l.push(p),i=i.matchType(p.type),s=u}}),l)return j.from(l)}return t}function Iy(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,j.from(t));return t}function Ly(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=Ly(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(j.from(Iy(n,t,i+1))))}}function Dy(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,Dy(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(j.empty,!0);return t.copy(n.append(r))}function ef(t,e,n,r,i,s){let l=e<0?t.firstChild:t.lastChild,c=l.content;return t.childCount>1&&(s=0),i<r-1&&(c=ef(c,e,n,r,i+1,s)),i>=n&&(c=e<0?l.contentMatchAt(0).fillBefore(c,s<=i).append(c):c.append(l.contentMatchAt(l.childCount).fillBefore(j.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,l.copy(c))}function Py(t,e,n){return e<t.openStart&&(t=new te(ef(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new te(ef(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const By={thead:[\"table\"],tbody:[\"table\"],tfoot:[\"table\"],caption:[\"table\"],colgroup:[\"table\"],col:[\"table\",\"colgroup\"],tr:[\"table\",\"tbody\"],td:[\"table\",\"tbody\",\"tr\"],th:[\"table\",\"tbody\",\"tr\"]};let zy=null;function $y(){return zy||(zy=document.implementation.createHTMLDocument(\"title\"))}let tf=null;function n1(t){let e=window.trustedTypes;return e?(tf||(tf=e.defaultPolicy||e.createPolicy(\"ProseMirrorClipboard\",{createHTML:n=>n})),tf.createHTML(t)):t}function r1(t){let e=/^(\\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=$y().createElement(\"div\"),r=/<([a-z][^>\\s]+)/i.exec(t),i;if((i=r&&By[r[1].toLowerCase()])&&(t=i.map(s=>\"<\"+s+\">\").join(\"\")+t+i.map(s=>\"<\/\"+s+\">\").reverse().join(\"\")),n.innerHTML=n1(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function i1(t){let e=t.querySelectorAll(Kt?\"span:not([class]):not([style])\":\"span.Apple-converted-space\");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==\"\"&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(\" \"),r)}}function s1(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:l}=t;for(let c=r.length-2;c>=0;c-=2){let u=n.nodes[r[c]];if(!u||u.hasRequiredAttrs())break;i=j.from(u.create(r[c+1],i)),s++,l++}return new te(i,s,l)}const sn={},on={},o1={touchstart:!0,touchmove:!0};class l1{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:\"\",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function a1(t){for(let e in sn){let n=sn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{u1(t,r)&&!rf(t,r)&&(t.editable||!(r.type in on))&&n(t,r)},o1[e]?{passive:!0}:void 0)}Qt&&t.dom.addEventListener(\"input\",()=>null),nf(t)}function ei(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function c1(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function nf(t){t.someProp(\"handleDOMEvents\",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>rf(t,r))})}function rf(t,e){return t.someProp(\"handleDOMEvents\",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function u1(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function d1(t,e){!rf(t,e)&&sn[e.type]&&(t.editable||!(e.type in on))&&sn[e.type](t,e)}on.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!Uy(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Sr&&Kt&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Hs&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp(\"handleKeyDown\",i=>i(t,Wi(13,\"Enter\"))),t.input.lastIOSEnter=0)},200)}else t.someProp(\"handleKeyDown\",r=>r(t,n))||XS(t,n)?n.preventDefault():ei(t,\"key\")},on.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)},on.keypress=(t,e)=>{let n=e;if(Uy(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||An&&n.metaKey)return;if(t.someProp(\"handleKeyPress\",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof ke)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),s=()=>t.state.tr.insertText(i).scrollIntoView();!/[\\r\\n]/.test(i)&&!t.someProp(\"handleTextInput\",l=>l(t,r.$from.pos,r.$to.pos,i,s))&&t.dispatch(s()),n.preventDefault()}};function Ta(t){return{left:t.clientX,top:t.clientY}}function f1(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function sf(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let l=s.depth+1;l>0;l--)if(t.someProp(e,c=>l>s.depth?c(t,n,s.nodeAfter,s.before(l),i,!0):c(t,n,s.node(l),s.before(l),i,!1)))return!0;return!1}function Ws(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta(\"pointer\",!0),t.dispatch(r)}function p1(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&we.isSelectable(r)?(Ws(t,new we(n)),!0):!1}function h1(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof we&&(r=n.node);let s=t.state.doc.resolve(e);for(let l=s.depth+1;l>0;l--){let c=l>s.depth?s.nodeAfter:s.node(l);if(we.isSelectable(c)){r&&n.$from.depth>0&&l>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(l);break}}return i!=null?(Ws(t,we.create(t.state.doc,i)),!0):!1}function m1(t,e,n,r,i){return sf(t,\"handleClickOn\",e,n,r)||t.someProp(\"handleClick\",s=>s(t,e,r))||(i?h1(t,n):p1(t,n))}function g1(t,e,n,r){return sf(t,\"handleDoubleClickOn\",e,n,r)||t.someProp(\"handleDoubleClick\",i=>i(t,e,r))}function y1(t,e,n,r){return sf(t,\"handleTripleClickOn\",e,n,r)||t.someProp(\"handleTripleClick\",i=>i(t,e,r))||b1(t,n,r)}function b1(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Ws(t,ke.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let l=s>i.depth?i.nodeAfter:i.node(s),c=i.before(s);if(l.inlineContent)Ws(t,ke.create(r,c+1,c+1+l.content.size));else if(we.isSelectable(l))Ws(t,we.create(r,c));else continue;return!0}}function of(t){return _a(t)}const Fy=An?\"metaKey\":\"ctrlKey\";sn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=of(t),i=Date.now(),s=\"singleClick\";i-t.input.lastClick.time<500&&f1(n,t.input.lastClick)&&!n[Fy]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type==\"singleClick\"?s=\"doubleClick\":t.input.lastClick.type==\"doubleClick\"&&(s=\"tripleClick\")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s,button:n.button};let l=t.posAtCoords(Ta(n));l&&(s==\"singleClick\"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new k1(t,l,n,!!r)):(s==\"doubleClick\"?g1:y1)(t,l.pos,l.inside,n)?n.preventDefault():ei(t,\"pointer\"))};class k1{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[Fy],this.allowDefault=r.shiftKey;let s,l;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),l=n.inside;else{let p=e.state.doc.resolve(n.pos);s=p.parent,l=p.depth?p.before():0}const c=i?null:r.target,u=c?e.docView.nearestDesc(c,!0):null;this.target=u&&u.nodeDOM.nodeType==1?u.nodeDOM:null;let{selection:d}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||d instanceof we&&d.from<=l&&d.to>l)&&(this.mightDrag={node:s,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Mn&&!this.target.hasAttribute(\"contentEditable\"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute(\"contentEditable\",\"false\")},20),this.view.domObserver.start()),e.root.addEventListener(\"mouseup\",this.up=this.up.bind(this)),e.root.addEventListener(\"mousemove\",this.move=this.move.bind(this)),ei(e,\"pointer\")}done(){this.view.root.removeEventListener(\"mouseup\",this.up),this.view.root.removeEventListener(\"mousemove\",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute(\"draggable\"),this.mightDrag.setUneditable&&this.target.removeAttribute(\"contentEditable\"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Tr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Ta(e))),this.updateAllowDefault(e),this.allowDefault||!n?ei(this.view,\"pointer\"):m1(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Qt&&this.mightDrag&&!this.mightDrag.node.isAtom||Kt&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Ws(this.view,Se.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):ei(this.view,\"pointer\")}move(e){this.updateAllowDefault(e),ei(this.view,\"pointer\"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}sn.touchstart=t=>{t.input.lastTouch=Date.now(),of(t),ei(t,\"pointer\")},sn.touchmove=t=>{t.input.lastTouch=Date.now(),ei(t,\"pointer\")},sn.contextmenu=t=>of(t);function Uy(t,e){return t.composing?!0:Qt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const E1=Sr?5e3:-1;on.compositionstart=on.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof ke&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||Kt&&Zg&&w1(t)))t.markCursor=t.state.storedMarks||n.marks(),_a(t,!0),t.markCursor=null;else if(_a(t,!e.selection.empty),Mn&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let l=s<0?i.lastChild:i.childNodes[s-1];if(!l)break;if(l.nodeType==3){let c=t.domSelection();c&&c.collapse(l,l.nodeValue.length);break}else i=l,s=-1}}t.input.composing=!0}Hy(t,E1)};function w1(t){let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(!e||e.nodeType!=1||n>=e.childNodes.length)return!1;let r=e.childNodes[n];return r.nodeType==1&&r.contentEditable==\"false\"}on.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.badSafariComposition?t.domObserver.forceFlush():t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,Hy(t,20))};function Hy(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>_a(t),e))}function jy(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=x1());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function v1(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=hS(e.focusNode,e.focusOffset),r=mS(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let l=n.pmViewDesc;if(!(!l||!l.isText(n.nodeValue)))return r}}return n||r}function x1(){let t=document.createEvent(\"Event\");return t.initEvent(\"event\",!0,!0),t.timeStamp}function _a(t,e=!1){if(!(Sr&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),jy(t),e||t.docView&&t.docView.dirty){let n=Gd(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function S1(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement(\"div\"));n.appendChild(e),n.style.cssText=\"position: fixed; left: -10000px; top: 10px\";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Wo=hn&&Jr<15||Hs&&kS<604;sn.copy=on.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type==\"cut\";if(r.empty)return;let s=Wo?null:n.clipboardData,l=r.content(),{dom:c,text:u}=Xd(t,l);s?(n.preventDefault(),s.clearData(),s.setData(\"text/html\",c.innerHTML),s.setData(\"text/plain\",u)):S1(t,c),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta(\"uiEvent\",\"cut\"))};function C1(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function T1(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?\"textarea\":\"div\"));n||(r.contentEditable=\"true\"),r.style.cssText=\"position: fixed; left: -10000px; top: 10px\",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Ko(t,r.value,null,i,e):Ko(t,r.textContent,r.innerHTML,i,e)},50)}function Ko(t,e,n,r,i){let s=Oy(t,e,n,r,t.state.selection.$from);if(t.someProp(\"handlePaste\",u=>u(t,i,s||te.empty)))return!0;if(!s)return!1;let l=C1(s),c=l?t.state.tr.replaceSelectionWith(l,r):t.state.tr.replaceSelection(s);return t.dispatch(c.scrollIntoView().setMeta(\"paste\",!0).setMeta(\"uiEvent\",\"paste\")),!0}function Vy(t){let e=t.getData(\"text/plain\")||t.getData(\"Text\");if(e)return e;let n=t.getData(\"text/uri-list\");return n?n.replace(/\\r?\\n/g,\" \"):\"\"}on.paste=(t,e)=>{let n=e;if(t.composing&&!Sr)return;let r=Wo?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Ko(t,Vy(r),r.getData(\"text/html\"),i,n)?n.preventDefault():T1(t,n)};class Wy{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const _1=An?\"altKey\":\"ctrlKey\";function Ky(t,e){let n=t.someProp(\"dragCopies\",r=>!r(e));return n??!e[_1]}sn.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(Ta(n)),l;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof we?i.to-1:i.to))){if(r&&r.mightDrag)l=we.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let h=t.docView.nearestDesc(n.target,!0);h&&h.node.type.spec.draggable&&h!=t.docView&&(l=we.create(t.state.doc,h.posBefore))}}let c=(l||t.state.selection).content(),{dom:u,text:d,slice:p}=Xd(t,c);(!n.dataTransfer.files.length||!Kt||Qg>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Wo?\"Text\":\"text/html\",u.innerHTML),n.dataTransfer.effectAllowed=\"copyMove\",Wo||n.dataTransfer.setData(\"text/plain\",d),t.dragging=new Wy(p,Ky(t,n),l)},sn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)},on.dragover=on.dragenter=(t,e)=>e.preventDefault(),on.drop=(t,e)=>{try{N1(t,e,t.dragging)}finally{t.dragging=null}};function N1(t,e,n){if(!e.dataTransfer)return;let r=t.posAtCoords(Ta(e));if(!r)return;let i=t.state.doc.resolve(r.pos),s=n&&n.slice;s?t.someProp(\"transformPasted\",y=>{s=y(s,t,!1)}):s=Oy(t,Vy(e.dataTransfer),Wo?null:e.dataTransfer.getData(\"text/html\"),!1,i);let l=!!(n&&Ky(t,e));if(t.someProp(\"handleDrop\",y=>y(t,e,s||te.empty,l))){e.preventDefault();return}if(!s)return;e.preventDefault();let c=s?wg(t.state.doc,i.pos,s):i.pos;c==null&&(c=i.pos);let u=t.state.tr;if(l){let{node:y}=n;y?y.replace(u):u.deleteSelection()}let d=u.mapping.map(c),p=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,h=u.doc;if(p?u.replaceRangeWith(d,d,s.content.firstChild):u.replaceRange(d,d,s),u.doc.eq(h))return;let g=u.doc.resolve(d);if(p&&we.isSelectable(s.content.firstChild)&&g.nodeAfter&&g.nodeAfter.sameMarkup(s.content.firstChild))u.setSelection(new we(g));else{let y=u.mapping.map(c);u.mapping.maps[u.mapping.maps.length-1].forEach((k,w,v,x)=>y=x),u.setSelection(Jd(t,g,u.doc.resolve(y)))}t.focus(),t.dispatch(u.setMeta(\"uiEvent\",\"drop\"))}sn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add(\"ProseMirror-focused\"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Tr(t)},20))},sn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove(\"ProseMirror-focused\"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)},sn.beforeinput=(t,e)=>{if(Kt&&Sr&&e.inputType==\"deleteContentBackward\"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp(\"handleKeyDown\",s=>s(t,Wi(8,\"Backspace\")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in on)sn[t]=on[t];function qo(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Na{constructor(e,n){this.toDOM=e,this.spec=n||Yi,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:l}=e.mapResult(n.from+i,this.side<0?-1:1);return l?null:new Lt(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Na&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&qo(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class ti{constructor(e,n){this.attrs=e,this.spec=n||Yi}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,l=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=l?null:new Lt(s,l,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof ti&&qo(this.attrs,e.attrs)&&qo(this.spec,e.spec)}static is(e){return e.type instanceof ti}destroy(){}}class lf{constructor(e,n){this.attrs=e,this.spec=n||Yi}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let l=e.mapResult(n.to+i,-1);return l.deleted||l.pos<=s.pos?null:new Lt(s.pos-r,l.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof lf&&qo(this.attrs,e.attrs)&&qo(this.spec,e.spec)}destroy(){}}class Lt{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Lt(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Lt(e,e,new Na(n,r))}static inline(e,n,r,i){return new Lt(e,n,new ti(r,i))}static node(e,n,r,i){return new Lt(e,n,new lf(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof ti}get widget(){return this.type instanceof Na}}const Ks=[],Yi={};class it{constructor(e,n){this.local=e.length?e:Ks,this.children=n.length?n:Ks}static create(e,n){return n.length?Ma(n,e,0,Yi):Zt}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let l=0;l<this.local.length;l++){let c=this.local[l];c.from<=n&&c.to>=e&&(!s||s(c.spec))&&r.push(c.copy(c.from+i,c.to+i))}for(let l=0;l<this.children.length;l+=3)if(this.children[l]<n&&this.children[l+1]>e){let c=this.children[l]+1;this.children[l+2].findInner(e-c,n-c,r,i+c,s)}}map(e,n,r){return this==Zt||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Yi)}mapInner(e,n,r,i,s){let l;for(let c=0;c<this.local.length;c++){let u=this.local[c].map(e,r,i);u&&u.type.valid(n,u)?(l||(l=[])).push(u):s.onRemove&&s.onRemove(this.local[c].spec)}return this.children.length?M1(this.children,l||[],e,n,r,i,s):l?new it(l.sort(Ji),Ks):Zt}add(e,n){return n.length?this==Zt?it.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((c,u)=>{let d=u+r,p;if(p=Gy(n,c,d)){for(i||(i=this.children.slice());s<i.length&&i[s]<u;)s+=3;i[s]==u?i[s+2]=i[s+2].addInner(c,p,d+1):i.splice(s,0,u,u+c.nodeSize,Ma(p,c,d+1,Yi)),s+=3}});let l=qy(s?Yy(n):n,-r);for(let c=0;c<l.length;c++)l[c].type.valid(e,l[c])||l.splice(c--,1);return new it(l.length?this.local.concat(l).sort(Ji):this.local,i||this.children)}remove(e){return e.length==0||this==Zt?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let l,c=r[s]+n,u=r[s+1]+n;for(let p=0,h;p<e.length;p++)(h=e[p])&&h.from>c&&h.to<u&&(e[p]=null,(l||(l=[])).push(h));if(!l)continue;r==this.children&&(r=this.children.slice());let d=r[s+2].removeInner(l,c+1);d!=Zt?r[s+2]=d:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,l;s<e.length;s++)if(l=e[s])for(let c=0;c<i.length;c++)i[c].eq(l,n)&&(i==this.local&&(i=this.local.slice()),i.splice(c--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new it(i,r):Zt}forChild(e,n){if(this==Zt)return this;if(n.isLeaf)return it.empty;let r,i;for(let c=0;c<this.children.length;c+=3)if(this.children[c]>=e){this.children[c]==e&&(r=this.children[c+2]);break}let s=e+1,l=s+n.content.size;for(let c=0;c<this.local.length;c++){let u=this.local[c];if(u.from<l&&u.to>s&&u.type instanceof ti){let d=Math.max(s,u.from)-s,p=Math.min(l,u.to)-s;d<p&&(i||(i=[])).push(u.copy(d,p))}}if(i){let c=new it(i.sort(Ji),Ks);return r?new ni([c,r]):c}return r||Zt}eq(e){if(this==e)return!0;if(!(e instanceof it)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return af(this.localsInner(e))}localsInner(e){if(this==Zt)return Ks;if(e.inlineContent||!this.local.some(ti.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof ti||n.push(this.local[r]);return n}forEachSet(e){e(this)}}it.empty=new it([],[]),it.removeOverlap=af;const Zt=it.empty;class ni{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Yi));return ni.from(r)}forChild(e,n){if(n.isLeaf)return it.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=Zt&&(s instanceof ni?r=r.concat(s.members):r.push(s))}return ni.from(r)}eq(e){if(!(e instanceof ni)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let l=0;l<s.length;l++)n.push(s[l])}}return n?af(r?n:n.sort(Ji)):Ks}static from(e){switch(e.length){case 0:return Zt;case 1:return e[0];default:return new ni(e.every(n=>n instanceof it)?e:e.reduce((n,r)=>n.concat(r instanceof it?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function M1(t,e,n,r,i,s,l){let c=t.slice();for(let d=0,p=s;d<n.maps.length;d++){let h=0;n.maps[d].forEach((g,y,k,w)=>{let v=w-k-(y-g);for(let x=0;x<c.length;x+=3){let N=c[x+1];if(N<0||g>N+p-h)continue;let I=c[x]+p-h;y>=I?c[x+1]=g<=I?-2:-1:g>=p&&v&&(c[x]+=v,c[x+1]+=v)}h+=v}),p=n.maps[d].map(p,-1)}let u=!1;for(let d=0;d<c.length;d+=3)if(c[d+1]<0){if(c[d+1]==-2){u=!0,c[d+1]=-1;continue}let p=n.map(t[d]+s),h=p-i;if(h<0||h>=r.content.size){u=!0;continue}let g=n.map(t[d+1]+s,-1),y=g-i,{index:k,offset:w}=r.content.findIndex(h),v=r.maybeChild(k);if(v&&w==h&&w+v.nodeSize==y){let x=c[d+2].mapInner(n,v,p+1,t[d]+s+1,l);x!=Zt?(c[d]=h,c[d+1]=y,c[d+2]=x):(c[d+1]=-2,u=!0)}else u=!0}if(u){let d=A1(c,t,e,n,i,s,l),p=Ma(d,r,0,l);e=p.local;for(let h=0;h<c.length;h+=3)c[h+1]<0&&(c.splice(h,3),h-=3);for(let h=0,g=0;h<p.children.length;h+=3){let y=p.children[h];for(;g<c.length&&c[g]<y;)g+=3;c.splice(g,0,p.children[h],p.children[h+1],p.children[h+2])}}return new it(e.sort(Ji),c)}function qy(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Lt(i.from+e,i.to+e,i.type))}return n}function A1(t,e,n,r,i,s,l){function c(u,d){for(let p=0;p<u.local.length;p++){let h=u.local[p].map(r,i,d);h?n.push(h):l.onRemove&&l.onRemove(u.local[p].spec)}for(let p=0;p<u.children.length;p+=3)c(u.children[p+2],u.children[p]+d+1)}for(let u=0;u<t.length;u+=3)t[u+1]==-1&&c(t[u+2],e[u]+s+1);return n}function Gy(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,l;s<t.length;s++)(l=t[s])&&l.from>n&&l.to<r&&((i||(i=[])).push(l),t[s]=null);return i}function Yy(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Ma(t,e,n,r){let i=[],s=!1;e.forEach((c,u)=>{let d=Gy(t,c,u+n);if(d){s=!0;let p=Ma(d,c,n+u+1,r);p!=Zt&&i.push(u,u+c.nodeSize,p)}});let l=qy(s?Yy(t):t,-n).sort(Ji);for(let c=0;c<l.length;c++)l[c].type.valid(e,l[c])||(r.onRemove&&r.onRemove(l[c].spec),l.splice(c--,1));return l.length||i.length?new it(l,i):Zt}function Ji(t,e){return t.from-e.from||t.to-e.to}function af(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),Jy(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),Jy(e,i,r.copy(s.from,r.to)));break}}}return e}function Jy(t,e,n){for(;e<t.length&&Ji(n,t[e])>0;)e++;t.splice(e,0,n)}function cf(t){let e=[];return t.someProp(\"decorations\",n=>{let r=n(t.state);r&&r!=Zt&&e.push(r)}),t.cursorWrapper&&e.push(it.create(t.state.doc,[t.cursorWrapper.deco])),ni.from(e)}const R1={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},O1=hn&&Jr<=11;class I1{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class L1{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new I1,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);hn&&Jr<=11&&r.some(i=>i.type==\"childList\"&&i.removedNodes.length||i.type==\"characterData\"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():Qt&&e.composing&&r.some(i=>i.type==\"childList\"&&i.target.nodeName==\"TR\")?(e.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),O1&&(this.onCharData=r=>{this.queue.push({target:r.target,type:\"characterData\",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,R1)),this.onCharData&&this.view.dom.addEventListener(\"DOMCharacterDataModified\",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener(\"DOMCharacterDataModified\",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener(\"selectionchange\",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener(\"selectionchange\",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Sy(this.view)){if(this.suppressingSelectionUpdates)return Tr(this.view);if(hn&&Jr<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Vi(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=Us(s))n.add(s);for(let s=e.anchorNode;s;s=Us(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:\"selection\",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Sy(e)&&!this.ignoreSelectionChange(r),s=-1,l=-1,c=!1,u=[];if(e.editable)for(let p=0;p<n.length;p++){let h=this.registerMutation(n[p],u);h&&(s=s<0?h.from:Math.min(h.from,s),l=l<0?h.to:Math.max(h.to,l),h.typeOver&&(c=!0))}if(u.some(p=>p.nodeName==\"BR\")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let p of u)if(p.nodeName==\"BR\"&&p.parentNode){let h=p.nextSibling;h&&h.nodeType==1&&h.contentEditable==\"false\"&&p.parentNode.removeChild(p)}}else if(Mn&&u.length){let p=u.filter(h=>h.nodeName==\"BR\");if(p.length==2){let[h,g]=p;h.parentNode&&h.parentNode.parentNode==g.parentNode?g.remove():h.remove()}else{let{focusNode:h}=this.currentSelection;for(let g of p){let y=g.parentNode;y&&y.nodeName==\"LI\"&&(!h||B1(e,h)!=y)&&g.remove()}}}let d=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&va(r)&&(d=Gd(e))&&d.eq(Se.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Tr(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,l),D1(e)),e.input.badSafariComposition&&(e.input.badSafariComposition=!1,z1(e,u)),this.handleDOMChange(s,l,c,u),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Tr(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type==\"attributes\"&&(r==this.view.docView||e.attributeName==\"contenteditable\"||e.attributeName==\"style\"&&!e.oldValue&&!e.target.getAttribute(\"style\"))||!r||r.ignoreMutation(e))return null;if(e.type==\"childList\"){for(let p=0;p<e.addedNodes.length;p++){let h=e.addedNodes[p];n.push(h),h.nodeType==3&&(this.lastChangedTextNode=h)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(hn&&Jr<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:h,nextSibling:g}=e.addedNodes[p];(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(i=h),(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(s=g)}let l=i&&i.parentNode==e.target?Wt(i)+1:0,c=r.localPosFromDOM(e.target,l,-1),u=s&&s.parentNode==e.target?Wt(s):e.target.childNodes.length,d=r.localPosFromDOM(e.target,u,1);return{from:c,to:d}}else return e.type==\"attributes\"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Qy=new WeakMap,Zy=!1;function D1(t){if(!Qy.has(t)&&(Qy.set(t,null),[\"normal\",\"nowrap\",\"pre-line\"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Mn,Zy)return;console.warn(\"ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package.\"),Zy=!0}}function Xy(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,l=t.domAtPos(t.state.selection.anchor);return Vi(l.node,l.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function P1(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return Xy(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener(\"beforeinput\",r,!0),document.execCommand(\"indent\"),t.dom.removeEventListener(\"beforeinput\",r,!0),n?Xy(t,n):null}function B1(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function z1(t,e){var n;let{focusNode:r,focusOffset:i}=t.domSelectionRange();for(let s of e)if(((n=s.parentNode)===null||n===void 0?void 0:n.nodeName)==\"TR\"){let l=s.nextSibling;for(;l&&l.nodeName!=\"TD\"&&l.nodeName!=\"TH\";)l=l.nextSibling;if(l){let c=l;for(;;){let u=c.firstChild;if(!u||u.nodeType!=1||u.contentEditable==\"false\"||/^(BR|IMG)$/.test(u.nodeName))break;c=u}c.insertBefore(s,c.firstChild),r==s&&t.domSelection().collapse(s,i)}else s.parentNode.removeChild(s)}}function $1(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:l,to:c}=t.docView.parseRange(e,n),u=t.domSelectionRange(),d,p=u.anchorNode;if(p&&t.dom.contains(p.nodeType==1?p:p.parentNode)&&(d=[{node:p,offset:u.anchorOffset}],va(u)||d.push({node:u.focusNode,offset:u.focusOffset})),Kt&&t.input.lastKeyCode===8)for(let v=s;v>i;v--){let x=r.childNodes[v-1],N=x.pmViewDesc;if(x.nodeName==\"BR\"&&!N){s=v;break}if(!N||N.size)break}let h=t.state.doc,g=t.someProp(\"domParser\")||wr.fromSchema(t.state.schema),y=h.resolve(l),k=null,w=g.parse(r,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:i,to:s,preserveWhitespace:y.parent.type.whitespace==\"pre\"?\"full\":!0,findPositions:d,ruleFromNode:F1,context:y});if(d&&d[0].pos!=null){let v=d[0].pos,x=d[1]&&d[1].pos;x==null&&(x=v),k={anchor:v+l,head:x+l}}return{doc:w,sel:k,from:l,to:c}}function F1(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName==\"BR\"&&t.parentNode){if(Qt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement(\"div\");return n.appendChild(document.createElement(\"li\")),{skip:n}}else if(t.parentNode.lastChild==t||Qt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName==\"IMG\"&&t.getAttribute(\"mark-placeholder\"))return{ignore:!0};return null}const U1=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function H1(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let U=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,J=Gd(t,U);if(J&&!t.state.selection.eq(J)){if(Kt&&Sr&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp(\"handleKeyDown\",ie=>ie(t,Wi(13,\"Enter\"))))return;let ne=t.state.tr.setSelection(J);U==\"pointer\"?ne.setMeta(\"pointer\",!0):U==\"key\"&&ne.scrollIntoView(),s&&ne.setMeta(\"composition\",s),t.dispatch(ne)}return}let l=t.state.doc.resolve(e),c=l.sharedDepth(n);e=l.before(c+1),n=t.state.doc.resolve(n).after(c+1);let u=t.state.selection,d=$1(t,e,n),p=t.state.doc,h=p.slice(d.from,d.to),g,y;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(g=t.state.selection.to,y=\"end\"):(g=t.state.selection.from,y=\"start\"),t.input.lastKeyCode=null;let k=W1(h.content,d.doc.content,d.from,g,y);if(k&&t.input.domChangeCount++,(Hs&&t.input.lastIOSEnter>Date.now()-225||Sr)&&i.some(U=>U.nodeType==1&&!U1.test(U.nodeName))&&(!k||k.endA>=k.endB)&&t.someProp(\"handleKeyDown\",U=>U(t,Wi(13,\"Enter\")))){t.input.lastIOSEnter=0;return}if(!k)if(r&&u instanceof ke&&!u.empty&&u.$head.sameParent(u.$anchor)&&!t.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))k={start:u.from,endA:u.to,endB:u.to};else{if(d.sel){let U=eb(t,t.state.doc,d.sel);if(U&&!U.eq(t.state.selection)){let J=t.state.tr.setSelection(U);s&&J.setMeta(\"composition\",s),t.dispatch(J)}}return}t.state.selection.from<t.state.selection.to&&k.start==k.endB&&t.state.selection instanceof ke&&(k.start>t.state.selection.from&&k.start<=t.state.selection.from+2&&t.state.selection.from>=d.from?k.start=t.state.selection.from:k.endA<t.state.selection.to&&k.endA>=t.state.selection.to-2&&t.state.selection.to<=d.to&&(k.endB+=t.state.selection.to-k.endA,k.endA=t.state.selection.to)),hn&&Jr<=11&&k.endB==k.start+1&&k.endA==k.start&&k.start>d.from&&d.doc.textBetween(k.start-d.from-1,k.start-d.from+1)==\" \"&&(k.start--,k.endA--,k.endB--);let w=d.doc.resolveNoCache(k.start-d.from),v=d.doc.resolveNoCache(k.endB-d.from),x=p.resolve(k.start),N=w.sameParent(v)&&w.parent.inlineContent&&x.end()>=k.endA;if((Hs&&t.input.lastIOSEnter>Date.now()-225&&(!N||i.some(U=>U.nodeName==\"DIV\"||U.nodeName==\"P\"))||!N&&w.pos<d.doc.content.size&&(!w.sameParent(v)||!w.parent.inlineContent)&&w.pos<v.pos&&!/\\S/.test(d.doc.textBetween(w.pos,v.pos,\"\",\"\")))&&t.someProp(\"handleKeyDown\",U=>U(t,Wi(13,\"Enter\")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>k.start&&V1(p,k.start,k.endA,w,v)&&t.someProp(\"handleKeyDown\",U=>U(t,Wi(8,\"Backspace\")))){Sr&&Kt&&t.domObserver.suppressSelectionUpdates();return}Kt&&k.endB==k.start&&(t.input.lastChromeDelete=Date.now()),Sr&&!N&&w.start()!=v.start()&&v.parentOffset==0&&w.depth==v.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==k.endA&&(k.endB-=2,v=d.doc.resolveNoCache(k.endB-d.from),setTimeout(()=>{t.someProp(\"handleKeyDown\",function(U){return U(t,Wi(13,\"Enter\"))})},20));let I=k.start,P=k.endA,O=U=>{let J=U||t.state.tr.replace(I,P,d.doc.slice(k.start-d.from,k.endB-d.from));if(d.sel){let ne=eb(t,J.doc,d.sel);ne&&!(Kt&&t.composing&&ne.empty&&(k.start!=k.endB||t.input.lastChromeDelete<Date.now()-100)&&(ne.head==I||ne.head==J.mapping.map(P)-1)||hn&&ne.empty&&ne.head==I)&&J.setSelection(ne)}return s&&J.setMeta(\"composition\",s),J.scrollIntoView()},z;if(N)if(w.pos==v.pos){hn&&Jr<=11&&w.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Tr(t),20));let U=O(t.state.tr.delete(I,P)),J=p.resolve(k.start).marksAcross(p.resolve(k.endA));J&&U.ensureMarks(J),t.dispatch(U)}else if(k.endA==k.endB&&(z=j1(w.parent.content.cut(w.parentOffset,v.parentOffset),x.parent.content.cut(x.parentOffset,k.endA-x.start())))){let U=O(t.state.tr);z.type==\"add\"?U.addMark(I,P,z.mark):U.removeMark(I,P,z.mark),t.dispatch(U)}else if(w.parent.child(w.index()).isText&&w.index()==v.index()-(v.textOffset?0:1)){let U=w.parent.textBetween(w.parentOffset,v.parentOffset),J=()=>O(t.state.tr.insertText(U,I,P));t.someProp(\"handleTextInput\",ne=>ne(t,I,P,U,J))||t.dispatch(J())}else t.dispatch(O());else t.dispatch(O())}function eb(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Jd(t,e.resolve(n.anchor),e.resolve(n.head))}function j1(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,l,c,u;for(let p=0;p<r.length;p++)i=r[p].removeFromSet(i);for(let p=0;p<n.length;p++)s=n[p].removeFromSet(s);if(i.length==1&&s.length==0)c=i[0],l=\"add\",u=p=>p.mark(c.addToSet(p.marks));else if(i.length==0&&s.length==1)c=s[0],l=\"remove\",u=p=>p.mark(c.removeFromSet(p.marks));else return null;let d=[];for(let p=0;p<e.childCount;p++)d.push(u(e.child(p)));if(j.from(d).eq(t))return{mark:c,type:l}}function V1(t,e,n,r,i){if(n-e<=i.pos-r.pos||uf(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let c=s.nodeAfter;return c!=null&&n==e+c.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let l=t.resolve(uf(s,!0,!0));return!l.parent.isTextblock||l.pos>n||uf(l,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(l.parent.content)}function uf(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function W1(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:l,b:c}=t.findDiffEnd(e,n+t.size,n+e.size);if(i==\"end\"){let u=Math.max(0,s-Math.min(l,c));r-=l+u-s}if(l<s&&t.size<e.size){let u=r<=s&&r>=l?s-r:0;s-=u,s&&s<e.size&&tb(e.textBetween(s-1,s+1))&&(s+=u?1:-1),c=s+(c-l),l=s}else if(c<s){let u=r<=s&&r>=c?s-r:0;s-=u,s&&s<t.size&&tb(t.textBetween(s-1,s+1))&&(s+=u?1:-1),l=s+(l-c),c=s}return{start:s,endA:l,endB:c}}function tb(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class nb{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new l1,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(lb),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement(\"div\"),e&&(e.appendChild?e.appendChild(this.dom):typeof e==\"function\"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=sb(this),ib(this),this.nodeViews=ob(this),this.docView=fy(this.state.doc,rb(this),cf(this),this.dom,this),this.domObserver=new L1(this,(r,i,s,l)=>H1(this,r,i,s,l)),this.domObserver.start(),a1(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&nf(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(lb),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,l=!1;e.storedMarks&&this.composing&&(jy(this),l=!0),this.state=e;let c=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(c||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let y=ob(this);q1(y,this.nodeViews)&&(this.nodeViews=y,s=!0)}(c||n.handleDOMEvents!=this._props.handleDOMEvents)&&nf(this),this.editable=sb(this),ib(this);let u=cf(this),d=rb(this),p=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?\"reset\":e.scrollToSelection>i.scrollToSelection?\"to selection\":\"preserve\",h=s||!this.docView.matchesNode(e.doc,d,u);(h||!e.selection.eq(i.selection))&&(l=!0);let g=p==\"preserve\"&&l&&this.dom.style.overflowAnchor==null&&vS(this);if(l){this.domObserver.stop();let y=h&&(hn||Kt)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&K1(i.selection,e.selection);if(h){let k=Kt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=v1(this)),(s||!this.docView.update(e.doc,d,u,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=fy(e.doc,d,u,this.dom,this)),k&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(y=!0)}y||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&KS(this))?Tr(this,y):(vy(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),p==\"reset\"?this.dom.scrollTop=0:p==\"to selection\"?this.scrollToSelection():g&&xS(g)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp(\"handleScrollToSelection\",n=>n(this)))if(this.state.selection instanceof we){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&Xg(this,n.getBoundingClientRect(),e)}else Xg(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new Wy(e.slice,e.move,i<0?void 0:we.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let l=0;l<this.directPlugins.length;l++){let c=this.directPlugins[l].props[e];if(c!=null&&(i=n?n(c):c))return i}let s=this.state.plugins;if(s)for(let l=0;l<s.length;l++){let c=s[l].props[e];if(c!=null&&(i=n?n(c):c))return i}}hasFocus(){if(hn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable==\"false\")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&SS(this.dom),Tr(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return MS(this,e)}coordsAtPos(e,n=1){return sy(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError(\"DOM position not inside the editor\");return i}endOfTextblock(e,n){return LS(this,n||this.state,e)}pasteHTML(e,n){return Ko(this,\"\",e,!1,n||new ClipboardEvent(\"paste\"))}pasteText(e,n){return Ko(this,e,null,!0,n||new ClipboardEvent(\"paste\"))}serializeForClipboard(e){return Xd(this,e)}destroy(){this.docView&&(c1(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],cf(this),this),this.dom.textContent=\"\"):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,fS())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return d1(this,e)}domSelectionRange(){let e=this.domSelection();return e?Qt&&this.root.nodeType===11&&yS(this.dom.ownerDocument)==this.dom&&P1(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}nb.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function rb(t){let e=Object.create(null);return e.class=\"ProseMirror\",e.contenteditable=String(t.editable),t.someProp(\"attributes\",n=>{if(typeof n==\"function\"&&(n=n(t.state)),n)for(let r in n)r==\"class\"?e.class+=\" \"+n[r]:r==\"style\"?e.style=(e.style?e.style+\";\":\"\")+n[r]:!e[r]&&r!=\"contenteditable\"&&r!=\"nodeName\"&&(e[r]=String(n[r]))}),e.translate||(e.translate=\"no\"),[Lt.node(0,t.state.doc.content.size,e)]}function ib(t){if(t.markCursor){let e=document.createElement(\"img\");e.className=\"ProseMirror-separator\",e.setAttribute(\"mark-placeholder\",\"true\"),e.setAttribute(\"alt\",\"\"),t.cursorWrapper={dom:e,deco:Lt.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function sb(t){return!t.someProp(\"editable\",e=>e(t.state)===!1)}function K1(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function ob(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp(\"nodeViews\",n),t.someProp(\"markViews\",n),e}function q1(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function lb(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError(\"Plugins passed directly to the view must not have a state component\")}for(var ri={8:\"Backspace\",9:\"Tab\",10:\"Enter\",12:\"NumLock\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",44:\"PrintScreen\",45:\"Insert\",46:\"Delete\",59:\";\",61:\"=\",91:\"Meta\",92:\"Meta\",106:\"*\",107:\"+\",108:\",\",109:\"-\",110:\".\",111:\"/\",144:\"NumLock\",145:\"ScrollLock\",160:\"Shift\",161:\"Shift\",162:\"Control\",163:\"Control\",164:\"Alt\",165:\"Alt\",173:\"-\",186:\";\",187:\"=\",188:\",\",189:\"-\",190:\".\",191:\"/\",192:\"`\",219:\"[\",220:\"\\\\\",221:\"]\",222:\"'\"},Aa={48:\")\",49:\"!\",50:\"@\",51:\"#\",52:\"$\",53:\"%\",54:\"^\",55:\"&\",56:\"*\",57:\"(\",59:\":\",61:\"+\",173:\"_\",186:\":\",187:\"+\",188:\"<\",189:\"_\",190:\">\",191:\"?\",192:\"~\",219:\"{\",220:\"|\",221:\"}\",222:'\"'},G1=typeof navigator<\"u\"&&/Mac/.test(navigator.platform),Y1=typeof navigator<\"u\"&&/MSIE \\d|Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(navigator.userAgent),qt=0;qt<10;qt++)ri[48+qt]=ri[96+qt]=String(qt);for(var qt=1;qt<=24;qt++)ri[qt+111]=\"F\"+qt;for(var qt=65;qt<=90;qt++)ri[qt]=String.fromCharCode(qt+32),Aa[qt]=String.fromCharCode(qt);for(var df in ri)Aa.hasOwnProperty(df)||(Aa[df]=ri[df]);function J1(t){var e=G1&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||Y1&&t.shiftKey&&t.key&&t.key.length==1||t.key==\"Unidentified\",n=!e&&t.key||(t.shiftKey?Aa:ri)[t.keyCode]||t.key||\"Unidentified\";return n==\"Esc\"&&(n=\"Escape\"),n==\"Del\"&&(n=\"Delete\"),n==\"Left\"&&(n=\"ArrowLeft\"),n==\"Up\"&&(n=\"ArrowUp\"),n==\"Right\"&&(n=\"ArrowRight\"),n==\"Down\"&&(n=\"ArrowDown\"),n}const Q1=typeof navigator<\"u\"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),Z1=typeof navigator<\"u\"&&/Win/.test(navigator.platform);function X1(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n==\"Space\"&&(n=\" \");let r,i,s,l;for(let c=0;c<e.length-1;c++){let u=e[c];if(/^(cmd|meta|m)$/i.test(u))l=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))s=!0;else if(/^mod$/i.test(u))Q1?l=!0:i=!0;else throw new Error(\"Unrecognized modifier name: \"+u)}return r&&(n=\"Alt-\"+n),i&&(n=\"Ctrl-\"+n),l&&(n=\"Meta-\"+n),s&&(n=\"Shift-\"+n),n}function eC(t){let e=Object.create(null);for(let n in t)e[X1(n)]=t[n];return e}function ff(t,e,n=!0){return e.altKey&&(t=\"Alt-\"+t),e.ctrlKey&&(t=\"Ctrl-\"+t),e.metaKey&&(t=\"Meta-\"+t),n&&e.shiftKey&&(t=\"Shift-\"+t),t}function tC(t){return new Ge({props:{handleKeyDown:pf(t)}})}function pf(t){let e=eC(t);return function(n,r){let i=J1(r),s,l=e[ff(i,r)];if(l&&l(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=\" \"){if(r.shiftKey){let c=e[ff(i,r,!1)];if(c&&c(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(Z1&&r.ctrlKey&&r.altKey)&&(s=ri[r.keyCode])&&s!=i){let c=e[ff(s,r)];if(c&&c(n.state,n.dispatch,n))return!0}}return!1}}var nC=Object.defineProperty,hf=(t,e)=>{for(var n in e)nC(t,n,{get:e[n],enumerable:!0})};function Ra(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}var Oa=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:i}=n,s=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([l,c])=>[l,(...d)=>{const p=c(...d)(s);return!i.getMeta(\"preventDispatch\")&&!this.hasCustomState&&r.dispatch(i),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,l=[],c=!!t,u=t||i.tr,d=()=>(!c&&e&&!u.getMeta(\"preventDispatch\")&&!this.hasCustomState&&s.dispatch(u),l.every(h=>h===!0)),p={...Object.fromEntries(Object.entries(n).map(([h,g])=>[h,(...k)=>{const w=this.buildProps(u,e),v=g(...k)(w);return l.push(v),p}])),run:d};return p}createCan(t){const{rawCommands:e,state:n}=this,r=!1,i=t||n.tr,s=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(e).map(([c,u])=>[c,(...d)=>u(...d)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,l={tr:t,editor:r,view:s,state:Ra({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([c,u])=>[c,(...d)=>u(...d)(l)]))}};return l}},Vn={};hf(Vn,{blur:()=>rC,clearContent:()=>iC,clearNodes:()=>sC,command:()=>oC,createParagraphNear:()=>lC,cut:()=>aC,deleteCurrentNode:()=>cC,deleteNode:()=>uC,deleteRange:()=>dC,deleteSelection:()=>fC,enter:()=>pC,exitCode:()=>hC,extendMarkRange:()=>mC,first:()=>gC,focus:()=>bC,forEach:()=>kC,insertContent:()=>EC,insertContentAt:()=>xC,joinBackward:()=>TC,joinDown:()=>CC,joinForward:()=>_C,joinItemBackward:()=>NC,joinItemForward:()=>MC,joinTextblockBackward:()=>AC,joinTextblockForward:()=>RC,joinUp:()=>SC,keyboardShortcut:()=>IC,lift:()=>LC,liftEmptyBlock:()=>DC,liftListItem:()=>PC,newlineInCode:()=>BC,resetAttributes:()=>zC,scrollIntoView:()=>$C,selectAll:()=>FC,selectNodeBackward:()=>UC,selectNodeForward:()=>HC,selectParentNode:()=>jC,selectTextblockEnd:()=>VC,selectTextblockStart:()=>WC,setContent:()=>KC,setMark:()=>uT,setMeta:()=>dT,setNode:()=>fT,setNodeSelection:()=>pT,setTextDirection:()=>hT,setTextSelection:()=>mT,sinkListItem:()=>gT,splitBlock:()=>yT,splitListItem:()=>bT,toggleList:()=>kT,toggleMark:()=>ET,toggleNode:()=>wT,toggleWrap:()=>vT,undoInputRule:()=>xT,unsetAllMarks:()=>ST,unsetMark:()=>CT,unsetTextDirection:()=>TT,updateAttributes:()=>_T,wrapIn:()=>NT,wrapInList:()=>MT});var rC=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())==null||n.removeAllRanges())}),!0),iC=(t=!0)=>({commands:e})=>e.setContent(\"\",{emitUpdate:t}),sC=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:l})=>{t.doc.nodesBetween(s.pos,l.pos,(c,u)=>{if(c.type.isText)return;const{doc:d,mapping:p}=e,h=d.resolve(p.map(u)),g=d.resolve(p.map(u+c.nodeSize)),y=h.blockRange(g);if(!y)return;const k=Ds(y);if(c.type.isTextblock){const{defaultType:w}=h.parent.contentMatchAt(h.index());e.setNodeMarkup(y.start,w)}(k||k===0)&&e.lift(y,k)})}),!0},oC=t=>e=>t(e),lC=()=>({state:t,dispatch:e})=>jg(t,e),aC=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const l=r.mapping.map(e);return r.insert(l,s.content),r.setSelection(new ke(r.doc.resolve(Math.max(l-1,0)))),!0},cC=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const c=i.before(s),u=i.after(s);t.delete(c,u).scrollIntoView()}return!0}return!1};function At(t,e){if(typeof t==\"string\"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var uC=t=>({tr:e,state:n,dispatch:r})=>{const i=At(t,n.schema),s=e.selection.$anchor;for(let l=s.depth;l>0;l-=1)if(s.node(l).type===i){if(r){const u=s.before(l),d=s.after(l);e.delete(u,d).scrollIntoView()}return!0}return!1},dC=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},fC=()=>({state:t,dispatch:e})=>Dd(t,e),pC=()=>({commands:t})=>t.keyboardShortcut(\"Enter\"),hC=()=>({state:t,dispatch:e})=>Qx(t,e);function mf(t){return Object.prototype.toString.call(t)===\"[object RegExp]\"}function Ia(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:mf(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function ab(t,e,n={}){return t.find(r=>r.type===e&&Ia(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function cb(t,e,n={}){return!!ab(t,e,n)}function gf(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(p=>p.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(p=>p.type===e)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!ab([...i.node.marks],e,n)))return;let l=i.index,c=t.start()+i.offset,u=l+1,d=c+i.node.nodeSize;for(;l>0&&cb([...t.parent.child(l-1).marks],e,n);)l-=1,c-=t.parent.child(l).nodeSize;for(;u<t.parent.childCount&&cb([...t.parent.child(u).marks],e,n);)d+=t.parent.child(u).nodeSize,u+=1;return{from:c,to:d}}function _r(t,e){if(typeof t==\"string\"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var mC=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=_r(t,r.schema),{doc:l,selection:c}=n,{$from:u,from:d,to:p}=c;if(i){const h=gf(u,s,e);if(h&&h.from<=d&&h.to>=p){const g=ke.create(l,h.from,h.to);n.setSelection(g)}}return!0},gC=t=>e=>{const n=typeof t==\"function\"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function ub(t){return t instanceof ke}function Qi(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function db(t,e=null){if(!e)return null;const n=Se.atStart(t),r=Se.atEnd(t);if(e===\"start\"||e===!0)return n;if(e===\"end\")return r;const i=n.from,s=r.to;return e===\"all\"?ke.create(t,Qi(0,i,s),Qi(t.content.size,i,s)):ke.create(t,Qi(e,i,s),Qi(e,i,s))}function yf(){return navigator.platform===\"Android\"||/android/i.test(navigator.userAgent)}function Go(){return[\"iPad Simulator\",\"iPhone Simulator\",\"iPod Simulator\",\"iPad\",\"iPhone\",\"iPod\"].includes(navigator.platform)||navigator.userAgent.includes(\"Mac\")&&\"ontouchend\"in document}function yC(){return typeof navigator<\"u\"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var bC=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const l=()=>{(Go()||yf())&&r.dom.focus(),yC()&&!Go()&&!yf()&&r.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};try{if(r.hasFocus()&&t===null||t===!1)return!0}catch{return!1}if(s&&t===null&&!ub(n.state.selection))return l(),!0;const c=db(i.doc,t)||n.state.selection,u=n.state.selection.eq(c);return s&&(u||i.setSelection(c),u&&i.storedMarks&&i.setStoredMarks(i.storedMarks),l()),!0},kC=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),EC=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),fb=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\\n\\s\\s|\\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&fb(r)}return t};function Yo(t){if(typeof window>\"u\")throw new Error(\"[tiptap error]: there is no window object available, so this function cannot be used\");const e=`<body>${t}<\/body>`,n=new window.DOMParser().parseFromString(e,\"text/html\").body;return fb(n)}function Jo(t,e,n){if(t instanceof Hn||t instanceof j)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t==\"object\"&&t!==null,i=typeof t==\"string\";if(r)try{if(Array.isArray(t)&&t.length>0)return j.fromArray(t.map(c=>e.nodeFromJSON(c)));const l=e.nodeFromJSON(t);return n.errorOnInvalidContent&&l.check(),l}catch(s){if(n.errorOnInvalidContent)throw new Error(\"[tiptap error]: Invalid JSON content\",{cause:s});return console.warn(\"[tiptap warn]: Invalid content.\",\"Passed value:\",t,\"Error:\",s),Jo(\"\",e,n)}if(i){if(n.errorOnInvalidContent){let l=!1,c=\"\";const u=new tg({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:\"inline*\",group:\"block\",parseDOM:[{tag:\"*\",getAttrs:d=>(l=!0,c=typeof d==\"string\"?d:d.outerHTML,null)}]}})});if(n.slice?wr.fromSchema(u).parseSlice(Yo(t),n.parseOptions):wr.fromSchema(u).parse(Yo(t),n.parseOptions),n.errorOnInvalidContent&&l)throw new Error(\"[tiptap error]: Invalid HTML content\",{cause:new Error(`Invalid element found: ${c}`)})}const s=wr.fromSchema(e);return n.slice?s.parseSlice(Yo(t),n.parseOptions).content:s.parse(Yo(t),n.parseOptions)}return Jo(\"\",e,n)}function wC(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof Bt||i instanceof zt))return;const s=t.mapping.maps[r];let l=0;s.forEach((c,u,d,p)=>{l===0&&(l=p)}),t.setSelection(Se.near(t.doc.resolve(l),n))}var vC=t=>!(\"type\"in t),xC=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{var l;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let c;const u=v=>{s.emit(\"contentError\",{editor:s,error:v,disableCollaboration:()=>{\"collaboration\"in s.storage&&typeof s.storage.collaboration==\"object\"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},d={preserveWhitespace:\"full\",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{Jo(e,s.schema,{parseOptions:d,errorOnInvalidContent:!0})}catch(v){u(v)}try{c=Jo(e,s.schema,{parseOptions:d,errorOnInvalidContent:(l=n.errorOnInvalidContent)!=null?l:s.options.enableContentCheck})}catch(v){return u(v),!1}let{from:p,to:h}=typeof t==\"number\"?{from:t,to:t}:{from:t.from,to:t.to},g=!0,y=!0;if((vC(c)?c:[c]).forEach(v=>{v.check(),g=g?v.isText&&v.marks.length===0:!1,y=y?v.isBlock:!1}),p===h&&y){const{parent:v}=r.doc.resolve(p);v.isTextblock&&!v.type.spec.code&&!v.childCount&&(p-=1,h+=1)}let w;if(g){if(Array.isArray(e))w=e.map(v=>v.text||\"\").join(\"\");else if(e instanceof j){let v=\"\";e.forEach(x=>{x.text&&(v+=x.text)}),w=v}else typeof e==\"object\"&&e&&e.text?w=e.text:w=e;r.insertText(w,p,h)}else{w=c;const v=r.doc.resolve(p),x=v.node(),N=v.parentOffset===0,I=x.isText||x.isTextblock,P=x.content.size>0;N&&I&&P&&(p=Math.max(0,p-1)),r.replaceWith(p,h,w)}n.updateSelection&&wC(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta(\"applyInputRules\",{from:p,text:w}),n.applyPasteRules&&r.setMeta(\"applyPasteRules\",{from:p,text:w})}return!0},SC=()=>({state:t,dispatch:e})=>Gx(t,e),CC=()=>({state:t,dispatch:e})=>Yx(t,e),TC=()=>({state:t,dispatch:e})=>Pg(t,e),_C=()=>({state:t,dispatch:e})=>Fg(t,e),NC=()=>({state:t,dispatch:e,tr:n})=>{try{const r=ba(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},MC=()=>({state:t,dispatch:e,tr:n})=>{try{const r=ba(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},AC=()=>({state:t,dispatch:e})=>Kx(t,e),RC=()=>({state:t,dispatch:e})=>qx(t,e);function pb(){return typeof navigator<\"u\"?/Mac/.test(navigator.platform):!1}function OC(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n===\"Space\"&&(n=\" \");let r,i,s,l;for(let c=0;c<e.length-1;c+=1){const u=e[c];if(/^(cmd|meta|m)$/i.test(u))l=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))s=!0;else if(/^mod$/i.test(u))Go()||pb()?l=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${u}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),l&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var IC=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=OC(t).split(/-(?!$)/),l=s.find(d=>![\"Alt\",\"Ctrl\",\"Meta\",\"Shift\"].includes(d)),c=new KeyboardEvent(\"keydown\",{key:l===\"Space\"?\" \":l,altKey:s.includes(\"Alt\"),ctrlKey:s.includes(\"Ctrl\"),metaKey:s.includes(\"Meta\"),shiftKey:s.includes(\"Shift\"),bubbles:!0,cancelable:!0}),u=e.captureTransaction(()=>{n.someProp(\"handleKeyDown\",d=>d(n,c))});return u==null||u.steps.forEach(d=>{const p=d.map(r.mapping);p&&i&&r.maybeStep(p)}),!0};function ii(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,l=e?At(e,t.schema):null,c=[];t.doc.nodesBetween(r,i,(h,g)=>{if(h.isText)return;const y=Math.max(r,g),k=Math.min(i,g+h.nodeSize);c.push({node:h,from:y,to:k})});const u=i-r,d=c.filter(h=>l?l.name===h.node.type.name:!0).filter(h=>Ia(h.node.attrs,n,{strict:!1}));return s?!!d.length:d.reduce((h,g)=>h+g.to-g.from,0)>=u}var LC=(t,e={})=>({state:n,dispatch:r})=>{const i=At(t,n.schema);return ii(n,i,e)?Jx(n,r):!1},DC=()=>({state:t,dispatch:e})=>Vg(t,e),PC=t=>({state:e,dispatch:n})=>{const r=At(t,e.schema);return aS(r)(e,n)},BC=()=>({state:t,dispatch:e})=>Hg(t,e);function La(t,e){return e.nodes[t]?\"node\":e.marks[t]?\"mark\":null}function hb(t,e){const n=typeof e==\"string\"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}var zC=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,l=null;const c=La(typeof t==\"string\"?t:t.name,r.schema);if(!c)return!1;c===\"node\"&&(s=At(t,r.schema)),c===\"mark\"&&(l=_r(t,r.schema));let u=!1;return n.selection.ranges.forEach(d=>{r.doc.nodesBetween(d.$from.pos,d.$to.pos,(p,h)=>{s&&s===p.type&&(u=!0,i&&n.setNodeMarkup(h,void 0,hb(p.attrs,e))),l&&p.marks.length&&p.marks.forEach(g=>{l===g.type&&(u=!0,i&&n.addMark(h,h+p.nodeSize,l.create(hb(g.attrs,e))))})})}),u},$C=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),FC=()=>({tr:t,dispatch:e})=>{if(e){const n=new vn(t.doc);t.setSelection(n)}return!0},UC=()=>({state:t,dispatch:e})=>zg(t,e),HC=()=>({state:t,dispatch:e})=>Ug(t,e),jC=()=>({state:t,dispatch:e})=>eS(t,e),VC=()=>({state:t,dispatch:e})=>rS(t,e),WC=()=>({state:t,dispatch:e})=>nS(t,e);function bf(t,e,n={},r={}){return Jo(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var KC=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:s,dispatch:l,commands:c})=>{const{doc:u}=s;if(r.preserveWhitespace!==\"full\"){const d=bf(t,i.schema,r,{errorOnInvalidContent:e??i.options.enableContentCheck});return l&&s.replaceWith(0,u.content.size,d).setMeta(\"preventUpdate\",!n),!0}return l&&s.setMeta(\"preventUpdate\",!n),c.insertContentAt({from:0,to:u.content.size},t,{parseOptions:r,errorOnInvalidContent:e??i.options.enableContentCheck})};function mb(t,e){const n=_r(e,t.schema),{from:r,to:i,empty:s}=t.selection,l=[];s?(t.storedMarks&&l.push(...t.storedMarks),l.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,u=>{l.push(...u.marks)});const c=l.find(u=>u.type.name===n.name);return c?{...c.attrs}:{}}function gb(t,e){const n=new Ad(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function kf(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Zi(t,e){const n=[];return t.descendants((r,i)=>{e(r)&&n.push({node:r,pos:i})}),n}function qC(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,s)=>{n(i)&&r.push({node:i,pos:s})}),r}function yb(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Xi(t){return e=>yb(e.$from,t)}function he(t,e,n){return t.config[e]===void 0&&t.parent?he(t.parent,e,n):typeof t.config[e]==\"function\"?t.config[e].bind({...n,parent:t.parent?he(t.parent,e,n):null}):t.config[e]}function Da(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=he(e,\"addExtensions\",n);return r?[e,...Da(r())]:e}).flat(10)}function Ef(t,e){const n=Wr.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement(\"div\");return i.appendChild(n),i.innerHTML}function bb(t){return typeof t==\"function\"}function Ye(t,e=void 0,...n){return bb(t)?e?t.bind(e)(...n):t(...n):t}function GC(t={}){return Object.keys(t).length===0&&t.constructor===Object}function qs(t){const e=t.filter(i=>i.type===\"extension\"),n=t.filter(i=>i.type===\"node\"),r=t.filter(i=>i.type===\"mark\");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function kb(t){const e=[],{nodeExtensions:n,markExtensions:r}=qs(t),i=[...n,...r],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(l=>{const c={name:l.name,options:l.options,storage:l.storage,extensions:i},u=he(l,\"addGlobalAttributes\",c);if(!u)return;u().forEach(p=>{p.types.forEach(h=>{Object.entries(p.attributes).forEach(([g,y])=>{e.push({type:h,name:g,attribute:{...s,...y}})})})})}),i.forEach(l=>{const c={name:l.name,options:l.options,storage:l.storage},u=he(l,\"addAttributes\",c);if(!u)return;const d=u();Object.entries(d).forEach(([p,h])=>{const g={...s,...h};typeof(g==null?void 0:g.default)==\"function\"&&(g.default=g.default()),g!=null&&g.isRequired&&(g==null?void 0:g.default)===void 0&&delete g.default,e.push({type:l.name,name:p,attribute:g})})}),e}function Ke(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i===\"class\"){const c=s?String(s).split(\" \"):[],u=r[i]?r[i].split(\" \"):[],d=c.filter(p=>!u.includes(p));r[i]=[...u,...d].join(\" \")}else if(i===\"style\"){const c=s?s.split(\";\").map(p=>p.trim()).filter(Boolean):[],u=r[i]?r[i].split(\";\").map(p=>p.trim()).filter(Boolean):[],d=new Map;u.forEach(p=>{const[h,g]=p.split(\":\").map(y=>y.trim());d.set(h,g)}),c.forEach(p=>{const[h,g]=p.split(\":\").map(y=>y.trim());d.set(h,g)}),r[i]=Array.from(d.entries()).map(([p,h])=>`${p}: ${h}`).join(\"; \")}else r[i]=s}),r},{})}function si(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Ke(n,r),{})}function YC(t){return typeof t!=\"string\"?t:t.match(/^[+-]?(?:\\d*\\.)?\\d+$/)?Number(t):t===\"true\"?!0:t===\"false\"?!1:t}function Eb(t,e){return\"style\"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,l)=>{const c=l.attribute.parseHTML?l.attribute.parseHTML(n):YC(n.getAttribute(l.name));return c==null?s:{...s,[l.name]:c}},{});return{...r,...i}}}}function wb(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e===\"attrs\"&&GC(n)?!1:n!=null))}function vb(t){var e,n;const r={};return!((e=t==null?void 0:t.attribute)!=null&&e.isRequired)&&\"default\"in((t==null?void 0:t.attribute)||{})&&(r.default=t.attribute.default),((n=t==null?void 0:t.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=t.attribute.validate),[t.name,r]}function xb(t,e){var n;const r=kb(t),{nodeExtensions:i,markExtensions:s}=qs(t),l=(n=i.find(d=>he(d,\"topNode\")))==null?void 0:n.name,c=Object.fromEntries(i.map(d=>{const p=r.filter(x=>x.type===d.name),h={name:d.name,options:d.options,storage:d.storage,editor:e},g=t.reduce((x,N)=>{const I=he(N,\"extendNodeSchema\",h);return{...x,...I?I(d):{}}},{}),y=wb({...g,content:Ye(he(d,\"content\",h)),marks:Ye(he(d,\"marks\",h)),group:Ye(he(d,\"group\",h)),inline:Ye(he(d,\"inline\",h)),atom:Ye(he(d,\"atom\",h)),selectable:Ye(he(d,\"selectable\",h)),draggable:Ye(he(d,\"draggable\",h)),code:Ye(he(d,\"code\",h)),whitespace:Ye(he(d,\"whitespace\",h)),linebreakReplacement:Ye(he(d,\"linebreakReplacement\",h)),defining:Ye(he(d,\"defining\",h)),isolating:Ye(he(d,\"isolating\",h)),attrs:Object.fromEntries(p.map(vb))}),k=Ye(he(d,\"parseHTML\",h));k&&(y.parseDOM=k.map(x=>Eb(x,p)));const w=he(d,\"renderHTML\",h);w&&(y.toDOM=x=>w({node:x,HTMLAttributes:si(x,p)}));const v=he(d,\"renderText\",h);return v&&(y.toText=v),[d.name,y]})),u=Object.fromEntries(s.map(d=>{const p=r.filter(v=>v.type===d.name),h={name:d.name,options:d.options,storage:d.storage,editor:e},g=t.reduce((v,x)=>{const N=he(x,\"extendMarkSchema\",h);return{...v,...N?N(d):{}}},{}),y=wb({...g,inclusive:Ye(he(d,\"inclusive\",h)),excludes:Ye(he(d,\"excludes\",h)),group:Ye(he(d,\"group\",h)),spanning:Ye(he(d,\"spanning\",h)),code:Ye(he(d,\"code\",h)),attrs:Object.fromEntries(p.map(vb))}),k=Ye(he(d,\"parseHTML\",h));k&&(y.parseDOM=k.map(v=>Eb(v,p)));const w=he(d,\"renderHTML\",h);return w&&(y.toDOM=v=>w({mark:v,HTMLAttributes:si(v,p)})),[d.name,y]}));return new tg({topNode:l,nodes:c,marks:u})}function JC(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function Pa(t){return t.sort((n,r)=>{const i=he(n,\"priority\")||100,s=he(r,\"priority\")||100;return i>s?-1:i<s?1:0})}function wf(t){const e=Pa(Da(t)),n=JC(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(\", \")}]. This can lead to issues.`),e}function QC(t,e){const n=wf(t);return xb(n,e)}function ZC(t,e){const n=QC(e),r=Yo(t);return wr.fromSchema(n).parse(r).toJSON()}function Sb(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`\n\n`,textSerializers:l={}}=n||{};let c=\"\";return t.nodesBetween(r,i,(u,d,p,h)=>{var g;u.isBlock&&d>r&&(c+=s);const y=l==null?void 0:l[u.type.name];if(y)return p&&(c+=y({node:u,pos:d,parent:p,index:h,range:e})),!1;u.isText&&(c+=(g=u==null?void 0:u.text)==null?void 0:g.slice(Math.max(r,d)-d,i-d))}),c}function XC(t,e){const n={from:0,to:t.content.size};return Sb(t,n,e)}function Cb(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function eT(t,e){const n=At(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,c=>{s.push(c)});const l=s.reverse().find(c=>c.type.name===n.name);return l?{...l.attrs}:{}}function Tb(t,e){const n=La(typeof e==\"string\"?e:e.name,t.schema);return n===\"node\"?eT(t,e):n===\"mark\"?mb(t,e):{}}function tT(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function nT(t){const e=tT(t);return e.length===1?e:e.filter((n,r)=>!e.filter((s,l)=>l!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function _b(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,s)=>{const l=[];if(i.ranges.length)i.forEach((c,u)=>{l.push({from:c,to:u})});else{const{from:c,to:u}=n[s];if(c===void 0||u===void 0)return;l.push({from:c,to:u})}l.forEach(({from:c,to:u})=>{const d=e.slice(s).map(c,-1),p=e.slice(s).map(u),h=e.invert().map(d,-1),g=e.invert().map(p);r.push({oldRange:{from:h,to:g},newRange:{from:d,to:p}})})}),nT(r)}function vf(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t),l=gf(s,i.type);l&&r.push({mark:i,...l})}):n.nodesBetween(t,e,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(l=>({from:s,to:s+i.nodeSize,mark:l})))}),r}var rT=(t,e,n,r=20)=>{const i=t.doc.resolve(n);let s=r,l=null;for(;s>0&&l===null;){const c=i.node(s);(c==null?void 0:c.type.name)===e?l=c:s-=1}return[l,s]};function Ba(t,e){return e.nodes[t]||e.marks[t]||null}function za(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}var iT=(t,e=500)=>{let n=\"\";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,l,c)=>{var u,d;const p=((d=(u=i.type.spec).toText)==null?void 0:d.call(u,{node:i,pos:s,parent:l,index:c}))||i.textContent||\"%leaf%\";n+=i.isAtom&&!i.isText?p:p.slice(0,Math.max(0,r-s))}),n};function xf(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?_r(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(h=>s?s.name===h.type.name:!0).find(h=>Ia(h.attrs,n,{strict:!1}));let l=0;const c=[];if(i.forEach(({$from:h,$to:g})=>{const y=h.pos,k=g.pos;t.doc.nodesBetween(y,k,(w,v)=>{if(!w.isText&&!w.marks.length)return;const x=Math.max(y,v),N=Math.min(k,v+w.nodeSize),I=N-x;l+=I,c.push(...w.marks.map(P=>({mark:P,from:x,to:N})))})}),l===0)return!1;const u=c.filter(h=>s?s.name===h.mark.type.name:!0).filter(h=>Ia(h.mark.attrs,n,{strict:!1})).reduce((h,g)=>h+g.to-g.from,0),d=c.filter(h=>s?h.mark.type!==s&&h.mark.type.excludes(s):!0).reduce((h,g)=>h+g.to-g.from,0);return(u>0?u+d:u)>=l}function Nb(t,e,n={}){if(!e)return ii(t,null,n)||xf(t,null,n);const r=La(e,t.schema);return r===\"node\"?ii(t,e,n):r===\"mark\"?xf(t,e,n):!1}var sT=(t,e)=>{const{$from:n,$to:r,$anchor:i}=t.selection;if(e){const s=Xi(c=>c.type.name===e)(t.selection);if(!s)return!1;const l=t.doc.resolve(s.pos+1);return i.pos+1===l.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},oT=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function Mb(t,e){return Array.isArray(e)?e.some(n=>(typeof n==\"string\"?n:n.name)===t.name):e}function Ab(t,e){const{nodeExtensions:n}=qs(e),r=n.find(l=>l.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=Ye(he(r,\"group\",i));return typeof s!=\"string\"?!1:s.split(\" \").includes(\"list\")}function $a(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name===\"hardBreak\")return!0;if(t.isText)return/^\\s*$/m.test((r=t.text)!=null?r:\"\")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&($a(s,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function Rb(t){return t instanceof we}var Ob=class Pv{constructor(e){this.position=e}static fromJSON(e){return new Pv(e.position)}toJSON(){return{position:this.position}}};function lT(t,e){const n=e.mapping.mapResult(t.position);return{position:new Ob(n.pos),mapResult:n}}function aT(t){return new Ob(t)}function cT(t,e,n){var r;const{selection:i}=e;let s=null;if(ub(i)&&(s=i.$cursor),s){const c=(r=t.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(c)||!c.some(d=>d.type.excludes(n)))}const{ranges:l}=i;return l.some(({$from:c,$to:u})=>{let d=c.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(c.pos,u.pos,(p,h,g)=>{if(d)return!1;if(p.isInline){const y=!g||g.type.allowsMarkType(n),k=!!n.isInSet(p.marks)||!p.marks.some(w=>w.type.excludes(n));d=y&&k}return!d}),d})}var uT=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:l,ranges:c}=s,u=_r(t,r.schema);if(i)if(l){const d=mb(r,u);n.addStoredMark(u.create({...d,...e}))}else c.forEach(d=>{const p=d.$from.pos,h=d.$to.pos;r.doc.nodesBetween(p,h,(g,y)=>{const k=Math.max(y,p),w=Math.min(y+g.nodeSize,h);g.marks.find(x=>x.type===u)?g.marks.forEach(x=>{u===x.type&&n.addMark(k,w,u.create({...x.attrs,...e}))}):n.addMark(k,w,u.create(e))})});return cT(r,n,u)},dT=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),fT=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=At(t,n.schema);let l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:c})=>qg(s,{...l,...e})(n)?!0:c.clearNodes()).command(({state:c})=>qg(s,{...l,...e})(c,r)).run():(console.warn('[tiptap warn]: Currently \"setNode()\" only supports text block nodes.'),!1)},pT=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=Qi(t,0,r.content.size),s=we.create(r,i);e.setSelection(s)}return!0},hT=(t,e)=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=r;let l,c;return typeof e==\"number\"?(l=e,c=e):e&&\"from\"in e&&\"to\"in e?(l=e.from,c=e.to):(l=s.from,c=s.to),i&&n.doc.nodesBetween(l,c,(u,d)=>{u.isText||n.setNodeMarkup(d,void 0,{...u.attrs,dir:t})}),!0},mT=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t==\"number\"?{from:t,to:t}:t,l=ke.atStart(r).from,c=ke.atEnd(r).to,u=Qi(i,l,c),d=Qi(s,l,c),p=ke.create(r,u,d);e.setSelection(p)}return!0},gT=t=>({state:e,dispatch:n})=>{const r=At(t,e.schema);return dS(r)(e,n)};function Ib(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}var yT=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:l}=e,{$from:c,$to:u}=s,d=i.extensionManager.attributes,p=za(d,c.node().type.name,c.node().attrs);if(s instanceof we&&s.node.isBlock)return!c.parentOffset||!vr(l,c.pos)?!1:(r&&(t&&Ib(n,i.extensionManager.splittableMarks),e.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;const h=u.parentOffset===u.parent.content.size,g=c.depth===0?void 0:kf(c.node(-1).contentMatchAt(c.indexAfter(-1)));let y=h&&g?[{type:g,attrs:p}]:void 0,k=vr(e.doc,e.mapping.map(c.pos),1,y);if(!y&&!k&&vr(e.doc,e.mapping.map(c.pos),1,g?[{type:g}]:void 0)&&(k=!0,y=g?[{type:g,attrs:p}]:void 0),r){if(k&&(s instanceof ke&&e.deleteSelection(),e.split(e.mapping.map(c.pos),1,y),g&&!h&&!c.parentOffset&&c.parent.type!==g)){const w=e.mapping.map(c.before()),v=e.doc.resolve(w);c.node(-1).canReplaceWith(v.index(),v.index()+1,g)&&e.setNodeMarkup(e.mapping.map(c.before()),g)}t&&Ib(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return k},bT=(t,e={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var l;const c=At(t,r.schema),{$from:u,$to:d}=r.selection,p=r.selection.node;if(p&&p.isBlock||u.depth<2||!u.sameParent(d))return!1;const h=u.node(-1);if(h.type!==c)return!1;const g=s.extensionManager.attributes;if(u.parent.content.size===0&&u.node(-1).childCount===u.indexAfter(-1)){if(u.depth===2||u.node(-3).type!==c||u.index(-2)!==u.node(-2).childCount-1)return!1;if(i){let x=j.empty;const N=u.index(-1)?1:u.index(-2)?2:3;for(let J=u.depth-N;J>=u.depth-3;J-=1)x=j.from(u.node(J).copy(x));const I=u.indexAfter(-1)<u.node(-2).childCount?1:u.indexAfter(-2)<u.node(-3).childCount?2:3,P={...za(g,u.node().type.name,u.node().attrs),...e},O=((l=c.contentMatch.defaultType)==null?void 0:l.createAndFill(P))||void 0;x=x.append(j.from(c.createAndFill(null,O)||void 0));const z=u.before(u.depth-(N-1));n.replace(z,u.after(-I),new te(x,4-N,0));let U=-1;n.doc.nodesBetween(z,n.doc.content.size,(J,ne)=>{if(U>-1)return!1;J.isTextblock&&J.content.size===0&&(U=ne+1)}),U>-1&&n.setSelection(ke.near(n.doc.resolve(U))),n.scrollIntoView()}return!0}const y=d.pos===u.end()?h.contentMatchAt(0).defaultType:null,k={...za(g,h.type.name,h.attrs),...e},w={...za(g,u.node().type.name,u.node().attrs),...e};n.delete(u.pos,d.pos);const v=y?[{type:c,attrs:k},{type:y,attrs:w}]:[{type:c,attrs:k}];if(!vr(n.doc,u.pos,2))return!1;if(i){const{selection:x,storedMarks:N}=r,{splittableMarks:I}=s.extensionManager,P=N||x.$to.parentOffset&&x.$from.marks();if(n.split(u.pos,2,v).scrollIntoView(),!P||!i)return!0;const O=P.filter(z=>I.includes(z.type.name));n.ensureMarks(O)}return!0},Sf=(t,e)=>{const n=Xi(l=>l.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Gr(t.doc,n.pos)&&t.join(n.pos),!0},Cf=(t,e)=>{const n=Xi(l=>l.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Gr(t.doc,r)&&t.join(r),!0},kT=(t,e,n,r={})=>({editor:i,tr:s,state:l,dispatch:c,chain:u,commands:d,can:p})=>{const{extensions:h,splittableMarks:g}=i.extensionManager,y=At(t,l.schema),k=At(e,l.schema),{selection:w,storedMarks:v}=l,{$from:x,$to:N}=w,I=x.blockRange(N),P=v||w.$to.parentOffset&&w.$from.marks();if(!I)return!1;const O=Xi(z=>Ab(z.type.name,h))(w);if(I.depth>=1&&O&&I.depth-O.depth<=1){if(O.node.type===y)return d.liftListItem(k);if(Ab(O.node.type.name,h)&&y.validContent(O.node.content)&&c)return u().command(()=>(s.setNodeMarkup(O.pos,y),!0)).command(()=>Sf(s,y)).command(()=>Cf(s,y)).run()}return!n||!P||!c?u().command(()=>p().wrapInList(y,r)?!0:d.clearNodes()).wrapInList(y,r).command(()=>Sf(s,y)).command(()=>Cf(s,y)).run():u().command(()=>{const z=p().wrapInList(y,r),U=P.filter(J=>g.includes(J.type.name));return s.ensureMarks(U),z?!0:d.clearNodes()}).wrapInList(y,r).command(()=>Sf(s,y)).command(()=>Cf(s,y)).run()},ET=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,l=_r(t,r.schema);return xf(r,l,e)?i.unsetMark(l,{extendEmptyMarkRange:s}):i.setMark(l,e)},wT=(t,e,n={})=>({state:r,commands:i})=>{const s=At(t,r.schema),l=At(e,r.schema),c=ii(r,s,n);let u;return r.selection.$anchor.sameParent(r.selection.$head)&&(u=r.selection.$anchor.parent.attrs),c?i.setNode(l,u):i.setNode(s,{...u,...n})},vT=(t,e={})=>({state:n,commands:r})=>{const i=At(t,n.schema);return ii(n,i,e)?r.lift(i):r.wrapIn(i,e)},xT=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const l=t.tr,c=s.transform;for(let u=c.steps.length-1;u>=0;u-=1)l.step(c.steps[u].invert(c.docs[u]));if(s.text){const u=l.doc.resolve(s.from).marks();l.replaceWith(s.from,s.to,t.schema.text(s.text,u))}else l.delete(s.from,s.to)}return!0}}return!1},ST=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},CT=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:l=!1}=e,{selection:c}=n,u=_r(t,r.schema),{$from:d,empty:p,ranges:h}=c;if(!i)return!0;if(p&&l){let{from:g,to:y}=c;const k=(s=d.marks().find(v=>v.type===u))==null?void 0:s.attrs,w=gf(d,u,k);w&&(g=w.from,y=w.to),n.removeMark(g,y,u)}else h.forEach(g=>{n.removeMark(g.$from.pos,g.$to.pos,u)});return n.removeStoredMark(u),!0},TT=t=>({tr:e,state:n,dispatch:r})=>{const{selection:i}=n;let s,l;return typeof t==\"number\"?(s=t,l=t):t&&\"from\"in t&&\"to\"in t?(s=t.from,l=t.to):(s=i.from,l=i.to),r&&e.doc.nodesBetween(s,l,(c,u)=>{if(c.isText)return;const d={...c.attrs};delete d.dir,e.setNodeMarkup(u,void 0,d)}),!0},_T=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,l=null;const c=La(typeof t==\"string\"?t:t.name,r.schema);if(!c)return!1;c===\"node\"&&(s=At(t,r.schema)),c===\"mark\"&&(l=_r(t,r.schema));let u=!1;return n.selection.ranges.forEach(d=>{const p=d.$from.pos,h=d.$to.pos;let g,y,k,w;n.selection.empty?r.doc.nodesBetween(p,h,(v,x)=>{s&&s===v.type&&(u=!0,k=Math.max(x,p),w=Math.min(x+v.nodeSize,h),g=x,y=v)}):r.doc.nodesBetween(p,h,(v,x)=>{x<p&&s&&s===v.type&&(u=!0,k=Math.max(x,p),w=Math.min(x+v.nodeSize,h),g=x,y=v),x>=p&&x<=h&&(s&&s===v.type&&(u=!0,i&&n.setNodeMarkup(x,void 0,{...v.attrs,...e})),l&&v.marks.length&&v.marks.forEach(N=>{if(l===N.type&&(u=!0,i)){const I=Math.max(x,p),P=Math.min(x+v.nodeSize,h);n.addMark(I,P,l.create({...N.attrs,...e}))}}))}),y&&(g!==void 0&&i&&n.setNodeMarkup(g,void 0,{...y.attrs,...e}),l&&y.marks.length&&y.marks.forEach(v=>{l===v.type&&i&&n.addMark(k,w,l.create({...v.attrs,...e}))}))}),u},NT=(t,e={})=>({state:n,dispatch:r})=>{const i=At(t,n.schema);return iS(i,e)(n,r)},MT=(t,e={})=>({state:n,dispatch:r})=>{const i=At(t,n.schema);return sS(i,e)(n,r)},AT=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},Qo=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},RT=(t,e)=>{if(mf(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: \"inputRuleMatch.replaceWith\" must be part of \"inputRuleMatch.text\".'),r.push(n.replaceWith)),r};function Fa(t){var e;const{editor:n,from:r,to:i,text:s,rules:l,plugin:c}=t,{view:u}=n;if(u.composing)return!1;const d=u.state.doc.resolve(r);if(d.parent.type.spec.code||(e=d.nodeBefore||d.nodeAfter)!=null&&e.marks.find(g=>g.type.spec.code))return!1;let p=!1;const h=iT(d)+s;return l.forEach(g=>{if(p)return;const y=RT(h,g.find);if(!y)return;const k=u.state.tr,w=Ra({state:u.state,transaction:k}),v={from:r-(y[0].length-s.length),to:i},{commands:x,chain:N,can:I}=new Oa({editor:n,state:w});g.handler({state:w,range:v,match:y,commands:x,chain:N,can:I})===null||!k.steps.length||(g.undoable&&k.setMeta(c,{transform:k,from:r,to:i,text:s}),u.dispatch(k),p=!0)}),p}function OT(t){const{editor:e,rules:n}=t,r=new Ge({state:{init(){return null},apply(i,s,l){const c=i.getMeta(r);if(c)return c;const u=i.getMeta(\"applyInputRules\");return!!u&&setTimeout(()=>{let{text:p}=u;typeof p==\"string\"?p=p:p=Ef(j.from(p),l.schema);const{from:h}=u,g=h+p.length;Fa({editor:e,from:h,to:g,text:p,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,l,c){return Fa({editor:e,from:s,to:l,text:c,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&Fa({editor:e,from:s.pos,to:s.pos,text:\"\",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!==\"Enter\")return!1;const{$cursor:l}=i.state.selection;return l?Fa({editor:e,from:l.pos,to:l.pos,text:`\n`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function IT(t){return Object.prototype.toString.call(t).slice(8,-1)}function Ua(t){return IT(t)!==\"Object\"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Lb(t,e){const n={...t};return Ua(t)&&Ua(e)&&Object.keys(e).forEach(r=>{Ua(e[r])&&Ua(t[r])?n[r]=Lb(t[r],e[r]):n[r]=e[r]}),n}var Tf=class{constructor(t={}){this.type=\"extendable\",this.parent=null,this.child=null,this.name=\"\",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Ye(he(this,\"addOptions\",{name:this.name}))||{}}}get storage(){return{...Ye(he(this,\"addStorage\",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>Lb(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name=\"name\"in t?t.name:e.parent.name,e}},es=class Bv extends Tf{constructor(){super(...arguments),this.type=\"mark\"}static create(e={}){const n=typeof e==\"function\"?e():e;return new Bv(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const l=i.marks();if(!!!l.find(d=>(d==null?void 0:d.type.name)===n.name))return!1;const u=l.find(d=>(d==null?void 0:d.type.name)===n.name);return u&&r.removeStoredMark(u),r.insertText(\" \",i.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e==\"function\"?e():e;return super.extend(n)}};function LT(t){return typeof t==\"number\"}var DT=class{constructor(t){this.find=t.find,this.handler=t.handler}},PT=(t,e,n)=>{if(mf(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: \"pasteRuleMatch.replaceWith\" must be part of \"pasteRuleMatch.text\".'),s.push(i.replaceWith)),s}):[]};function BT(t){const{editor:e,state:n,from:r,to:i,rule:s,pasteEvent:l,dropEvent:c}=t,{commands:u,chain:d,can:p}=new Oa({editor:e,state:n}),h=[];return n.doc.nodesBetween(r,i,(y,k)=>{var w,v,x,N,I;if((v=(w=y.type)==null?void 0:w.spec)!=null&&v.code||!(y.isText||y.isTextblock||y.isInline))return;const P=(I=(N=(x=y.content)==null?void 0:x.size)!=null?N:y.nodeSize)!=null?I:0,O=Math.max(r,k),z=Math.min(i,k+P);if(O>=z)return;const U=y.isText?y.text||\"\":y.textBetween(O-k,z-k,void 0,\"\");PT(U,s.find,l).forEach(ne=>{if(ne.index===void 0)return;const ie=O+ne.index+1,fe=ie+ne[0].length,Ne={from:n.tr.mapping.map(ie),to:n.tr.mapping.map(fe)},se=s.handler({state:n,range:Ne,match:ne,commands:u,chain:d,can:p,pasteEvent:l,dropEvent:c});h.push(se)})}),h.every(y=>y!==null)}var Ha=null,zT=t=>{var e;const n=new ClipboardEvent(\"paste\",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData(\"text/html\",t),n};function $T(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1,l=typeof ClipboardEvent<\"u\"?new ClipboardEvent(\"paste\"):null,c;try{c=typeof DragEvent<\"u\"?new DragEvent(\"drop\"):null}catch{c=null}const u=({state:p,from:h,to:g,rule:y,pasteEvt:k})=>{const w=p.tr,v=Ra({state:p,transaction:w});if(!(!BT({editor:e,state:v,from:Math.max(h-1,0),to:g.b-1,rule:y,pasteEvent:k,dropEvent:c})||!w.steps.length)){try{c=typeof DragEvent<\"u\"?new DragEvent(\"drop\"):null}catch{c=null}return l=typeof ClipboardEvent<\"u\"?new ClipboardEvent(\"paste\"):null,w}};return n.map(p=>new Ge({view(h){const g=k=>{var w;r=(w=h.dom.parentElement)!=null&&w.contains(k.target)?h.dom.parentElement:null,r&&(Ha=e)},y=()=>{Ha&&(Ha=null)};return window.addEventListener(\"dragstart\",g),window.addEventListener(\"dragend\",y),{destroy(){window.removeEventListener(\"dragstart\",g),window.removeEventListener(\"dragend\",y)}}},props:{handleDOMEvents:{drop:(h,g)=>{if(s=r===h.dom.parentElement,c=g,!s){const y=Ha;y!=null&&y.isEditable&&setTimeout(()=>{const k=y.state.selection;k&&y.commands.deleteRange({from:k.from,to:k.to})},10)}return!1},paste:(h,g)=>{var y;const k=(y=g.clipboardData)==null?void 0:y.getData(\"text/html\");return l=g,i=!!(k!=null&&k.includes(\"data-pm-slice\")),!1}}},appendTransaction:(h,g,y)=>{const k=h[0],w=k.getMeta(\"uiEvent\")===\"paste\"&&!i,v=k.getMeta(\"uiEvent\")===\"drop\"&&!s,x=k.getMeta(\"applyPasteRules\"),N=!!x;if(!w&&!v&&!N)return;if(N){let{text:O}=x;typeof O==\"string\"?O=O:O=Ef(j.from(O),y.schema);const{from:z}=x,U=z+O.length,J=zT(O);return u({rule:p,state:y,from:z,to:{b:U},pasteEvt:J})}const I=g.doc.content.findDiffStart(y.doc.content),P=g.doc.content.findDiffEnd(y.doc.content);if(!(!LT(I)||!P||I===P.b))return u({rule:p,state:y,from:I,to:P,pasteEvt:l})}}))}var ja=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=wf(t),this.schema=xb(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Ba(e.name,this.schema)},r=he(e,\"addCommands\",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return Pa([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:Ba(r.name,this.schema)},s=[],l=he(r,\"addKeyboardShortcuts\",i);let c={};if(r.type===\"mark\"&&he(r,\"exitable\",i)&&(c.ArrowRight=()=>es.handleExit({editor:t,mark:r})),l){const g=Object.fromEntries(Object.entries(l()).map(([y,k])=>[y,()=>k({editor:t})]));c={...c,...g}}const u=tC(c);s.push(u);const d=he(r,\"addInputRules\",i);if(Mb(r,t.options.enableInputRules)&&d){const g=d();if(g&&g.length){const y=OT({editor:t,rules:g}),k=Array.isArray(y)?y:[y];s.push(...k)}}const p=he(r,\"addPasteRules\",i);if(Mb(r,t.options.enablePasteRules)&&p){const g=p();if(g&&g.length){const y=$T({editor:t,rules:g});s.push(...y)}}const h=he(r,\"addProseMirrorPlugins\",i);if(h){const g=h();s.push(...g)}return s})}get attributes(){return kb(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=qs(this.extensions);return Object.fromEntries(e.filter(n=>!!he(n,\"addNodeView\")).map(n=>{const r=this.attributes.filter(u=>u.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:At(n.name,this.schema)},s=he(n,\"addNodeView\",i);if(!s)return[];const l=s();if(!l)return[];const c=(u,d,p,h,g)=>{const y=si(u,r);return l({node:u,view:d,getPos:p,decorations:h,innerDecorations:g,editor:t,extension:n,HTMLAttributes:y})};return[n.name,c]}))}dispatchTransaction(t){const{editor:e}=this;return Pa([...this.extensions].reverse()).reduceRight((r,i)=>{const s={name:i.name,options:i.options,storage:this.editor.extensionStorage[i.name],editor:e,type:Ba(i.name,this.schema)},l=he(i,\"dispatchTransaction\",s);return l?c=>{l.call(s,{transaction:c,next:r})}:r},t)}get markViews(){const{editor:t}=this,{markExtensions:e}=qs(this.extensions);return Object.fromEntries(e.filter(n=>!!he(n,\"addMarkView\")).map(n=>{const r=this.attributes.filter(c=>c.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:_r(n.name,this.schema)},s=he(n,\"addMarkView\",i);if(!s)return[];const l=(c,u,d)=>{const p=si(c,r);return s()({mark:c,view:u,inline:d,editor:t,extension:n,HTMLAttributes:p,updateAttributes:h=>{ZT(c,t,h)}})};return[n.name,l]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Ba(e.name,this.schema)};e.type===\"mark\"&&((n=Ye(he(e,\"keepOnSplit\",r)))==null||n)&&this.splittableMarks.push(e.name);const i=he(e,\"onBeforeCreate\",r),s=he(e,\"onCreate\",r),l=he(e,\"onUpdate\",r),c=he(e,\"onSelectionUpdate\",r),u=he(e,\"onTransaction\",r),d=he(e,\"onFocus\",r),p=he(e,\"onBlur\",r),h=he(e,\"onDestroy\",r);i&&this.editor.on(\"beforeCreate\",i),s&&this.editor.on(\"create\",s),l&&this.editor.on(\"update\",l),c&&this.editor.on(\"selectionUpdate\",c),u&&this.editor.on(\"transaction\",u),d&&this.editor.on(\"focus\",d),p&&this.editor.on(\"blur\",p),h&&this.editor.on(\"destroy\",h)})}};ja.resolve=wf,ja.sort=Pa,ja.flatten=Da;var FT={};hf(FT,{ClipboardTextSerializer:()=>Db,Commands:()=>Pb,Delete:()=>Bb,Drop:()=>zb,Editable:()=>$b,FocusEvents:()=>Ub,Keymap:()=>Hb,Paste:()=>jb,Tabindex:()=>Vb,TextDirection:()=>Wb,focusEventsPluginKey:()=>Fb});var pt=class zv extends Tf{constructor(){super(...arguments),this.type=\"extension\"}static create(e={}){const n=typeof e==\"function\"?e():e;return new zv(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e==\"function\"?e():e;return super.extend(n)}},Db=pt.create({name:\"clipboardTextSerializer\",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Ge({key:new rt(\"clipboardTextSerializer\"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,l=Math.min(...s.map(p=>p.$from.pos)),c=Math.max(...s.map(p=>p.$to.pos)),u=Cb(n);return Sb(r,{from:l,to:c},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:u})}}})]}}),Pb=pt.create({name:\"commands\",addCommands(){return{...Vn}}}),Bb=pt.create({name:\"delete\",onUpdate({transaction:t,appendedTransactions:e}){var n,r,i;const s=()=>{var l,c,u,d;if((d=(u=(c=(l=this.editor.options.coreExtensionOptions)==null?void 0:l.delete)==null?void 0:c.filterTransaction)==null?void 0:u.call(c,t))!=null?d:t.getMeta(\"y-sync$\"))return;const p=gb(t.before,[t,...e]);_b(p).forEach(y=>{p.mapping.mapResult(y.oldRange.from).deletedAfter&&p.mapping.mapResult(y.oldRange.to).deletedBefore&&p.before.nodesBetween(y.oldRange.from,y.oldRange.to,(k,w)=>{const v=w+k.nodeSize-2,x=y.oldRange.from<=w&&v<=y.oldRange.to;this.editor.emit(\"delete\",{type:\"node\",node:k,from:w,to:v,newFrom:p.mapping.map(w),newTo:p.mapping.map(v),deletedRange:y.oldRange,newRange:y.newRange,partial:!x,editor:this.editor,transaction:t,combinedTransform:p})})});const g=p.mapping;p.steps.forEach((y,k)=>{var w,v;if(y instanceof jn){const x=g.slice(k).map(y.from,-1),N=g.slice(k).map(y.to),I=g.invert().map(x,-1),P=g.invert().map(N),O=(w=p.doc.nodeAt(x-1))==null?void 0:w.marks.some(U=>U.eq(y.mark)),z=(v=p.doc.nodeAt(N))==null?void 0:v.marks.some(U=>U.eq(y.mark));this.editor.emit(\"delete\",{type:\"mark\",mark:y.mark,from:y.from,to:y.to,deletedRange:{from:I,to:P},newRange:{from:x,to:N},partial:!!(z||O),editor:this.editor,transaction:t,combinedTransform:p})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(s,0):s()}}),zb=pt.create({name:\"drop\",addProseMirrorPlugins(){return[new Ge({key:new rt(\"tiptapDrop\"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit(\"drop\",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),$b=pt.create({name:\"editable\",addProseMirrorPlugins(){return[new Ge({key:new rt(\"editable\"),props:{editable:()=>this.editor.options.editable}})]}}),Fb=new rt(\"focusEvents\"),Ub=pt.create({name:\"focusEvents\",addProseMirrorPlugins(){const{editor:t}=this;return[new Ge({key:Fb,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta(\"focus\",{event:n}).setMeta(\"addToHistory\",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta(\"blur\",{event:n}).setMeta(\"addToHistory\",!1);return e.dispatch(r),!1}}}})]}}),Hb=pt.create({name:\"keymap\",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:l})=>[()=>l.undoInputRule(),()=>l.command(({tr:c})=>{const{selection:u,doc:d}=c,{empty:p,$anchor:h}=u,{pos:g,parent:y}=h,k=h.parent.isTextblock&&g>0?c.doc.resolve(g-1):h,w=k.parent.type.spec.isolating,v=h.pos-h.parentOffset,x=w&&k.parent.childCount===1?v===h.pos:Se.atStart(d).from===g;return!p||!y.type.isTextblock||y.textContent.length||!x||x&&h.parent.type.name===\"paragraph\"?!1:l.clearNodes()}),()=>l.deleteSelection(),()=>l.joinBackward(),()=>l.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:l})=>[()=>l.deleteSelection(),()=>l.deleteCurrentNode(),()=>l.joinForward(),()=>l.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:l})=>[()=>l.newlineInCode(),()=>l.createParagraphNear(),()=>l.liftEmptyBlock(),()=>l.splitBlock()]),\"Mod-Enter\":()=>this.editor.commands.exitCode(),Backspace:t,\"Mod-Backspace\":t,\"Shift-Backspace\":t,Delete:e,\"Mod-Delete\":e,\"Mod-a\":()=>this.editor.commands.selectAll()},i={...r},s={...r,\"Ctrl-h\":t,\"Alt-Backspace\":t,\"Ctrl-d\":e,\"Ctrl-Alt-Backspace\":e,\"Alt-Delete\":e,\"Alt-d\":e,\"Ctrl-a\":()=>this.editor.commands.selectTextblockStart(),\"Ctrl-e\":()=>this.editor.commands.selectTextblockEnd()};return Go()||pb()?s:i},addProseMirrorPlugins(){return[new Ge({key:new rt(\"clearDocument\"),appendTransaction:(t,e,n)=>{if(t.some(w=>w.getMeta(\"composition\")))return;const r=t.some(w=>w.docChanged)&&!e.doc.eq(n.doc),i=t.some(w=>w.getMeta(\"preventClearDocument\"));if(!r||i)return;const{empty:s,from:l,to:c}=e.selection,u=Se.atStart(e.doc).from,d=Se.atEnd(e.doc).to;if(s||!(l===u&&c===d)||!$a(n.doc))return;const g=n.tr,y=Ra({state:n,transaction:g}),{commands:k}=new Oa({editor:this.editor,state:y});if(k.clearNodes(),!!g.steps.length)return g}})]}}),jb=pt.create({name:\"paste\",addProseMirrorPlugins(){return[new Ge({key:new rt(\"tiptapPaste\"),props:{handlePaste:(t,e,n)=>{this.editor.emit(\"paste\",{editor:this.editor,event:e,slice:n})}}})]}}),Vb=pt.create({name:\"tabindex\",addProseMirrorPlugins(){return[new Ge({key:new rt(\"tabindex\"),props:{attributes:()=>this.editor.isEditable?{tabindex:\"0\"}:{}}})]}}),Wb=pt.create({name:\"textDirection\",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=qs(this.extensions);return[{types:t.filter(e=>e.name!==\"text\").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const n=e.getAttribute(\"dir\");return n&&(n===\"ltr\"||n===\"rtl\"||n===\"auto\")?n:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new Ge({key:new rt(\"textDirection\"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),UT=class sa{constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new sa(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new sa(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new sa(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,l=n.isInline,c=this.pos+r+(s?0:1);if(c<0||c>this.resolvedPos.doc.nodeSize-2)return;const u=this.resolvedPos.doc.resolve(c);if(!i&&!l&&u.depth<=this.depth)return;const d=new sa(u,this.editor,i,i||l?n:null);i&&(d.actualDepth=this.depth+1),e.push(d)}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const s=i.node.attrs,l=Object.keys(n);for(let c=0;c<l.length;c+=1){const u=l[c];if(s[u]!==n[u])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(l=>{r&&i.length>0||(l.node.type.name===e&&s.every(u=>n[u]===l.node.attrs[u])&&i.push(l),!(r&&i.length>0)&&(i=i.concat(l.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},HT=`.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: \"liga\" 0; /* the above doesn't seem to work in Edge */\n}\n\n.ProseMirror [contenteditable=\"false\"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable=\"false\"] [contenteditable=\"true\"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n  width: 0 !important;\n  height: 0 !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  margin: 0;\n}\n\n.ProseMirror-gapcursor:after {\n  content: \"\";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}`;function jT(t,e,n){const r=document.querySelector(\"style[data-tiptap-style]\");if(r!==null)return r;const i=document.createElement(\"style\");return e&&i.setAttribute(\"nonce\",e),i.setAttribute(\"data-tiptap-style\",\"\"),i.innerHTML=t,document.getElementsByTagName(\"head\")[0].appendChild(i),i}var VT=class extends AT{constructor(t={}){super(),this.css=null,this.className=\"tiptap\",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<\"u\"?document.createElement(\"div\"):null,content:\"\",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:lT,createMappablePosition:aT},this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on(\"beforeCreate\",this.options.onBeforeCreate),this.emit(\"beforeCreate\",{editor:this}),this.on(\"mount\",this.options.onMount),this.on(\"unmount\",this.options.onUnmount),this.on(\"contentError\",this.options.onContentError),this.on(\"create\",this.options.onCreate),this.on(\"update\",this.options.onUpdate),this.on(\"selectionUpdate\",this.options.onSelectionUpdate),this.on(\"transaction\",this.options.onTransaction),this.on(\"focus\",this.options.onFocus),this.on(\"blur\",this.options.onBlur),this.on(\"destroy\",this.options.onDestroy),this.on(\"drop\",({event:r,slice:i,moved:s})=>this.options.onDrop(r,i,s)),this.on(\"paste\",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on(\"delete\",this.options.onDelete);const e=this.createDoc(),n=db(e,this.options.autofocus);this.editorState=$s.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>\"u\")throw new Error(\"[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.\");this.createView(t),this.emit(\"mount\",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit(\"create\",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t!=null&&t.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove==\"function\"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn(\"Failed to remove CSS element:\",t)}this.css=null,this.emit(\"unmount\",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<\"u\"&&(this.css=jT(HT,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit(\"update\",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e===\"state\")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=bb(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(i=>{const s=typeof i==\"string\"?`${i}$`:i.key;n=n.filter(l=>!l.key.startsWith(s))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[$b,Db.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),Pb,Ub,Hb,Vb,zb,jb,Bb,Wb.configure({direction:this.options.textDirection})].filter(i=>typeof this.options.enableCoreExtensions==\"object\"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>[\"extension\",\"node\",\"mark\"].includes(i==null?void 0:i.type));this.extensionManager=new ja(r,this)}createCommandManager(){this.commandManager=new Oa({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=bf(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||![\"[tiptap error]: Invalid JSON content\",\"[tiptap error]: Invalid HTML content\"].includes(e.message))throw e;this.emit(\"contentError\",{editor:this,error:e,disableCollaboration:()=>{\"collaboration\"in this.storage&&typeof this.storage.collaboration==\"object\"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!==\"collaboration\"),this.createExtensionManager()}}),t=bf(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){const{editorProps:e,enableExtensionDispatchTransaction:n}=this.options,r=e.dispatchTransaction||this.dispatchTransaction.bind(this),i=n?this.extensionManager.dispatchTransaction(r):r;this.editorView=new nb(t,{...e,attributes:{role:\"textbox\",...e==null?void 0:e.attributes},dispatchTransaction:i,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const s=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(s),this.prependClass(),this.injectCSS();const l=this.view.dom;l.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(d=>{var p;return(p=this.capturedTransaction)==null?void 0:p.step(d)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),i=n.includes(t),s=this.state;if(this.emit(\"beforeTransaction\",{editor:this,transaction:t,nextState:e}),!i)return;this.view.updateState(e),this.emit(\"transaction\",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit(\"selectionUpdate\",{editor:this,transaction:t});const l=n.findLast(d=>d.getMeta(\"focus\")||d.getMeta(\"blur\")),c=l==null?void 0:l.getMeta(\"focus\"),u=l==null?void 0:l.getMeta(\"blur\");c&&this.emit(\"focus\",{editor:this,event:c.event,transaction:l}),u&&this.emit(\"blur\",{editor:this,event:u.event,transaction:l}),!(t.getMeta(\"preventUpdate\")||!n.some(d=>d.docChanged)||s.doc.eq(e.doc))&&this.emit(\"update\",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return Tb(this.state,t)}isActive(t,e){const n=typeof t==\"string\"?t:null,r=typeof t==\"string\"?e:t;return Nb(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Ef(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`\n\n`,textSerializers:n={}}=t||{};return XC(this.state.doc,{blockSeparator:e,textSerializers:{...Cb(this.schema),...n}})}get isEmpty(){return $a(this.state.doc)}destroy(){this.emit(\"destroy\"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new UT(e,this)}get $doc(){return this.$pos(0)}};function Gs(t){return new Qo({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Ye(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,l=r[r.length-1],c=r[0];if(l){const u=c.search(/\\S/),d=n.from+c.indexOf(l),p=d+l.length;if(vf(n.from,n.to,e.doc).filter(y=>y.mark.type.excluded.find(w=>w===t.type&&w!==y.mark.type)).filter(y=>y.to>d).length)return null;p<n.to&&s.delete(p,n.to),d>n.from&&s.delete(n.from+u,d);const g=n.from+u+l.length;s.addMark(n.from+u,g,t.type.create(i||{})),s.removeStoredMark(t.type)}},undoable:t.undoable})}function WT(t){return new Qo({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Ye(t.getAttributes,void 0,r)||{},{tr:s}=e,l=n.from;let c=n.to;const u=t.type.create(i);if(r[1]){const d=r[0].lastIndexOf(r[1]);let p=l+d;p>c?p=c:c=p+r[1].length;const h=r[0][r[0].length-1];s.insertText(h,l+r[0].length-1),s.replaceWith(p,c,u)}else if(r[0]){const d=t.type.isInline?l:l-1;s.insert(d,t.type.create(i)).delete(s.mapping.map(l),s.mapping.map(c))}s.scrollIntoView()},undoable:t.undoable})}function _f(t){return new Qo({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=Ye(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)},undoable:t.undoable})}function Ys(t){return new Qo({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const s=Ye(t.getAttributes,void 0,r)||{},l=e.tr.delete(n.from,n.to),u=l.doc.resolve(n.from).blockRange(),d=u&&_d(u,t.type,s);if(!d)return null;if(l.wrap(u,d),t.keepMarks&&t.editor){const{selection:h,storedMarks:g}=e,{splittableMarks:y}=t.editor.extensionManager,k=g||h.$to.parentOffset&&h.$from.marks();if(k){const w=k.filter(v=>y.includes(v.type.name));l.ensureMarks(w)}}if(t.keepAttributes){const h=t.type.name===\"bulletList\"||t.type.name===\"orderedList\"?\"listItem\":\"taskList\";i().updateAttributes(h,s).run()}const p=l.doc.resolve(n.from-1).nodeBefore;p&&p.type===t.type&&Gr(l.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,p))&&l.join(n.from-1)},undoable:t.undoable})}function KT(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof we){const s=r.index();return r.parent.canReplaceWith(s,s+1,e)}let i=r.depth;for(;i>=0;){const s=r.index(i);if(r.node(i).contentMatchAt(s).matchType(e))return!0;i-=1}return!1}var qT={};hf(qT,{createAtomBlockMarkdownSpec:()=>GT,createBlockMarkdownSpec:()=>Va,createInlineMarkdownSpec:()=>QT,parseAttributes:()=>Nf,parseIndentedBlocks:()=>Af,renderNestedMarkdownContent:()=>Wa,serializeAttributes:()=>Mf});function Nf(t){if(!(t!=null&&t.trim()))return{};const e={},n=[],r=t.replace(/[\"']([^\"']*)[\"']/g,d=>(n.push(d),`__QUOTED_${n.length-1}__`)),i=r.match(/(?:^|\\s)\\.([a-zA-Z][\\w-]*)/g);if(i){const d=i.map(p=>p.trim().slice(1));e.class=d.join(\" \")}const s=r.match(/(?:^|\\s)#([a-zA-Z][\\w-]*)/);s&&(e.id=s[1]);const l=/([a-zA-Z][\\w-]*)\\s*=\\s*(__QUOTED_\\d+__)/g;Array.from(r.matchAll(l)).forEach(([,d,p])=>{var h;const g=parseInt(((h=p.match(/__QUOTED_(\\d+)__/))==null?void 0:h[1])||\"0\",10),y=n[g];y&&(e[d]=y.slice(1,-1))});const u=r.replace(/(?:^|\\s)\\.([a-zA-Z][\\w-]*)/g,\"\").replace(/(?:^|\\s)#([a-zA-Z][\\w-]*)/g,\"\").replace(/([a-zA-Z][\\w-]*)\\s*=\\s*__QUOTED_\\d+__/g,\"\").trim();return u&&u.split(/\\s+/).filter(Boolean).forEach(p=>{p.match(/^[a-zA-Z][\\w-]*$/)&&(e[p]=!0)}),e}function Mf(t){if(!t||Object.keys(t).length===0)return\"\";const e=[];return t.class&&String(t.class).split(/\\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n===\"class\"||n===\"id\"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}=\"${String(r)}\"`))}),e.join(\" \")}function GT(t){const{nodeName:e,name:n,parseAttributes:r=Nf,serializeAttributes:i=Mf,defaultAttributes:s={},requiredAttributes:l=[],allowedAttributes:c}=t,u=n||e,d=p=>{if(!c)return p;const h={};return c.forEach(g=>{g in p&&(h[g]=p[g])}),h};return{parseMarkdown:(p,h)=>{const g={...s,...p.attributes};return h.createNode(e,g,[])},markdownTokenizer:{name:e,level:\"block\",start(p){var h;const g=new RegExp(`^:::${u}(?:\\\\s|$)`,\"m\"),y=(h=p.match(g))==null?void 0:h.index;return y!==void 0?y:-1},tokenize(p,h,g){const y=new RegExp(`^:::${u}(?:\\\\s+\\\\{([^}]*)\\\\})?\\\\s*:::(?:\\\\n|$)`),k=p.match(y);if(!k)return;const w=k[1]||\"\",v=r(w);if(!l.find(N=>!(N in v)))return{type:e,raw:k[0],attributes:v}}},renderMarkdown:p=>{const h=d(p.attrs||{}),g=i(h),y=g?` {${g}}`:\"\";return`:::${u}${y} :::`}}}function Va(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=Nf,serializeAttributes:s=Mf,defaultAttributes:l={},content:c=\"block\",allowedAttributes:u}=t,d=n||e,p=h=>{if(!u)return h;const g={};return u.forEach(y=>{y in h&&(g[y]=h[y])}),g};return{parseMarkdown:(h,g)=>{let y;if(r){const w=r(h);y=typeof w==\"string\"?[{type:\"text\",text:w}]:w}else c===\"block\"?y=g.parseChildren(h.tokens||[]):y=g.parseInline(h.tokens||[]);const k={...l,...h.attributes};return g.createNode(e,k,y)},markdownTokenizer:{name:e,level:\"block\",start(h){var g;const y=new RegExp(`^:::${d}`,\"m\"),k=(g=h.match(y))==null?void 0:g.index;return k!==void 0?k:-1},tokenize(h,g,y){var k;const w=new RegExp(`^:::${d}(?:\\\\s+\\\\{([^}]*)\\\\})?\\\\s*\\\\n`),v=h.match(w);if(!v)return;const[x,N=\"\"]=v,I=i(N);let P=1;const O=x.length;let z=\"\";const U=/^:::([\\w-]*)(\\s.*)?/gm,J=h.slice(O);for(U.lastIndex=0;;){const ne=U.exec(J);if(ne===null)break;const ie=ne.index,fe=ne[1];if(!((k=ne[2])!=null&&k.endsWith(\":::\"))){if(fe)P+=1;else if(P-=1,P===0){const Ne=J.slice(0,ie);z=Ne.trim();const se=h.slice(0,O+ie+ne[0].length);let re=[];if(z)if(c===\"block\")for(re=y.blockTokens(Ne),re.forEach(Ee=>{Ee.text&&(!Ee.tokens||Ee.tokens.length===0)&&(Ee.tokens=y.inlineTokens(Ee.text))});re.length>0;){const Ee=re[re.length-1];if(Ee.type===\"paragraph\"&&(!Ee.text||Ee.text.trim()===\"\"))re.pop();else break}else re=y.inlineTokens(z);return{type:e,raw:se,attributes:I,content:z,tokens:re}}}}}},renderMarkdown:(h,g)=>{const y=p(h.attrs||{}),k=s(y),w=k?` {${k}}`:\"\",v=g.renderChildren(h.content||[],`\n\n`);return`:::${d}${w}\n\n${v}\n\n:::`}}}function YT(t){if(!t.trim())return{};const e={},n=/(\\w+)=(?:\"([^\"]*)\"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,i,s,l]=r;e[i]=s||l,r=n.exec(t)}return e}function JT(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}=\"${n}\"`).join(\" \")}function QT(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=YT,serializeAttributes:s=JT,defaultAttributes:l={},selfClosing:c=!1,allowedAttributes:u}=t,d=n||e,p=g=>{if(!u)return g;const y={};return u.forEach(k=>{const w=typeof k==\"string\"?k:k.name,v=typeof k==\"string\"?void 0:k.skipIfDefault;if(w in g){const x=g[w];if(v!==void 0&&x===v)return;y[w]=x}}),y},h=d.replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\");return{parseMarkdown:(g,y)=>{const k={...l,...g.attributes};if(c)return y.createNode(e,k);const w=r?r(g):g.content||\"\";return w?y.createNode(e,k,[y.createTextNode(w)]):y.createNode(e,k,[])},markdownTokenizer:{name:e,level:\"inline\",start(g){const y=c?new RegExp(`\\\\[${h}\\\\s*[^\\\\]]*\\\\]`):new RegExp(`\\\\[${h}\\\\s*[^\\\\]]*\\\\][\\\\s\\\\S]*?\\\\[\\\\/${h}\\\\]`),k=g.match(y),w=k==null?void 0:k.index;return w!==void 0?w:-1},tokenize(g,y,k){const w=c?new RegExp(`^\\\\[${h}\\\\s*([^\\\\]]*)\\\\]`):new RegExp(`^\\\\[${h}\\\\s*([^\\\\]]*)\\\\]([\\\\s\\\\S]*?)\\\\[\\\\/${h}\\\\]`),v=g.match(w);if(!v)return;let x=\"\",N=\"\";if(c){const[,P]=v;N=P}else{const[,P,O]=v;N=P,x=O||\"\"}const I=i(N.trim());return{type:e,raw:v[0],content:x.trim(),attributes:I}}},renderMarkdown:g=>{let y=\"\";r?y=r(g):g.content&&g.content.length>0&&(y=g.content.filter(x=>x.type===\"text\").map(x=>x.text).join(\"\"));const k=p(g.attrs||{}),w=s(k),v=w?` ${w}`:\"\";return c?`[${d}${v}]`:`[${d}${v}]${y}[/${d}]`}}}function Af(t,e,n){var r,i,s,l;const c=t.split(`\n`),u=[];let d=\"\",p=0;const h=e.baseIndentSize||2;for(;p<c.length;){const g=c[p],y=g.match(e.itemPattern);if(!y){if(u.length>0)break;if(g.trim()===\"\"){p+=1,d=`${d}${g}\n`;continue}else return}const k=e.extractItemData(y),{indentLevel:w,mainContent:v}=k;d=`${d}${g}\n`;const x=[v];for(p+=1;p<c.length;){const O=c[p];if(O.trim()===\"\"){const U=c.slice(p+1).findIndex(ie=>ie.trim()!==\"\");if(U===-1)break;if((((i=(r=c[p+1+U].match(/^(\\s*)/))==null?void 0:r[1])==null?void 0:i.length)||0)>w){x.push(O),d=`${d}${O}\n`,p+=1;continue}else break}if((((l=(s=O.match(/^(\\s*)/))==null?void 0:s[1])==null?void 0:l.length)||0)>w)x.push(O),d=`${d}${O}\n`,p+=1;else break}let N;const I=x.slice(1);if(I.length>0){const O=I.map(z=>z.slice(w+h)).join(`\n`);O.trim()&&(e.customNestedParser?N=e.customNestedParser(O):N=n.blockTokens(O))}const P=e.createToken(k,N);u.push(P)}if(u.length!==0)return{items:u,raw:d}}function Wa(t,e,n,r){if(!t||!Array.isArray(t.content))return\"\";const i=typeof n==\"function\"?n(r):n,[s,...l]=t.content,c=e.renderChildren([s]),u=[`${i}${c}`];return l&&l.length>0&&l.forEach(d=>{const p=e.renderChildren([d]);if(p){const h=p.split(`\n`).map(g=>g?e.indent(g):\"\").join(`\n`);u.push(h)}}),u.join(`\n`)}function ZT(t,e,n={}){const{state:r}=e,{doc:i,tr:s}=r,l=t;i.descendants((c,u)=>{const d=s.mapping.map(u),p=s.mapping.map(u)+c.nodeSize;let h=null;if(c.marks.forEach(y=>{if(y!==l)return!1;h=y}),!h)return;let g=!1;if(Object.keys(n).forEach(y=>{n[y]!==h.attrs[y]&&(g=!0)}),g){const y=t.type.create({...t.attrs,...n});s.removeMark(d,p,t.type),s.addMark(d,p,y)}}),s.docChanged&&e.view.dispatch(s)}var vt=class $v extends Tf{constructor(){super(...arguments),this.type=\"node\"}static create(e={}){const n=typeof e==\"function\"?e():e;return new $v(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e==\"function\"?e():e;return super.extend(n)}},XT=class{constructor(t,e,n){this.isDragging=!1,this.component=t,this.editor=e.editor,this.options={stopEvent:null,ignoreMutation:null,...n},this.extension=e.extension,this.node=e.node,this.decorations=e.decorations,this.innerDecorations=e.innerDecorations,this.view=e.view,this.HTMLAttributes=e.HTMLAttributes,this.getPos=e.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(t){var e,n,r,i,s,l,c;const{view:u}=this.editor,d=t.target,p=d.nodeType===3?(e=d.parentElement)==null?void 0:e.closest(\"[data-drag-handle]\"):d.closest(\"[data-drag-handle]\");if(!this.dom||(n=this.contentDOM)!=null&&n.contains(d)||!p)return;let h=0,g=0;if(this.dom!==p){const N=this.dom.getBoundingClientRect(),I=p.getBoundingClientRect(),P=(i=t.offsetX)!=null?i:(r=t.nativeEvent)==null?void 0:r.offsetX,O=(l=t.offsetY)!=null?l:(s=t.nativeEvent)==null?void 0:s.offsetY;h=I.x-N.x+P,g=I.y-N.y+O}const y=this.dom.cloneNode(!0);try{const N=this.dom.getBoundingClientRect();y.style.width=`${Math.round(N.width)}px`,y.style.height=`${Math.round(N.height)}px`,y.style.boxSizing=\"border-box\",y.style.pointerEvents=\"none\"}catch{}let k=null;try{k=document.createElement(\"div\"),k.style.position=\"absolute\",k.style.top=\"-9999px\",k.style.left=\"-9999px\",k.style.pointerEvents=\"none\",k.appendChild(y),document.body.appendChild(k),(c=t.dataTransfer)==null||c.setDragImage(y,h,g)}finally{k&&setTimeout(()=>{try{k==null||k.remove()}catch{}},0)}const w=this.getPos();if(typeof w!=\"number\")return;const v=we.create(u.state.doc,w),x=u.state.tr.setSelection(v);u.dispatch(x)}stopEvent(t){var e;if(!this.dom)return!1;if(typeof this.options.stopEvent==\"function\")return this.options.stopEvent({event:t});const n=t.target;if(!(this.dom.contains(n)&&!((e=this.contentDOM)!=null&&e.contains(n))))return!1;const i=t.type.startsWith(\"drag\"),s=t.type===\"drop\";if(([\"INPUT\",\"BUTTON\",\"SELECT\",\"TEXTAREA\"].includes(n.tagName)||n.isContentEditable)&&!s&&!i)return!0;const{isEditable:c}=this.editor,{isDragging:u}=this,d=!!this.node.type.spec.draggable,p=we.isSelectable(this.node),h=t.type===\"copy\",g=t.type===\"paste\",y=t.type===\"cut\",k=t.type===\"mousedown\";if(!d&&p&&i&&t.target===this.dom&&t.preventDefault(),d&&i&&!u&&t.target===this.dom)return t.preventDefault(),!1;if(d&&c&&!u&&k){const w=n.closest(\"[data-drag-handle]\");w&&(this.dom===w||this.dom.contains(w))&&(this.isDragging=!0,document.addEventListener(\"dragend\",()=>{this.isDragging=!1},{once:!0}),document.addEventListener(\"drop\",()=>{this.isDragging=!1},{once:!0}),document.addEventListener(\"mouseup\",()=>{this.isDragging=!1},{once:!0}))}return!(u||s||h||g||y||k&&p)}ignoreMutation(t){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation==\"function\"?this.options.ignoreMutation({mutation:t}):this.node.isLeaf||this.node.isAtom?!0:t.type===\"selection\"||this.dom.contains(t.target)&&t.type===\"childList\"&&(Go()||yf())&&this.editor.isFocused&&[...Array.from(t.addedNodes),...Array.from(t.removedNodes)].every(n=>n.isContentEditable)?!1:this.contentDOM===t.target&&t.type===\"attributes\"?!0:!this.contentDOM.contains(t.target)}updateAttributes(t){this.editor.commands.command(({tr:e})=>{const n=this.getPos();return typeof n!=\"number\"?!1:(e.setNodeMarkup(n,void 0,{...this.node.attrs,...t}),!0)})}deleteNode(){const t=this.getPos();if(typeof t!=\"number\")return;const e=t+this.node.nodeSize;this.editor.commands.deleteRange({from:t,to:e})}};function ts(t){return new DT({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const s=Ye(t.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:l}=e,c=r[r.length-1],u=r[0];let d=n.to;if(c){const p=u.search(/\\S/),h=n.from+u.indexOf(c),g=h+c.length;if(vf(n.from,n.to,e.doc).filter(k=>k.mark.type.excluded.find(v=>v===t.type&&v!==k.mark.type)).filter(k=>k.to>h).length)return null;g<n.to&&l.delete(g,n.to),h>n.from&&l.delete(n.from+p,h),d=n.from+p+c.length,l.addMark(n.from+p,d,t.type.create(s||{})),l.removeStoredMark(t.type)}}})}const{getOwnPropertyNames:e_,getOwnPropertySymbols:t_}=Object,{hasOwnProperty:n_}=Object.prototype;function Rf(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function Ka(t){return function(n,r,i){if(!n||!r||typeof n!=\"object\"||typeof r!=\"object\")return t(n,r,i);const{cache:s}=i,l=s.get(n),c=s.get(r);if(l&&c)return l===r&&c===n;s.set(n,r),s.set(r,n);const u=t(n,r,i);return s.delete(n),s.delete(r),u}}function r_(t){return t!=null?t[Symbol.toStringTag]:void 0}function Kb(t){return e_(t).concat(t_(t))}const i_=Object.hasOwn||((t,e)=>n_.call(t,e));function ns(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const s_=\"__v\",o_=\"__o\",l_=\"_owner\",{getOwnPropertyDescriptor:qb,keys:Gb}=Object;function a_(t,e){return t.byteLength===e.byteLength&&qa(new Uint8Array(t),new Uint8Array(e))}function c_(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function u_(t,e){return t.byteLength===e.byteLength&&qa(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function d_(t,e){return ns(t.getTime(),e.getTime())}function f_(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function p_(t,e){return t===e}function Yb(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),s=t.entries();let l,c,u=0;for(;(l=s.next())&&!l.done;){const d=e.entries();let p=!1,h=0;for(;(c=d.next())&&!c.done;){if(i[h]){h++;continue}const g=l.value,y=c.value;if(n.equals(g[0],y[0],u,h,t,e,n)&&n.equals(g[1],y[1],g[0],y[0],t,e,n)){p=i[h]=!0;break}h++}if(!p)return!1;u++}return!0}const h_=ns;function m_(t,e,n){const r=Gb(t);let i=r.length;if(Gb(e).length!==i)return!1;for(;i-- >0;)if(!Qb(t,e,n,r[i]))return!1;return!0}function Zo(t,e,n){const r=Kb(t);let i=r.length;if(Kb(e).length!==i)return!1;let s,l,c;for(;i-- >0;)if(s=r[i],!Qb(t,e,n,s)||(l=qb(t,s),c=qb(e,s),(l||c)&&(!l||!c||l.configurable!==c.configurable||l.enumerable!==c.enumerable||l.writable!==c.writable)))return!1;return!0}function g_(t,e){return ns(t.valueOf(),e.valueOf())}function y_(t,e){return t.source===e.source&&t.flags===e.flags}function Jb(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),s=t.values();let l,c;for(;(l=s.next())&&!l.done;){const u=e.values();let d=!1,p=0;for(;(c=u.next())&&!c.done;){if(!i[p]&&n.equals(l.value,c.value,l.value,c.value,t,e,n)){d=i[p]=!0;break}p++}if(!d)return!1}return!0}function qa(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function b_(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function Qb(t,e,n,r){return(r===l_||r===o_||r===s_)&&(t.$$typeof||e.$$typeof)?!0:i_(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const k_=\"[object ArrayBuffer]\",E_=\"[object Arguments]\",w_=\"[object Boolean]\",v_=\"[object DataView]\",x_=\"[object Date]\",S_=\"[object Error]\",C_=\"[object Map]\",T_=\"[object Number]\",__=\"[object Object]\",N_=\"[object RegExp]\",M_=\"[object Set]\",A_=\"[object String]\",R_={\"[object Int8Array]\":!0,\"[object Uint8Array]\":!0,\"[object Uint8ClampedArray]\":!0,\"[object Int16Array]\":!0,\"[object Uint16Array]\":!0,\"[object Int32Array]\":!0,\"[object Uint32Array]\":!0,\"[object Float16Array]\":!0,\"[object Float32Array]\":!0,\"[object Float64Array]\":!0,\"[object BigInt64Array]\":!0,\"[object BigUint64Array]\":!0},O_=\"[object URL]\",I_=Object.prototype.toString;function L_({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:s,areMapsEqual:l,areNumbersEqual:c,areObjectsEqual:u,arePrimitiveWrappersEqual:d,areRegExpsEqual:p,areSetsEqual:h,areTypedArraysEqual:g,areUrlsEqual:y,unknownTagComparators:k}){return function(v,x,N){if(v===x)return!0;if(v==null||x==null)return!1;const I=typeof v;if(I!==typeof x)return!1;if(I!==\"object\")return I===\"number\"?c(v,x,N):I===\"function\"?s(v,x,N):!1;const P=v.constructor;if(P!==x.constructor)return!1;if(P===Object)return u(v,x,N);if(Array.isArray(v))return e(v,x,N);if(P===Date)return r(v,x,N);if(P===RegExp)return p(v,x,N);if(P===Map)return l(v,x,N);if(P===Set)return h(v,x,N);const O=I_.call(v);if(O===x_)return r(v,x,N);if(O===N_)return p(v,x,N);if(O===C_)return l(v,x,N);if(O===M_)return h(v,x,N);if(O===__)return typeof v.then!=\"function\"&&typeof x.then!=\"function\"&&u(v,x,N);if(O===O_)return y(v,x,N);if(O===S_)return i(v,x,N);if(O===E_)return u(v,x,N);if(R_[O])return g(v,x,N);if(O===k_)return t(v,x,N);if(O===v_)return n(v,x,N);if(O===w_||O===T_||O===A_)return d(v,x,N);if(k){let z=k[O];if(!z){const U=r_(v);U&&(z=k[U])}if(z)return z(v,x,N)}return!1}}function D_({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:a_,areArraysEqual:n?Zo:c_,areDataViewsEqual:u_,areDatesEqual:d_,areErrorsEqual:f_,areFunctionsEqual:p_,areMapsEqual:n?Rf(Yb,Zo):Yb,areNumbersEqual:h_,areObjectsEqual:n?Zo:m_,arePrimitiveWrappersEqual:g_,areRegExpsEqual:y_,areSetsEqual:n?Rf(Jb,Zo):Jb,areTypedArraysEqual:n?Rf(qa,Zo):qa,areUrlsEqual:b_,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Ka(r.areArraysEqual),s=Ka(r.areMapsEqual),l=Ka(r.areObjectsEqual),c=Ka(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:l,areSetsEqual:c})}return r}function P_(t){return function(e,n,r,i,s,l,c){return t(e,n,c)}}function B_({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(c,u){const{cache:d=t?new WeakMap:void 0,meta:p}=n();return e(c,u,{cache:d,equals:r,meta:p,strict:i})};if(t)return function(c,u){return e(c,u,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const s={cache:void 0,equals:r,meta:void 0,strict:i};return function(c,u){return e(c,u,s)}}const z_=oi();oi({strict:!0}),oi({circular:!0}),oi({circular:!0,strict:!0}),oi({createInternalComparator:()=>ns}),oi({strict:!0,createInternalComparator:()=>ns}),oi({circular:!0,createInternalComparator:()=>ns}),oi({circular:!0,createInternalComparator:()=>ns,strict:!0});function oi(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,s=D_(t),l=L_(s),c=n?n(l):P_(l);return B_({circular:e,comparator:l,createState:r,equals:c,strict:i})}var Of={exports:{}},If={};/**\n * @license React\n * use-sync-external-store-shim/with-selector.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var Zb;function $_(){if(Zb)return If;Zb=1;var t=Mo(),e=Dm();function n(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var r=typeof Object.is==\"function\"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,c=t.useMemo,u=t.useDebugValue;return If.useSyncExternalStoreWithSelector=function(d,p,h,g,y){var k=s(null);if(k.current===null){var w={hasValue:!1,value:null};k.current=w}else w=k.current;k=c(function(){function x(z){if(!N){if(N=!0,I=z,z=g(z),y!==void 0&&w.hasValue){var U=w.value;if(y(U,z))return P=U}return P=z}if(U=P,r(I,z))return U;var J=g(z);return y!==void 0&&y(U,J)?(I=z,U):(I=z,P=J)}var N=!1,I,P,O=h===void 0?null:h;return[function(){return x(p())},O===null?void 0:function(){return x(O())}]},[p,h,g,y]);var v=i(d,k[0],k[1]);return l(function(){w.hasValue=!0,w.value=v},[v]),u(v),v},If}var Xb;function F_(){return Xb||(Xb=1,Of.exports=$_()),Of.exports}var U_=F_(),H_=(...t)=>e=>{t.forEach(n=>{typeof n==\"function\"?n(e):n&&(n.current=e)})},j_=({contentComponent:t})=>{const e=Pm.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return T.jsx(T.Fragment,{children:Object.values(e)})};function V_(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:Jv.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}var W_=class extends $i.Component{constructor(t){var e;super(t),this.editorContentRef=$i.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var t;const e=this.props.editor;if(e&&!e.isDestroyed&&((t=e.view.dom)!=null&&t.parentNode)){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n}),e.contentComponent=V_(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.parentNode))return;const n=document.createElement(\"div\");n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return T.jsxs(T.Fragment,{children:[T.jsx(\"div\",{ref:H_(e,this.editorContentRef),...n}),(t==null?void 0:t.contentComponent)&&T.jsx(j_,{contentComponent:t.contentComponent})]})}},K_=de.forwardRef((t,e)=>{const n=$i.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return $i.createElement(W_,{key:n,innerRef:e,...t})}),e0=$i.memo(K_),q_=typeof window<\"u\"?de.useLayoutEffect:de.useEffect,G_=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}";</script>
